function ZA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pv={exports:{}},jp={},Rv={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function eI(){if(mS)return Rt;mS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function P(q,re,_e){this.props=q,this.context=re,this.refs=k,this.updater=_e||S}P.prototype.isReactComponent={},P.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=P.prototype;function j(q,re,_e){this.props=q,this.context=re,this.refs=k,this.updater=_e||S}var D=j.prototype=new M;D.constructor=j,C(D,P.prototype),D.isPureReactComponent=!0;var V=Array.isArray,G=Object.prototype.hasOwnProperty,J={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function R(q,re,_e){var ke,Je={},Ue=null,xe=null;if(re!=null)for(ke in re.ref!==void 0&&(xe=re.ref),re.key!==void 0&&(Ue=""+re.key),re)G.call(re,ke)&&!B.hasOwnProperty(ke)&&(Je[ke]=re[ke]);var Ce=arguments.length-2;if(Ce===1)Je.children=_e;else if(1<Ce){for(var je=Array(Ce),Xe=0;Xe<Ce;Xe++)je[Xe]=arguments[Xe+2];Je.children=je}if(q&&q.defaultProps)for(ke in Ce=q.defaultProps,Ce)Je[ke]===void 0&&(Je[ke]=Ce[ke]);return{$$typeof:t,type:q,key:Ue,ref:xe,props:Je,_owner:J.current}}function F(q,re){return{$$typeof:t,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function H(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(_e){return re[_e]})}var $=/\/+/g;function U(q,re){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):re.toString(36)}function ie(q,re,_e,ke,Je){var Ue=typeof q;(Ue==="undefined"||Ue==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(Ue){case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case t:case e:xe=!0}}if(xe)return xe=q,Je=Je(xe),q=ke===""?"."+U(xe,0):ke,V(Je)?(_e="",q!=null&&(_e=q.replace($,"$&/")+"/"),ie(Je,re,_e,"",function(Xe){return Xe})):Je!=null&&(z(Je)&&(Je=F(Je,_e+(!Je.key||xe&&xe.key===Je.key?"":(""+Je.key).replace($,"$&/")+"/")+q)),re.push(Je)),1;if(xe=0,ke=ke===""?".":ke+":",V(q))for(var Ce=0;Ce<q.length;Ce++){Ue=q[Ce];var je=ke+U(Ue,Ce);xe+=ie(Ue,re,_e,je,Je)}else if(je=v(q),typeof je=="function")for(q=je.call(q),Ce=0;!(Ue=q.next()).done;)Ue=Ue.value,je=ke+U(Ue,Ce++),xe+=ie(Ue,re,_e,je,Je);else if(Ue==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return xe}function de(q,re,_e){if(q==null)return q;var ke=[],Je=0;return ie(q,ke,"","",function(Ue){return re.call(_e,Ue,Je++)}),ke}function ue(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(_e){(q._status===0||q._status===-1)&&(q._status=1,q._result=_e)},function(_e){(q._status===0||q._status===-1)&&(q._status=2,q._result=_e)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var ne={current:null},K={transition:null},te={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:K,ReactCurrentOwner:J};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:de,forEach:function(q,re,_e){de(q,function(){re.apply(this,arguments)},_e)},count:function(q){var re=0;return de(q,function(){re++}),re},toArray:function(q){return de(q,function(re){return re})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=s,Rt.PureComponent=j,Rt.StrictMode=r,Rt.Suspense=d,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Rt.act=Q,Rt.cloneElement=function(q,re,_e){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ke=C({},q.props),Je=q.key,Ue=q.ref,xe=q._owner;if(re!=null){if(re.ref!==void 0&&(Ue=re.ref,xe=J.current),re.key!==void 0&&(Je=""+re.key),q.type&&q.type.defaultProps)var Ce=q.type.defaultProps;for(je in re)G.call(re,je)&&!B.hasOwnProperty(je)&&(ke[je]=re[je]===void 0&&Ce!==void 0?Ce[je]:re[je])}var je=arguments.length-2;if(je===1)ke.children=_e;else if(1<je){Ce=Array(je);for(var Xe=0;Xe<je;Xe++)Ce[Xe]=arguments[Xe+2];ke.children=Ce}return{$$typeof:t,type:q.type,key:Je,ref:Ue,props:ke,_owner:xe}},Rt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Rt.createElement=R,Rt.createFactory=function(q){var re=R.bind(null,q);return re.type=q,re},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(q){return{$$typeof:l,render:q}},Rt.isValidElement=z,Rt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ue}},Rt.memo=function(q,re){return{$$typeof:p,type:q,compare:re===void 0?null:re}},Rt.startTransition=function(q){var re=K.transition;K.transition={};try{q()}finally{K.transition=re}},Rt.unstable_act=Q,Rt.useCallback=function(q,re){return ne.current.useCallback(q,re)},Rt.useContext=function(q){return ne.current.useContext(q)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(q){return ne.current.useDeferredValue(q)},Rt.useEffect=function(q,re){return ne.current.useEffect(q,re)},Rt.useId=function(){return ne.current.useId()},Rt.useImperativeHandle=function(q,re,_e){return ne.current.useImperativeHandle(q,re,_e)},Rt.useInsertionEffect=function(q,re){return ne.current.useInsertionEffect(q,re)},Rt.useLayoutEffect=function(q,re){return ne.current.useLayoutEffect(q,re)},Rt.useMemo=function(q,re){return ne.current.useMemo(q,re)},Rt.useReducer=function(q,re,_e){return ne.current.useReducer(q,re,_e)},Rt.useRef=function(q){return ne.current.useRef(q)},Rt.useState=function(q){return ne.current.useState(q)},Rt.useSyncExternalStore=function(q,re,_e){return ne.current.useSyncExternalStore(q,re,_e)},Rt.useTransition=function(){return ne.current.useTransition()},Rt.version="18.3.1",Rt}var gS;function Wm(){return gS||(gS=1,Rv.exports=eI()),Rv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function tI(){if(yS)return jp;yS=1;var t=Wm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,p){var m,y={},v=null,S=null;p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(y[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:l,key:v,ref:S,props:y,_owner:s.current}}return jp.Fragment=n,jp.jsx=o,jp.jsxs=o,jp}var vS;function nI(){return vS||(vS=1,Pv.exports=tI()),Pv.exports}var h=nI(),b=Wm();const Et=Hm(b),mw=ZA({__proto__:null,default:Et},[b]);var i0={},Av={exports:{}},Js={},Iv={exports:{}},jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function rI(){return xS||(xS=1,(function(t){function e(K,te){var Q=K.length;K.push(te);e:for(;0<Q;){var q=Q-1>>>1,re=K[q];if(0<s(re,te))K[q]=te,K[Q]=re,Q=q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],Q=K.pop();if(Q!==te){K[0]=Q;e:for(var q=0,re=K.length,_e=re>>>1;q<_e;){var ke=2*(q+1)-1,Je=K[ke],Ue=ke+1,xe=K[Ue];if(0>s(Je,Q))Ue<re&&0>s(xe,Je)?(K[q]=xe,K[Ue]=Q,q=Ue):(K[q]=Je,K[ke]=Q,q=ke);else if(Ue<re&&0>s(xe,Q))K[q]=xe,K[Ue]=Q,q=Ue;else break e}}return te}function s(K,te){var Q=K.sortIndex-te.sortIndex;return Q!==0?Q:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],p=[],m=1,y=null,v=3,S=!1,C=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(K){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=K)r(p),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(p)}}function V(K){if(k=!1,D(K),!C)if(n(d)!==null)C=!0,ue(G);else{var te=n(p);te!==null&&ne(V,te.startTime-K)}}function G(K,te){C=!1,k&&(k=!1,M(R),R=-1),S=!0;var Q=v;try{for(D(te),y=n(d);y!==null&&(!(y.expirationTime>te)||K&&!H());){var q=y.callback;if(typeof q=="function"){y.callback=null,v=y.priorityLevel;var re=q(y.expirationTime<=te);te=t.unstable_now(),typeof re=="function"?y.callback=re:y===n(d)&&r(d),D(te)}else r(d);y=n(d)}if(y!==null)var _e=!0;else{var ke=n(p);ke!==null&&ne(V,ke.startTime-te),_e=!1}return _e}finally{y=null,v=Q,S=!1}}var J=!1,B=null,R=-1,F=5,z=-1;function H(){return!(t.unstable_now()-z<F)}function $(){if(B!==null){var K=t.unstable_now();z=K;var te=!0;try{te=B(!0,K)}finally{te?U():(J=!1,B=null)}}else J=!1}var U;if(typeof j=="function")U=function(){j($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,de=ie.port2;ie.port1.onmessage=$,U=function(){de.postMessage(null)}}else U=function(){P($,0)};function ue(K){B=K,J||(J=!0,U())}function ne(K,te){R=P(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,ue(G))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var Q=v;v=te;try{return K()}finally{v=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=v;v=K;try{return te()}finally{v=Q}},t.unstable_scheduleCallback=function(K,te,Q){var q=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?q+Q:q):Q=q,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,K={id:m++,callback:te,priorityLevel:K,startTime:Q,expirationTime:re,sortIndex:-1},Q>q?(K.sortIndex=Q,e(p,K),n(d)===null&&K===n(p)&&(k?(M(R),R=-1):k=!0,ne(V,Q-q))):(K.sortIndex=re,e(d,K),C||S||(C=!0,ue(G))),K},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(K){var te=v;return function(){var Q=v;v=te;try{return K.apply(this,arguments)}finally{v=Q}}}})(jv)),jv}var wS;function gw(){return wS||(wS=1,Iv.exports=rI()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function sI(){if(_S)return Js;_S=1;var t=Wm(),e=gw();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(a){return d.call(y,a)?!0:d.call(m,a)?!1:p.test(a)?y[a]=!0:(m[a]=!0,!1)}function S(a,c,g,_){if(g!==null&&g.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return _?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,c,g,_){if(c===null||typeof c>"u"||S(a,c,g,_))return!0;if(_)return!1;if(g!==null)switch(g.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function k(a,c,g,_,T,I,W){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=_,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=a,this.type=c,this.sanitizeURL=I,this.removeEmptyString=W}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){P[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];P[c]=new k(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){P[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){P[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){P[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){P[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){P[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){P[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){P[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(M,j);P[c]=new k(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(M,j);P[c]=new k(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(M,j);P[c]=new k(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){P[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){P[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function D(a,c,g,_){var T=P.hasOwnProperty(c)?P[c]:null;(T!==null?T.type!==0:_||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(C(c,g,T,_)&&(g=null),_||T===null?v(c)&&(g===null?a.removeAttribute(c):a.setAttribute(c,""+g)):T.mustUseProperty?a[T.propertyName]=g===null?T.type===3?!1:"":g:(c=T.attributeName,_=T.attributeNamespace,g===null?a.removeAttribute(c):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,_?a.setAttributeNS(_,c,g):a.setAttribute(c,g))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),J=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),K=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Object.assign,q;function re(a){if(q===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+a}var _e=!1;function ke(a,c){if(!a||_e)return"";_e=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ye){var _=ye}Reflect.construct(a,[],c)}else{try{c.call()}catch(ye){_=ye}a.call(c.prototype)}else{try{throw Error()}catch(ye){_=ye}a()}}catch(ye){if(ye&&_&&typeof ye.stack=="string"){for(var T=ye.stack.split(`
`),I=_.stack.split(`
`),W=T.length-1,Z=I.length-1;1<=W&&0<=Z&&T[W]!==I[Z];)Z--;for(;1<=W&&0<=Z;W--,Z--)if(T[W]!==I[Z]){if(W!==1||Z!==1)do if(W--,Z--,0>Z||T[W]!==I[Z]){var se=`
`+T[W].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=W&&0<=Z);break}}}finally{_e=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?re(a):""}function Je(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=ke(a.type,!1),a;case 11:return a=ke(a.type.render,!1),a;case 1:return a=ke(a.type,!0),a;default:return""}}function Ue(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case B:return"Fragment";case J:return"Portal";case F:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case ie:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case H:return(a.displayName||"Context")+".Consumer";case z:return(a._context.displayName||"Context")+".Provider";case $:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case de:return c=a.displayName||null,c!==null?c:Ue(a.type)||"Memo";case ue:c=a._payload,a=a._init;try{return Ue(a(c))}catch{}}return null}function xe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ce(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function je(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Xe(a){var c=je(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),_=""+a[c];if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,I=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return T.call(this)},set:function(W){_=""+W,I.call(this,W)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return _},setValue:function(W){_=""+W},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Ae(a){a._valueTracker||(a._valueTracker=Xe(a))}function ze(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var g=c.getValue(),_="";return a&&(_=je(a)?a.checked?"true":"false":a.value),a=_,a!==g?(c.setValue(a),!0):!1}function ot(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ct(a,c){var g=c.checked;return Q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function kn(a,c){var g=c.defaultValue==null?"":c.defaultValue,_=c.checked!=null?c.checked:c.defaultChecked;g=Ce(c.value!=null?c.value:g),a._wrapperState={initialChecked:_,initialValue:g,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function zs(a,c){c=c.checked,c!=null&&D(a,"checked",c,!1)}function xs(a,c){zs(a,c);var g=Ce(c.value),_=c.type;if(g!=null)_==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(_==="submit"||_==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?rn(a,c.type,g):c.hasOwnProperty("defaultValue")&&rn(a,c.type,Ce(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Ba(a,c,g){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var _=c.type;if(!(_!=="submit"&&_!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,g||c===a.value||(a.value=c),a.defaultValue=c}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function rn(a,c,g){(c!=="number"||ot(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var sn=Array.isArray;function ti(a,c,g,_){if(a=a.options,c){c={};for(var T=0;T<g.length;T++)c["$"+g[T]]=!0;for(g=0;g<a.length;g++)T=c.hasOwnProperty("$"+a[g].value),a[g].selected!==T&&(a[g].selected=T),T&&_&&(a[g].defaultSelected=!0)}else{for(g=""+Ce(g),c=null,T=0;T<a.length;T++){if(a[T].value===g){a[T].selected=!0,_&&(a[T].defaultSelected=!0);return}c!==null||a[T].disabled||(c=a[T])}c!==null&&(c.selected=!0)}}function Nu(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ku(a,c){var g=c.value;if(g==null){if(g=c.children,c=c.defaultValue,g!=null){if(c!=null)throw Error(n(92));if(sn(g)){if(1<g.length)throw Error(n(93));g=g[0]}c=g}c==null&&(c=""),g=c}a._wrapperState={initialValue:Ce(g)}}function Lo(a,c){var g=Ce(c.value),_=Ce(c.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),c.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),_!=null&&(a.defaultValue=""+_)}function Vo(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Pu(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Pu(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Fo,Qd=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,_,T){MSApp.execUnsafeLocalFunction(function(){return a(c,g,_,T)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Fo.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Ua(a,c){if(c){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=c;return}}a.textContent=c}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jd=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(a){Jd.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),zo[c]=zo[a]})});function Bo(a,c,g){return c==null||typeof c=="boolean"||c===""?"":g||typeof c!="number"||c===0||zo.hasOwnProperty(a)&&zo[a]?(""+c).trim():c+"px"}function Yl(a,c){a=a.style;for(var g in c)if(c.hasOwnProperty(g)){var _=g.indexOf("--")===0,T=Bo(g,c[g],_);g==="float"&&(g="cssFloat"),_?a.setProperty(g,T):a[g]=T}}var Ru=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ni(a,c){if(c){if(Ru[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function $a(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Xl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yi=null,Xi=null,bn=null;function Au(a){if(a=Ju(a)){if(typeof Yi!="function")throw Error(n(280));var c=a.stateNode;c&&(c=ur(c),Yi(a.stateNode,a.type,c))}}function Qi(a){Xi?bn?bn.push(a):bn=[a]:Xi=a}function Ji(){if(Xi){var a=Xi,c=bn;if(bn=Xi=null,Au(a),c)for(a=0;a<c.length;a++)Au(c[a])}}function Zd(a,c){return a(c)}function Ql(){}var ri=!1;function Iu(a,c,g){if(ri)return a(c,g);ri=!0;try{return Zd(a,c,g)}finally{ri=!1,(Xi!==null||bn!==null)&&(Ql(),Ji())}}function Ha(a,c){var g=a.stateNode;if(g===null)return null;var _=ur(g);if(_===null)return null;g=_[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(a=a.type,_=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!_;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var $o=!1;if(l)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{$o=!1}function ju(a,c,g,_,T,I,W,Z,se){var ye=Array.prototype.slice.call(arguments,3);try{c.apply(g,ye)}catch(Ne){this.onError(Ne)}}var si=!1,bi=null,Jl=!1,Br=null,eh={onError:function(a){si=!0,bi=a}};function th(a,c,g,_,T,I,W,Z,se){si=!1,bi=null,ju.apply(eh,arguments)}function Du(a,c,g,_,T,I,W,Z,se){if(th.apply(this,arguments),si){if(si){var ye=bi;si=!1,bi=null}else throw Error(n(198));Jl||(Jl=!0,Br=ye)}}function ii(a){var c=a,g=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(g=c.return),a=c.return;while(a)}return c.tag===3?g:null}function Mu(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function nh(a){if(ii(a)!==a)throw Error(n(188))}function rh(a){var c=a.alternate;if(!c){if(c=ii(a),c===null)throw Error(n(188));return c!==a?null:a}for(var g=a,_=c;;){var T=g.return;if(T===null)break;var I=T.alternate;if(I===null){if(_=T.return,_!==null){g=_;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===g)return nh(T),a;if(I===_)return nh(T),c;I=I.sibling}throw Error(n(188))}if(g.return!==_.return)g=T,_=I;else{for(var W=!1,Z=T.child;Z;){if(Z===g){W=!0,g=T,_=I;break}if(Z===_){W=!0,_=T,g=I;break}Z=Z.sibling}if(!W){for(Z=I.child;Z;){if(Z===g){W=!0,g=I,_=T;break}if(Z===_){W=!0,_=I,g=T;break}Z=Z.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==_)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?a:c}function sh(a){return a=rh(a),a!==null?Wa(a):null}function Wa(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Wa(a);if(c!==null)return c;a=a.sibling}return null}var Ou=e.unstable_scheduleCallback,Zl=e.unstable_cancelCallback,Ga=e.unstable_shouldYield,Zi=e.unstable_requestPaint,on=e.unstable_now,Lu=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,qa=e.unstable_UserBlockingPriority,eo=e.unstable_NormalPriority,Vu=e.unstable_LowPriority,Wo=e.unstable_IdlePriority,Bs=null,zn=null;function Ht(a){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Bs,a,void 0,(a.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Bn,vr=Math.log,Kt=Math.LN2;function Bn(a){return a>>>=0,a===0?32:31-(vr(a)/Kt|0)|0}var Pr=64,ws=4194304;function gt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Us(a,c){var g=a.pendingLanes;if(g===0)return 0;var _=0,T=a.suspendedLanes,I=a.pingedLanes,W=g&268435455;if(W!==0){var Z=W&~T;Z!==0?_=gt(Z):(I&=W,I!==0&&(_=gt(I)))}else W=g&~T,W!==0?_=gt(W):I!==0&&(_=gt(I));if(_===0)return 0;if(c!==0&&c!==_&&(c&T)===0&&(T=_&-_,I=c&-c,T>=I||T===16&&(I&4194240)!==0))return c;if((_&4)!==0&&(_|=g&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=_;0<c;)g=31-Tt(c),T=1<<g,_|=a[g],c&=~T;return _}function Go(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(a,c){for(var g=a.suspendedLanes,_=a.pingedLanes,T=a.expirationTimes,I=a.pendingLanes;0<I;){var W=31-Tt(I),Z=1<<W,se=T[W];se===-1?((Z&g)===0||(Z&_)!==0)&&(T[W]=Go(Z,c)):se<=c&&(a.expiredLanes|=Z),I&=~Z}}function Ko(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ec(){var a=Pr;return Pr<<=1,(Pr&4194240)===0&&(Pr=64),a}function Ur(a){for(var c=[],g=0;31>g;g++)c.push(a);return c}function Ka(a,c,g){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Tt(c),a[c]=g}function Gf(a,c){var g=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var _=a.eventTimes;for(a=a.expirationTimes;0<g;){var T=31-Tt(g),I=1<<T;c[T]=0,_[T]=-1,a[T]=-1,g&=~I}}function Fu(a,c){var g=a.entangledLanes|=c;for(a=a.entanglements;g;){var _=31-Tt(g),T=1<<_;T&c|a[_]&c&&(a[_]|=c),g&=~T}}var Nt=0;function _s(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var to,no,zu,Bu,Ya,oi=!1,Yo=[],os=null,Ei=null,Xn=null,kt=new Map,Ci=new Map,$r=[],Uu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xo(a,c){switch(a){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":kt.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(c.pointerId)}}function ai(a,c,g,_,T,I){return a===null||a.nativeEvent!==I?(a={blockedOn:c,domEventName:g,eventSystemFlags:_,nativeEvent:I,targetContainers:[T]},c!==null&&(c=Ju(c),c!==null&&no(c)),a):(a.eventSystemFlags|=_,c=a.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),a)}function Pn(a,c,g,_,T){switch(c){case"focusin":return os=ai(os,a,c,g,_,T),!0;case"dragenter":return Ei=ai(Ei,a,c,g,_,T),!0;case"mouseover":return Xn=ai(Xn,a,c,g,_,T),!0;case"pointerover":var I=T.pointerId;return kt.set(I,ai(kt.get(I)||null,a,c,g,_,T)),!0;case"gotpointercapture":return I=T.pointerId,Ci.set(I,ai(Ci.get(I)||null,a,c,g,_,T)),!0}return!1}function Qo(a){var c=ca(a.target);if(c!==null){var g=ii(c);if(g!==null){if(c=g.tag,c===13){if(c=Mu(g),c!==null){a.blockedOn=c,Ya(a.priority,function(){zu(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yt(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var g=Xa(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var _=new g.constructor(g.type,g);Uo=_,g.target.dispatchEvent(_),Uo=null}else return c=Ju(g),c!==null&&no(c),a.blockedOn=g,!1;c.shift()}return!0}function tc(a,c,g){Yt(a)&&g.delete(c)}function qf(){oi=!1,os!==null&&Yt(os)&&(os=null),Ei!==null&&Yt(Ei)&&(Ei=null),Xn!==null&&Yt(Xn)&&(Xn=null),kt.forEach(tc),Ci.forEach(tc)}function li(a,c){a.blockedOn===c&&(a.blockedOn=null,oi||(oi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qf)))}function xr(a){function c(T){return li(T,a)}if(0<Yo.length){li(Yo[0],a);for(var g=1;g<Yo.length;g++){var _=Yo[g];_.blockedOn===a&&(_.blockedOn=null)}}for(os!==null&&li(os,a),Ei!==null&&li(Ei,a),Xn!==null&&li(Xn,a),kt.forEach(c),Ci.forEach(c),g=0;g<$r.length;g++)_=$r[g],_.blockedOn===a&&(_.blockedOn=null);for(;0<$r.length&&(g=$r[0],g.blockedOn===null);)Qo(g),g.blockedOn===null&&$r.shift()}var ro=V.ReactCurrentBatchConfig,so=!0;function Un(a,c,g,_){var T=Nt,I=ro.transition;ro.transition=null;try{Nt=1,Jo(a,c,g,_)}finally{Nt=T,ro.transition=I}}function $s(a,c,g,_){var T=Nt,I=ro.transition;ro.transition=null;try{Nt=4,Jo(a,c,g,_)}finally{Nt=T,ro.transition=I}}function Jo(a,c,g,_){if(so){var T=Xa(a,c,g,_);if(T===null)ph(a,c,_,Hs,g),Xo(a,_);else if(Pn(T,a,c,g,_))_.stopPropagation();else if(Xo(a,_),c&4&&-1<Uu.indexOf(a)){for(;T!==null;){var I=Ju(T);if(I!==null&&to(I),I=Xa(a,c,g,_),I===null&&ph(a,c,_,Hs,g),I===T)break;T=I}T!==null&&_.stopPropagation()}else ph(a,c,_,null,g)}}var Hs=null;function Xa(a,c,g,_){if(Hs=null,a=Xl(_),a=ca(a),a!==null)if(c=ii(a),c===null)a=null;else if(g=c.tag,g===13){if(a=Mu(c),a!==null)return a;a=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Hs=a,null}function nc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lu()){case Si:return 1;case qa:return 4;case eo:case Vu:return 16;case Wo:return 536870912;default:return 16}default:return 16}}var Sn=null,ci=null,as=null;function Qa(){if(as)return as;var a,c=ci,g=c.length,_,T="value"in Sn?Sn.value:Sn.textContent,I=T.length;for(a=0;a<g&&c[a]===T[a];a++);var W=g-a;for(_=1;_<=W&&c[g-_]===T[I-_];_++);return as=T.slice(a,1<_?1-_:void 0)}function Ti(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Rn(){return!0}function Rr(){return!1}function En(a){function c(g,_,T,I,W){this._reactName=g,this._targetInst=T,this.type=_,this.nativeEvent=I,this.target=W,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(g=a[Z],this[Z]=g?g(I):I[Z]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Rn:Rr,this.isPropagationStopped=Rr,this}return Q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Rn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Rn)},persist:function(){},isPersistent:Rn}),c}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=En(ir),ls=Q({},ir,{view:0,detail:0}),Ja=En(ls),Zo,ea,an,or=Q({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==an&&(an&&a.type==="mousemove"?(Zo=a.screenX-an.screenX,ea=a.screenY-an.screenY):ea=Zo=0,an=a),Zo)},movementY:function(a){return"movementY"in a?a.movementY:ea}}),Wt=En(or),ta=Q({},or,{dataTransfer:0}),cs=En(ta),Za=Q({},ls,{relatedTarget:0}),ar=En(Za),rc=Q({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=En(rc),io=Q({},ir,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),x=En(io),A=Q({},ir,{data:0}),L=En(A),X={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},he={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oe(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=ge[a])?!!c[a]:!1}function dt(){return Oe}var dn=Q({},ls,{key:function(a){if(a.key){var c=X[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Ti(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?he[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dt,charCode:function(a){return a.type==="keypress"?Ti(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ti(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ft=En(dn),An=Q({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=En(An),Ni=Q({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dt}),bs=En(Ni),Ss=Q({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),ui=En(Ss),el=Q({},or,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=En(el),yg=[9,13,27,32],$u=l&&"CompositionEvent"in window,tl=null;l&&"documentMode"in document&&(tl=document.documentMode);var ic=l&&"TextEvent"in window&&!tl,Es=l&&(!$u||tl&&8<tl&&11>=tl),na=" ",ih=!1;function Yf(a,c){switch(a){case"keyup":return yg.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function di(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cs=!1;function Xf(a,c){switch(a){case"compositionend":return di(c);case"keypress":return c.which!==32?null:(ih=!0,na);case"textInput":return a=c.data,a===na&&ih?null:a;default:return null}}function vg(a,c){if(Cs)return a==="compositionend"||!$u&&Yf(a,c)?(a=Qa(),as=ci=Sn=null,Cs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Es&&c.locale!=="ko"?null:c.data;default:return null}}var oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!oo[a.type]:c==="textarea"}function Hu(a,c,g,_){Qi(_),c=mh(c,"onChange"),0<c.length&&(g=new Hr("onChange","change",null,g,_),a.push({event:g,listeners:c}))}var oc=null,ra=null;function xg(a){ap(a,0)}function sa(a){var c=Jn(a);if(ze(c))return a}function Ws(a,c){if(a==="change")return c}var ac=!1;if(l){var ia;if(l){var Gs="oninput"in document;if(!Gs){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Gs=typeof oh.oninput=="function"}ia=Gs}else ia=!1;ac=ia&&(!document.documentMode||9<document.documentMode)}function nl(){oc&&(oc.detachEvent("onpropertychange",Qf),ra=oc=null)}function Qf(a){if(a.propertyName==="value"&&sa(ra)){var c=[];Hu(c,ra,a,Xl(a)),Iu(xg,c)}}function Jf(a,c,g){a==="focusin"?(nl(),oc=c,ra=g,oc.attachEvent("onpropertychange",Qf)):a==="focusout"&&nl()}function xn(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sa(ra)}function ah(a,c){if(a==="click")return sa(c)}function Zf(a,c){if(a==="input"||a==="change")return sa(c)}function ep(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var us=typeof Object.is=="function"?Object.is:ep;function rl(a,c){if(us(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var g=Object.keys(a),_=Object.keys(c);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var T=g[_];if(!d.call(c,T)||!us(a[T],c[T]))return!1}return!0}function oa(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hn(a,c){var g=oa(a);a=0;for(var _;g;){if(g.nodeType===3){if(_=a+g.textContent.length,a<=c&&_>=c)return{node:g,offset:c-a};a=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=oa(g)}}function $n(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?$n(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Qn(){for(var a=window,c=ot();c instanceof a.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)a=c.contentWindow;else break;c=ot(a.document)}return c}function lc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Wu(a){var c=Qn(),g=a.focusedElem,_=a.selectionRange;if(c!==g&&g&&g.ownerDocument&&$n(g.ownerDocument.documentElement,g)){if(_!==null&&lc(g)){if(c=_.start,a=_.end,a===void 0&&(a=c),"selectionStart"in g)g.selectionStart=c,g.selectionEnd=Math.min(a,g.value.length);else if(a=(c=g.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var T=g.textContent.length,I=Math.min(_.start,T);_=_.end===void 0?I:Math.min(_.end,T),!a.extend&&I>_&&(T=_,_=I,I=T),T=hn(g,I);var W=hn(g,_);T&&W&&(a.rangeCount!==1||a.anchorNode!==T.node||a.anchorOffset!==T.offset||a.focusNode!==W.node||a.focusOffset!==W.offset)&&(c=c.createRange(),c.setStart(T.node,T.offset),a.removeAllRanges(),I>_?(a.addRange(c),a.extend(W.node,W.offset)):(c.setEnd(W.node,W.offset),a.addRange(c)))}}for(c=[],a=g;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<c.length;g++)a=c[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Gu=l&&"documentMode"in document&&11>=document.documentMode,cc=null,cr=null,sl=null,qu=!1;function lh(a,c,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;qu||cc==null||cc!==ot(_)||(_=cc,"selectionStart"in _&&lc(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),sl&&rl(sl,_)||(sl=_,_=mh(cr,"onSelect"),0<_.length&&(c=new Hr("onSelect","select",null,c,g),a.push({event:c,listeners:_}),c.target=cc)))}function Ts(a,c){var g={};return g[a.toLowerCase()]=c.toLowerCase(),g["Webkit"+a]="webkit"+c,g["Moz"+a]="moz"+c,g}var wr={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},il={},ch={};l&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function uc(a){if(il[a])return il[a];if(!wr[a])return a;var c=wr[a],g;for(g in c)if(c.hasOwnProperty(g)&&g in ch)return il[a]=c[g];return a}var tp=uc("animationend"),np=uc("animationiteration"),rp=uc("animationstart"),sp=uc("transitionend"),ip=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(a,c){ip.set(a,c),i(c,[a])}for(var uh=0;uh<op.length;uh++){var ol=op[uh],wg=ol.toLowerCase(),dh=ol[0].toUpperCase()+ol.slice(1);lo(wg,"on"+dh)}lo(tp,"onAnimationEnd"),lo(np,"onAnimationIteration"),lo(rp,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(sp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function hh(a,c,g){var _=a.type||"unknown-event";a.currentTarget=g,Du(_,c,void 0,a),a.currentTarget=null}function ap(a,c){c=(c&4)!==0;for(var g=0;g<a.length;g++){var _=a[g],T=_.event;_=_.listeners;e:{var I=void 0;if(c)for(var W=_.length-1;0<=W;W--){var Z=_[W],se=Z.instance,ye=Z.currentTarget;if(Z=Z.listener,se!==I&&T.isPropagationStopped())break e;hh(T,Z,ye),I=se}else for(W=0;W<_.length;W++){if(Z=_[W],se=Z.instance,ye=Z.currentTarget,Z=Z.listener,se!==I&&T.isPropagationStopped())break e;hh(T,Z,ye),I=se}}}if(Jl)throw a=Br,Jl=!1,Br=null,a}function Zt(a,c){var g=c[yh];g===void 0&&(g=c[yh]=new Set);var _=a+"__bubble";g.has(_)||(lp(c,a,2,!1),g.add(_))}function fh(a,c,g){var _=0;c&&(_|=4),lp(g,a,_,c)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function al(a){if(!a[Ku]){a[Ku]=!0,r.forEach(function(g){g!=="selectionchange"&&(_g.has(g)||fh(g,!1,a),fh(g,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ku]||(c[Ku]=!0,fh("selectionchange",!1,c))}}function lp(a,c,g,_){switch(nc(c)){case 1:var T=Un;break;case 4:T=$s;break;default:T=Jo}g=T.bind(null,c,g,a),T=void 0,!$o||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),_?T!==void 0?a.addEventListener(c,g,{capture:!0,passive:T}):a.addEventListener(c,g,!0):T!==void 0?a.addEventListener(c,g,{passive:T}):a.addEventListener(c,g,!1)}function ph(a,c,g,_,T){var I=_;if((c&1)===0&&(c&2)===0&&_!==null)e:for(;;){if(_===null)return;var W=_.tag;if(W===3||W===4){var Z=_.stateNode.containerInfo;if(Z===T||Z.nodeType===8&&Z.parentNode===T)break;if(W===4)for(W=_.return;W!==null;){var se=W.tag;if((se===3||se===4)&&(se=W.stateNode.containerInfo,se===T||se.nodeType===8&&se.parentNode===T))return;W=W.return}for(;Z!==null;){if(W=ca(Z),W===null)return;if(se=W.tag,se===5||se===6){_=I=W;continue e}Z=Z.parentNode}}_=_.return}Iu(function(){var ye=I,Ne=Xl(g),Re=[];e:{var Te=ip.get(a);if(Te!==void 0){var Ge=Hr,et=a;switch(a){case"keypress":if(Ti(g)===0)break e;case"keydown":case"keyup":Ge=Ft;break;case"focusin":et="focus",Ge=ar;break;case"focusout":et="blur",Ge=ar;break;case"beforeblur":case"afterblur":Ge=ar;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=cs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=bs;break;case tp:case np:case rp:Ge=sc;break;case sp:Ge=ui;break;case"scroll":Ge=Ja;break;case"wheel":Ge=Kf;break;case"copy":case"cut":case"paste":Ge=x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=lr}var rt=(c&4)!==0,nr=!rt&&a==="scroll",fe=rt?Te!==null?Te+"Capture":null:Te;rt=[];for(var oe=ye,pe;oe!==null;){pe=oe;var De=pe.stateNode;if(pe.tag===5&&De!==null&&(pe=De,fe!==null&&(De=Ha(oe,fe),De!=null&&rt.push(dc(oe,De,pe)))),nr)break;oe=oe.return}0<rt.length&&(Te=new Ge(Te,et,null,g,Ne),Re.push({event:Te,listeners:rt}))}}if((c&7)===0){e:{if(Te=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Te&&g!==Uo&&(et=g.relatedTarget||g.fromElement)&&(ca(et)||et[Pi]))break e;if((Ge||Te)&&(Te=Ne.window===Ne?Ne:(Te=Ne.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ge?(et=g.relatedTarget||g.toElement,Ge=ye,et=et?ca(et):null,et!==null&&(nr=ii(et),et!==nr||et.tag!==5&&et.tag!==6)&&(et=null)):(Ge=null,et=ye),Ge!==et)){if(rt=Wt,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(rt=lr,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),nr=Ge==null?Te:Jn(Ge),pe=et==null?Te:Jn(et),Te=new rt(De,oe+"leave",Ge,g,Ne),Te.target=nr,Te.relatedTarget=pe,De=null,ca(Ne)===ye&&(rt=new rt(fe,oe+"enter",et,g,Ne),rt.target=pe,rt.relatedTarget=nr,De=rt),nr=De,Ge&&et)t:{for(rt=Ge,fe=et,oe=0,pe=rt;pe;pe=ll(pe))oe++;for(pe=0,De=fe;De;De=ll(De))pe++;for(;0<oe-pe;)rt=ll(rt),oe--;for(;0<pe-oe;)fe=ll(fe),pe--;for(;oe--;){if(rt===fe||fe!==null&&rt===fe.alternate)break t;rt=ll(rt),fe=ll(fe)}rt=null}else rt=null;Ge!==null&&bg(Re,Te,Ge,rt,!1),et!==null&&nr!==null&&bg(Re,nr,et,rt,!0)}}e:{if(Te=ye?Jn(ye):window,Ge=Te.nodeName&&Te.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Te.type==="file")var st=Ws;else if(ao(Te))if(ac)st=Zf;else{st=xn;var ct=Jf}else(Ge=Te.nodeName)&&Ge.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(st=ah);if(st&&(st=st(a,ye))){Hu(Re,st,g,Ne);break e}ct&&ct(a,Te,ye),a==="focusout"&&(ct=Te._wrapperState)&&ct.controlled&&Te.type==="number"&&rn(Te,"number",Te.value)}switch(ct=ye?Jn(ye):window,a){case"focusin":(ao(ct)||ct.contentEditable==="true")&&(cc=ct,cr=ye,sl=null);break;case"focusout":sl=cr=cc=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,lh(Re,g,Ne);break;case"selectionchange":if(Gu)break;case"keydown":case"keyup":lh(Re,g,Ne)}var ut;if($u)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Cs?Yf(a,g)&&(mt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(mt="onCompositionStart");mt&&(Es&&g.locale!=="ko"&&(Cs||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Cs&&(ut=Qa()):(Sn=Ne,ci="value"in Sn?Sn.value:Sn.textContent,Cs=!0)),ct=mh(ye,mt),0<ct.length&&(mt=new L(mt,a,null,g,Ne),Re.push({event:mt,listeners:ct}),ut?mt.data=ut:(ut=di(g),ut!==null&&(mt.data=ut)))),(ut=ic?Xf(a,g):vg(a,g))&&(ye=mh(ye,"onBeforeInput"),0<ye.length&&(Ne=new L("onBeforeInput","beforeinput",null,g,Ne),Re.push({event:Ne,listeners:ye}),Ne.data=ut))}ap(Re,c)})}function dc(a,c,g){return{instance:a,listener:c,currentTarget:g}}function mh(a,c){for(var g=c+"Capture",_=[];a!==null;){var T=a,I=T.stateNode;T.tag===5&&I!==null&&(T=I,I=Ha(a,g),I!=null&&_.unshift(dc(a,I,T)),I=Ha(a,c),I!=null&&_.push(dc(a,I,T))),a=a.return}return _}function ll(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function bg(a,c,g,_,T){for(var I=c._reactName,W=[];g!==null&&g!==_;){var Z=g,se=Z.alternate,ye=Z.stateNode;if(se!==null&&se===_)break;Z.tag===5&&ye!==null&&(Z=ye,T?(se=Ha(g,I),se!=null&&W.unshift(dc(g,se,Z))):T||(se=Ha(g,I),se!=null&&W.push(dc(g,se,Z)))),g=g.return}W.length!==0&&a.push({event:c,listeners:W})}var nv=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function cp(a){return(typeof a=="string"?a:""+a).replace(nv,`
`).replace(Sg,"")}function Yu(a,c,g){if(c=cp(c),cp(a)!==c&&g)throw Error(n(425))}function cl(){}var up=null,dp=null;function hp(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ns=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(a){return Xu.resolve(null).then(a).catch(Cg)}:Ns;function Cg(a){setTimeout(function(){throw a})}function gh(a,c){var g=c,_=0;do{var T=g.nextSibling;if(a.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(_===0){a.removeChild(T),xr(c);return}_--}else g!=="$"&&g!=="$?"&&g!=="$!"||_++;g=T}while(g);xr(c)}function ki(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function ul(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return a;c--}else g==="/$"&&c++}a=a.previousSibling}return null}var la=Math.random().toString(36).slice(2),qs="__reactFiber$"+la,Qu="__reactProps$"+la,Pi="__reactContainer$"+la,yh="__reactEvents$"+la,Tg="__reactListeners$"+la,Ng="__reactHandles$"+la;function ca(a){var c=a[qs];if(c)return c;for(var g=a.parentNode;g;){if(c=g[Pi]||g[qs]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(a=ul(a);a!==null;){if(g=a[qs])return g;a=ul(a)}return c}a=g,g=a.parentNode}return null}function Ju(a){return a=a[qs]||a[Pi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Jn(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ur(a){return a[Qu]||null}var vh=[],dl=-1;function co(a){return{current:a}}function en(a){0>dl||(a.current=vh[dl],vh[dl]=null,dl--)}function Xt(a,c){dl++,vh[dl]=a.current,a.current=c}var Ri={},_r=co(Ri),Ar=co(!1),ua=Ri;function hl(a,c){var g=a.type.contextTypes;if(!g)return Ri;var _=a.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===c)return _.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in g)T[I]=c[I];return _&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=T),T}function Ir(a){return a=a.childContextTypes,a!=null}function hc(){en(Ar),en(_r)}function pp(a,c,g){if(_r.current!==Ri)throw Error(n(168));Xt(_r,c),Xt(Ar,g)}function xh(a,c,g){var _=a.stateNode;if(c=c.childContextTypes,typeof _.getChildContext!="function")return g;_=_.getChildContext();for(var T in _)if(!(T in c))throw Error(n(108,xe(a)||"Unknown",T));return Q({},g,_)}function fl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ri,ua=_r.current,Xt(_r,a),Xt(Ar,Ar.current),!0}function kg(a,c,g){var _=a.stateNode;if(!_)throw Error(n(169));g?(a=xh(a,c,ua),_.__reactInternalMemoizedMergedChildContext=a,en(Ar),en(_r),Xt(_r,a)):en(Ar),Xt(Ar,g)}var Ai=null,fc=!1,wh=!1;function Zu(a){Ai===null?Ai=[a]:Ai.push(a)}function uo(a){fc=!0,Zu(a)}function da(){if(!wh&&Ai!==null){wh=!0;var a=0,c=Nt;try{var g=Ai;for(Nt=1;a<g.length;a++){var _=g[a];do _=_(!0);while(_!==null)}Ai=null,fc=!1}catch(T){throw Ai!==null&&(Ai=Ai.slice(a+1)),Ou(Si,da),T}finally{Nt=c,wh=!1}}return null}var Wr=[],pl=0,ha=null,fa=0,Gr=[],qr=0,pa=null,ks=1,fn="";function ml(a,c){Wr[pl++]=fa,Wr[pl++]=ha,ha=a,fa=c}function Pg(a,c,g){Gr[qr++]=ks,Gr[qr++]=fn,Gr[qr++]=pa,pa=a;var _=ks;a=fn;var T=32-Tt(_)-1;_&=~(1<<T),g+=1;var I=32-Tt(c)+T;if(30<I){var W=T-T%5;I=(_&(1<<W)-1).toString(32),_>>=W,T-=W,ks=1<<32-Tt(c)+T|g<<T|_,fn=I+a}else ks=1<<I|g<<T|_,fn=a}function pc(a){a.return!==null&&(ml(a,1),Pg(a,1,0))}function dr(a){for(;a===ha;)ha=Wr[--pl],Wr[pl]=null,fa=Wr[--pl],Wr[pl]=null;for(;a===pa;)pa=Gr[--qr],Gr[qr]=null,fn=Gr[--qr],Gr[qr]=null,ks=Gr[--qr],Gr[qr]=null}var Ps=null,Fe=null,Bt=!1,Rs=null;function mp(a,c){var g=Vi(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=a,c=a.deletions,c===null?(a.deletions=[g],a.flags|=16):c.push(g)}function Rg(a,c){switch(a.tag){case 5:var g=a.type;return c=c.nodeType!==1||g.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Ps=a,Fe=ki(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Ps=a,Fe=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(g=pa!==null?{id:ks,overflow:fn}:null,a.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=Vi(18,null,null,0),g.stateNode=c,g.return=a,a.child=g,Ps=a,Fe=null,!0):!1;default:return!1}}function gl(a){return(a.mode&1)!==0&&(a.flags&128)===0}function mc(a){if(Bt){var c=Fe;if(c){var g=c;if(!Rg(a,c)){if(gl(a))throw Error(n(418));c=ki(g.nextSibling);var _=Ps;c&&Rg(a,c)?mp(_,g):(a.flags=a.flags&-4097|2,Bt=!1,Ps=a)}}else{if(gl(a))throw Error(n(418));a.flags=a.flags&-4097|2,Bt=!1,Ps=a}}}function _h(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ps=a}function ed(a){if(a!==Ps)return!1;if(!Bt)return _h(a),Bt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!hp(a.type,a.memoizedProps)),c&&(c=Fe)){if(gl(a))throw gp(),Error(n(418));for(;c;)mp(a,c),c=ki(c.nextSibling)}if(_h(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(c===0){Fe=ki(a.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++}a=a.nextSibling}Fe=null}}else Fe=Ps?ki(a.stateNode.nextSibling):null;return!0}function gp(){for(var a=Fe;a;)a=ki(a.nextSibling)}function yl(){Fe=Ps=null,Bt=!1}function td(a){Rs===null?Rs=[a]:Rs.push(a)}var yp=V.ReactCurrentBatchConfig;function In(a,c,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var _=g.stateNode}if(!_)throw Error(n(147,a));var T=_,I=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(W){var Z=T.refs;W===null?delete Z[I]:Z[I]=W},c._stringRef=I,c)}if(typeof a!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,a))}return a}function ds(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function hi(a){var c=a._init;return c(a._payload)}function bh(a){function c(fe,oe){if(a){var pe=fe.deletions;pe===null?(fe.deletions=[oe],fe.flags|=16):pe.push(oe)}}function g(fe,oe){if(!a)return null;for(;oe!==null;)c(fe,oe),oe=oe.sibling;return null}function _(fe,oe){for(fe=new Map;oe!==null;)oe.key!==null?fe.set(oe.key,oe):fe.set(oe.index,oe),oe=oe.sibling;return fe}function T(fe,oe){return fe=Mc(fe,oe),fe.index=0,fe.sibling=null,fe}function I(fe,oe,pe){return fe.index=pe,a?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<oe?(fe.flags|=2,oe):pe):(fe.flags|=2,oe)):(fe.flags|=1048576,oe)}function W(fe){return a&&fe.alternate===null&&(fe.flags|=2),fe}function Z(fe,oe,pe,De){return oe===null||oe.tag!==6?(oe=Sv(pe,fe.mode,De),oe.return=fe,oe):(oe=T(oe,pe),oe.return=fe,oe)}function se(fe,oe,pe,De){var st=pe.type;return st===B?Ne(fe,oe,pe.props.children,De,pe.key):oe!==null&&(oe.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ue&&hi(st)===oe.type)?(De=T(oe,pe.props),De.ref=In(fe,oe,pe),De.return=fe,De):(De=Qg(pe.type,pe.key,pe.props,null,fe.mode,De),De.ref=In(fe,oe,pe),De.return=fe,De)}function ye(fe,oe,pe,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=Ev(pe,fe.mode,De),oe.return=fe,oe):(oe=T(oe,pe.children||[]),oe.return=fe,oe)}function Ne(fe,oe,pe,De,st){return oe===null||oe.tag!==7?(oe=hd(pe,fe.mode,De,st),oe.return=fe,oe):(oe=T(oe,pe),oe.return=fe,oe)}function Re(fe,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Sv(""+oe,fe.mode,pe),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case G:return pe=Qg(oe.type,oe.key,oe.props,null,fe.mode,pe),pe.ref=In(fe,null,oe),pe.return=fe,pe;case J:return oe=Ev(oe,fe.mode,pe),oe.return=fe,oe;case ue:var De=oe._init;return Re(fe,De(oe._payload),pe)}if(sn(oe)||te(oe))return oe=hd(oe,fe.mode,pe,null),oe.return=fe,oe;ds(fe,oe)}return null}function Te(fe,oe,pe,De){var st=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return st!==null?null:Z(fe,oe,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case G:return pe.key===st?se(fe,oe,pe,De):null;case J:return pe.key===st?ye(fe,oe,pe,De):null;case ue:return st=pe._init,Te(fe,oe,st(pe._payload),De)}if(sn(pe)||te(pe))return st!==null?null:Ne(fe,oe,pe,De,null);ds(fe,pe)}return null}function Ge(fe,oe,pe,De,st){if(typeof De=="string"&&De!==""||typeof De=="number")return fe=fe.get(pe)||null,Z(oe,fe,""+De,st);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case G:return fe=fe.get(De.key===null?pe:De.key)||null,se(oe,fe,De,st);case J:return fe=fe.get(De.key===null?pe:De.key)||null,ye(oe,fe,De,st);case ue:var ct=De._init;return Ge(fe,oe,pe,ct(De._payload),st)}if(sn(De)||te(De))return fe=fe.get(pe)||null,Ne(oe,fe,De,st,null);ds(oe,De)}return null}function et(fe,oe,pe,De){for(var st=null,ct=null,ut=oe,mt=oe=0,Vr=null;ut!==null&&mt<pe.length;mt++){ut.index>mt?(Vr=ut,ut=null):Vr=ut.sibling;var zt=Te(fe,ut,pe[mt],De);if(zt===null){ut===null&&(ut=Vr);break}a&&ut&&zt.alternate===null&&c(fe,ut),oe=I(zt,oe,mt),ct===null?st=zt:ct.sibling=zt,ct=zt,ut=Vr}if(mt===pe.length)return g(fe,ut),Bt&&ml(fe,mt),st;if(ut===null){for(;mt<pe.length;mt++)ut=Re(fe,pe[mt],De),ut!==null&&(oe=I(ut,oe,mt),ct===null?st=ut:ct.sibling=ut,ct=ut);return Bt&&ml(fe,mt),st}for(ut=_(fe,ut);mt<pe.length;mt++)Vr=Ge(ut,fe,mt,pe[mt],De),Vr!==null&&(a&&Vr.alternate!==null&&ut.delete(Vr.key===null?mt:Vr.key),oe=I(Vr,oe,mt),ct===null?st=Vr:ct.sibling=Vr,ct=Vr);return a&&ut.forEach(function(Oc){return c(fe,Oc)}),Bt&&ml(fe,mt),st}function rt(fe,oe,pe,De){var st=te(pe);if(typeof st!="function")throw Error(n(150));if(pe=st.call(pe),pe==null)throw Error(n(151));for(var ct=st=null,ut=oe,mt=oe=0,Vr=null,zt=pe.next();ut!==null&&!zt.done;mt++,zt=pe.next()){ut.index>mt?(Vr=ut,ut=null):Vr=ut.sibling;var Oc=Te(fe,ut,zt.value,De);if(Oc===null){ut===null&&(ut=Vr);break}a&&ut&&Oc.alternate===null&&c(fe,ut),oe=I(Oc,oe,mt),ct===null?st=Oc:ct.sibling=Oc,ct=Oc,ut=Vr}if(zt.done)return g(fe,ut),Bt&&ml(fe,mt),st;if(ut===null){for(;!zt.done;mt++,zt=pe.next())zt=Re(fe,zt.value,De),zt!==null&&(oe=I(zt,oe,mt),ct===null?st=zt:ct.sibling=zt,ct=zt);return Bt&&ml(fe,mt),st}for(ut=_(fe,ut);!zt.done;mt++,zt=pe.next())zt=Ge(ut,fe,mt,zt.value,De),zt!==null&&(a&&zt.alternate!==null&&ut.delete(zt.key===null?mt:zt.key),oe=I(zt,oe,mt),ct===null?st=zt:ct.sibling=zt,ct=zt);return a&&ut.forEach(function(JA){return c(fe,JA)}),Bt&&ml(fe,mt),st}function nr(fe,oe,pe,De){if(typeof pe=="object"&&pe!==null&&pe.type===B&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case G:e:{for(var st=pe.key,ct=oe;ct!==null;){if(ct.key===st){if(st=pe.type,st===B){if(ct.tag===7){g(fe,ct.sibling),oe=T(ct,pe.props.children),oe.return=fe,fe=oe;break e}}else if(ct.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ue&&hi(st)===ct.type){g(fe,ct.sibling),oe=T(ct,pe.props),oe.ref=In(fe,ct,pe),oe.return=fe,fe=oe;break e}g(fe,ct);break}else c(fe,ct);ct=ct.sibling}pe.type===B?(oe=hd(pe.props.children,fe.mode,De,pe.key),oe.return=fe,fe=oe):(De=Qg(pe.type,pe.key,pe.props,null,fe.mode,De),De.ref=In(fe,oe,pe),De.return=fe,fe=De)}return W(fe);case J:e:{for(ct=pe.key;oe!==null;){if(oe.key===ct)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){g(fe,oe.sibling),oe=T(oe,pe.children||[]),oe.return=fe,fe=oe;break e}else{g(fe,oe);break}else c(fe,oe);oe=oe.sibling}oe=Ev(pe,fe.mode,De),oe.return=fe,fe=oe}return W(fe);case ue:return ct=pe._init,nr(fe,oe,ct(pe._payload),De)}if(sn(pe))return et(fe,oe,pe,De);if(te(pe))return rt(fe,oe,pe,De);ds(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,oe!==null&&oe.tag===6?(g(fe,oe.sibling),oe=T(oe,pe),oe.return=fe,fe=oe):(g(fe,oe),oe=Sv(pe,fe.mode,De),oe.return=fe,fe=oe),W(fe)):g(fe,oe)}return nr}var vl=bh(!0),Ks=bh(!1),nd=co(null),As=null,gc=null,Sh=null;function Eh(){Sh=gc=As=null}function Ch(a){var c=nd.current;en(nd),a._currentValue=c}function Th(a,c,g){for(;a!==null;){var _=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),a===g)break;a=a.return}}function ho(a,c){As=a,Sh=gc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(O=!0),a.firstContext=null)}function Kr(a){var c=a._currentValue;if(Sh!==a)if(a={context:a,memoizedValue:c,next:null},gc===null){if(As===null)throw Error(n(308));gc=a,As.dependencies={lanes:0,firstContext:a}}else gc=gc.next=a;return c}var Ii=null;function yc(a){Ii===null?Ii=[a]:Ii.push(a)}function rd(a,c,g,_){var T=c.interleaved;return T===null?(g.next=g,yc(c)):(g.next=T.next,T.next=g),c.interleaved=g,Is(a,_)}function Is(a,c){a.lanes|=c;var g=a.alternate;for(g!==null&&(g.lanes|=c),g=a,a=a.return;a!==null;)a.childLanes|=c,g=a.alternate,g!==null&&(g.childLanes|=c),g=a,a=a.return;return g.tag===3?g.stateNode:null}var ji=!1;function sd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Di(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Mi(a,c,g){var _=a.updateQueue;if(_===null)return null;if(_=_.shared,(Vt&2)!==0){var T=_.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),_.pending=c,Is(a,g)}return T=_.interleaved,T===null?(c.next=c,yc(_)):(c.next=T.next,T.next=c),_.interleaved=c,Is(a,g)}function kh(a,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var _=c.lanes;_&=a.pendingLanes,g|=_,c.lanes=g,Fu(a,g)}}function id(a,c){var g=a.updateQueue,_=a.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var T=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?T=I=W:I=I.next=W,g=g.next}while(g!==null);I===null?T=I=c:I=I.next=c}else T=I=c;g={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:_.shared,effects:_.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=c:a.next=c,g.lastBaseUpdate=c}function vc(a,c,g,_){var T=a.updateQueue;ji=!1;var I=T.firstBaseUpdate,W=T.lastBaseUpdate,Z=T.shared.pending;if(Z!==null){T.shared.pending=null;var se=Z,ye=se.next;se.next=null,W===null?I=ye:W.next=ye,W=se;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,Z=Ne.lastBaseUpdate,Z!==W&&(Z===null?Ne.firstBaseUpdate=ye:Z.next=ye,Ne.lastBaseUpdate=se))}if(I!==null){var Re=T.baseState;W=0,Ne=ye=se=null,Z=I;do{var Te=Z.lane,Ge=Z.eventTime;if((_&Te)===Te){Ne!==null&&(Ne=Ne.next={eventTime:Ge,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var et=a,rt=Z;switch(Te=c,Ge=g,rt.tag){case 1:if(et=rt.payload,typeof et=="function"){Re=et.call(Ge,Re,Te);break e}Re=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=rt.payload,Te=typeof et=="function"?et.call(Ge,Re,Te):et,Te==null)break e;Re=Q({},Re,Te);break e;case 2:ji=!0}}Z.callback!==null&&Z.lane!==0&&(a.flags|=64,Te=T.effects,Te===null?T.effects=[Z]:Te.push(Z))}else Ge={eventTime:Ge,lane:Te,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ne===null?(ye=Ne=Ge,se=Re):Ne=Ne.next=Ge,W|=Te;if(Z=Z.next,Z===null){if(Z=T.shared.pending,Z===null)break;Te=Z,Z=Te.next,Te.next=null,T.lastBaseUpdate=Te,T.shared.pending=null}}while(!0);if(Ne===null&&(se=Re),T.baseState=se,T.firstBaseUpdate=ye,T.lastBaseUpdate=Ne,c=T.shared.interleaved,c!==null){T=c;do W|=T.lane,T=T.next;while(T!==c)}else I===null&&(T.shared.lanes=0);ld|=W,a.lanes=W,a.memoizedState=Re}}function Cn(a,c,g){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var _=a[c],T=_.callback;if(T!==null){if(_.callback=null,_=g,typeof T!="function")throw Error(n(191,T));T.call(_)}}}var wt={},Qt=co(wt),pn=co(wt),jn=co(wt);function Zn(a){if(a===wt)throw Error(n(174));return a}function ma(a,c){switch(Xt(jn,c),Xt(pn,a),Xt(Qt,wt),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Kl(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Kl(c,a)}en(Qt),Xt(Qt,c)}function mn(){en(Qt),en(pn),en(jn)}function xc(a){Zn(jn.current);var c=Zn(Qt.current),g=Kl(c,a.type);c!==g&&(Xt(pn,a),Xt(Qt,g))}function fo(a){pn.current===a&&(en(Qt),en(pn))}var tn=co(0);function wc(a){for(var c=a;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var xl=[];function jr(){for(var a=0;a<xl.length;a++)xl[a]._workInProgressVersionPrimary=null;xl.length=0}var _c=V.ReactCurrentDispatcher,od=V.ReactCurrentBatchConfig,Yr=0,Gt=null,Tn=null,Hn=null,fi=!1,ga=!1,Ys=0,Ph=0;function Wn(){throw Error(n(321))}function ad(a,c){if(c===null)return!1;for(var g=0;g<c.length&&g<a.length;g++)if(!us(a[g],c[g]))return!1;return!0}function bc(a,c,g,_,T,I){if(Yr=I,Gt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,_c.current=a===null||a.memoizedState===null?sv:xa,a=g(_,T),ga){I=0;do{if(ga=!1,Ys=0,25<=I)throw Error(n(301));I+=1,Hn=Tn=null,c.updateQueue=null,_c.current=Dh,a=g(_,T)}while(ga)}if(_c.current=Tc,c=Tn!==null&&Tn.next!==null,Yr=0,Hn=Tn=Gt=null,fi=!1,c)throw Error(n(300));return a}function Sc(){var a=Ys!==0;return Ys=0,a}function ln(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Gt.memoizedState=Hn=a:Hn=Hn.next=a,Hn}function er(){if(Tn===null){var a=Gt.alternate;a=a!==null?a.memoizedState:null}else a=Tn.next;var c=Hn===null?Gt.memoizedState:Hn.next;if(c!==null)Hn=c,Tn=a;else{if(a===null)throw Error(n(310));Tn=a,a={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Hn===null?Gt.memoizedState=Hn=a:Hn=Hn.next=a}return Hn}function Dr(a,c){return typeof c=="function"?c(a):c}function Mr(a){var c=er(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var _=Tn,T=_.baseQueue,I=g.pending;if(I!==null){if(T!==null){var W=T.next;T.next=I.next,I.next=W}_.baseQueue=T=I,g.pending=null}if(T!==null){I=T.next,_=_.baseState;var Z=W=null,se=null,ye=I;do{var Ne=ye.lane;if((Yr&Ne)===Ne)se!==null&&(se=se.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),_=ye.hasEagerState?ye.eagerState:a(_,ye.action);else{var Re={lane:Ne,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};se===null?(Z=se=Re,W=_):se=se.next=Re,Gt.lanes|=Ne,ld|=Ne}ye=ye.next}while(ye!==null&&ye!==I);se===null?W=_:se.next=Z,us(_,c.memoizedState)||(O=!0),c.memoizedState=_,c.baseState=W,c.baseQueue=se,g.lastRenderedState=_}if(a=g.interleaved,a!==null){T=a;do I=T.lane,Gt.lanes|=I,ld|=I,T=T.next;while(T!==a)}else T===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function Rh(a){var c=er(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var _=g.dispatch,T=g.pending,I=c.memoizedState;if(T!==null){g.pending=null;var W=T=T.next;do I=a(I,W.action),W=W.next;while(W!==T);us(I,c.memoizedState)||(O=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),g.lastRenderedState=I}return[I,_]}function Ah(){}function Ih(a,c){var g=Gt,_=er(),T=c(),I=!us(_.memoizedState,T);if(I&&(_.memoizedState=T,O=!0),_=_.queue,_p(vp.bind(null,g,_,a),[a]),_.getSnapshot!==c||I||Hn!==null&&Hn.memoizedState.tag&1){if(g.flags|=2048,Ec(9,po.bind(null,g,_,T,c),void 0,null),Lr===null)throw Error(n(349));(Yr&30)!==0||Ag(g,c,T)}return T}function Ag(a,c,g){a.flags|=16384,a={getSnapshot:c,value:g},c=Gt.updateQueue,c===null?(c={lastEffect:null,stores:null},Gt.updateQueue=c,c.stores=[a]):(g=c.stores,g===null?c.stores=[a]:g.push(a))}function po(a,c,g,_){c.value=g,c.getSnapshot=_,xp(c)&&jh(a)}function vp(a,c,g){return g(function(){xp(c)&&jh(a)})}function xp(a){var c=a.getSnapshot;a=a.value;try{var g=c();return!us(a,g)}catch{return!0}}function jh(a){var c=Is(a,1);c!==null&&vo(c,a,1,-1)}function ya(a){var c=ln();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},c.queue=a,a=a.dispatch=Lg.bind(null,Gt,a),[c.memoizedState,a]}function Ec(a,c,g,_){return a={tag:a,create:c,destroy:g,deps:_,next:null},c=Gt.updateQueue,c===null?(c={lastEffect:null,stores:null},Gt.updateQueue=c,c.lastEffect=a.next=a):(g=c.lastEffect,g===null?c.lastEffect=a.next=a:(_=g.next,g.next=a,a.next=_,c.lastEffect=a)),a}function wp(){return er().memoizedState}function Cc(a,c,g,_){var T=ln();Gt.flags|=a,T.memoizedState=Ec(1|c,g,void 0,_===void 0?null:_)}function wl(a,c,g,_){var T=er();_=_===void 0?null:_;var I=void 0;if(Tn!==null){var W=Tn.memoizedState;if(I=W.destroy,_!==null&&ad(_,W.deps)){T.memoizedState=Ec(c,g,I,_);return}}Gt.flags|=a,T.memoizedState=Ec(1|c,g,I,_)}function Ig(a,c){return Cc(8390656,8,a,c)}function _p(a,c){return wl(2048,8,a,c)}function bp(a,c){return wl(4,2,a,c)}function Sp(a,c){return wl(4,4,a,c)}function va(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function jg(a,c,g){return g=g!=null?g.concat([a]):null,wl(4,4,va.bind(null,c,a),g)}function mo(){}function Ep(a,c){var g=er();c=c===void 0?null:c;var _=g.memoizedState;return _!==null&&c!==null&&ad(c,_[1])?_[0]:(g.memoizedState=[a,c],a)}function cn(a,c){var g=er();c=c===void 0?null:c;var _=g.memoizedState;return _!==null&&c!==null&&ad(c,_[1])?_[0]:(a=a(),g.memoizedState=[a,c],a)}function Dg(a,c,g){return(Yr&21)===0?(a.baseState&&(a.baseState=!1,O=!0),a.memoizedState=g):(us(g,c)||(g=ec(),Gt.lanes|=g,ld|=g,a.baseState=!0),c)}function Mg(a,c){var g=Nt;Nt=g!==0&&4>g?g:4,a(!0);var _=od.transition;od.transition={};try{a(!1),c()}finally{Nt=g,od.transition=_}}function Og(){return er().memoizedState}function rv(a,c,g){var _=jc(a);if(g={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null},Cp(a))Vg(c,g);else if(g=rd(a,c,g,_),g!==null){var T=Ds();vo(g,a,_,T),js(g,c,_)}}function Lg(a,c,g){var _=jc(a),T={lane:_,action:g,hasEagerState:!1,eagerState:null,next:null};if(Cp(a))Vg(c,T);else{var I=a.alternate;if(a.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var W=c.lastRenderedState,Z=I(W,g);if(T.hasEagerState=!0,T.eagerState=Z,us(Z,W)){var se=c.interleaved;se===null?(T.next=T,yc(c)):(T.next=se.next,se.next=T),c.interleaved=T;return}}catch{}finally{}g=rd(a,c,T,_),g!==null&&(T=Ds(),vo(g,a,_,T),js(g,c,_))}}function Cp(a){var c=a.alternate;return a===Gt||c!==null&&c===Gt}function Vg(a,c){ga=fi=!0;var g=a.pending;g===null?c.next=c:(c.next=g.next,g.next=c),a.pending=c}function js(a,c,g){if((g&4194240)!==0){var _=c.lanes;_&=a.pendingLanes,g|=_,c.lanes=g,Fu(a,g)}}var Tc={readContext:Kr,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},sv={readContext:Kr,useCallback:function(a,c){return ln().memoizedState=[a,c===void 0?null:c],a},useContext:Kr,useEffect:Ig,useImperativeHandle:function(a,c,g){return g=g!=null?g.concat([a]):null,Cc(4194308,4,va.bind(null,c,a),g)},useLayoutEffect:function(a,c){return Cc(4194308,4,a,c)},useInsertionEffect:function(a,c){return Cc(4,2,a,c)},useMemo:function(a,c){var g=ln();return c=c===void 0?null:c,a=a(),g.memoizedState=[a,c],a},useReducer:function(a,c,g){var _=ln();return c=g!==void 0?g(c):c,_.memoizedState=_.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},_.queue=a,a=a.dispatch=rv.bind(null,Gt,a),[_.memoizedState,a]},useRef:function(a){var c=ln();return a={current:a},c.memoizedState=a},useState:ya,useDebugValue:mo,useDeferredValue:function(a){return ln().memoizedState=a},useTransition:function(){var a=ya(!1),c=a[0];return a=Mg.bind(null,a[1]),ln().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,g){var _=Gt,T=ln();if(Bt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),Lr===null)throw Error(n(349));(Yr&30)!==0||Ag(_,c,g)}T.memoizedState=g;var I={value:g,getSnapshot:c};return T.queue=I,Ig(vp.bind(null,_,I,a),[a]),_.flags|=2048,Ec(9,po.bind(null,_,I,g,c),void 0,null),g},useId:function(){var a=ln(),c=Lr.identifierPrefix;if(Bt){var g=fn,_=ks;g=(_&~(1<<32-Tt(_)-1)).toString(32)+g,c=":"+c+"R"+g,g=Ys++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=Ph++,c=":"+c+"r"+g.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},xa={readContext:Kr,useCallback:Ep,useContext:Kr,useEffect:_p,useImperativeHandle:jg,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:cn,useReducer:Mr,useRef:wp,useState:function(){return Mr(Dr)},useDebugValue:mo,useDeferredValue:function(a){var c=er();return Dg(c,Tn.memoizedState,a)},useTransition:function(){var a=Mr(Dr)[0],c=er().memoizedState;return[a,c]},useMutableSource:Ah,useSyncExternalStore:Ih,useId:Og,unstable_isNewReconciler:!1},Dh={readContext:Kr,useCallback:Ep,useContext:Kr,useEffect:_p,useImperativeHandle:jg,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:cn,useReducer:Rh,useRef:wp,useState:function(){return Rh(Dr)},useDebugValue:mo,useDeferredValue:function(a){var c=er();return Tn===null?c.memoizedState=a:Dg(c,Tn.memoizedState,a)},useTransition:function(){var a=Rh(Dr)[0],c=er().memoizedState;return[a,c]},useMutableSource:Ah,useSyncExternalStore:Ih,useId:Og,unstable_isNewReconciler:!1};function br(a,c){if(a&&a.defaultProps){c=Q({},c),a=a.defaultProps;for(var g in a)c[g]===void 0&&(c[g]=a[g]);return c}return c}function Nc(a,c,g,_){c=a.memoizedState,g=g(_,c),g=g==null?c:Q({},c,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var kc={isMounted:function(a){return(a=a._reactInternals)?ii(a)===a:!1},enqueueSetState:function(a,c,g){a=a._reactInternals;var _=Ds(),T=jc(a),I=Di(_,T);I.payload=c,g!=null&&(I.callback=g),c=Mi(a,I,T),c!==null&&(vo(c,a,T,_),kh(c,a,T))},enqueueReplaceState:function(a,c,g){a=a._reactInternals;var _=Ds(),T=jc(a),I=Di(_,T);I.tag=1,I.payload=c,g!=null&&(I.callback=g),c=Mi(a,I,T),c!==null&&(vo(c,a,T,_),kh(c,a,T))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var g=Ds(),_=jc(a),T=Di(g,_);T.tag=2,c!=null&&(T.callback=c),c=Mi(a,T,_),c!==null&&(vo(c,a,_,g),kh(c,a,_))}};function Mh(a,c,g,_,T,I,W){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(_,I,W):c.prototype&&c.prototype.isPureReactComponent?!rl(g,_)||!rl(T,I):!0}function Fg(a,c,g){var _=!1,T=Ri,I=c.contextType;return typeof I=="object"&&I!==null?I=Kr(I):(T=Ir(c)?ua:_r.current,_=c.contextTypes,I=(_=_!=null)?hl(a,T):Ri),c=new c(g,I),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=kc,a.stateNode=c,c._reactInternals=a,_&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=T,a.__reactInternalMemoizedMaskedChildContext=I),c}function Tp(a,c,g,_){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,_),c.state!==a&&kc.enqueueReplaceState(c,c.state,null)}function Oh(a,c,g,_){var T=a.stateNode;T.props=g,T.state=a.memoizedState,T.refs={},sd(a);var I=c.contextType;typeof I=="object"&&I!==null?T.context=Kr(I):(I=Ir(c)?ua:_r.current,T.context=hl(a,I)),T.state=a.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Nc(a,c,I,g),T.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(c=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),c!==T.state&&kc.enqueueReplaceState(T,T.state,null),vc(a,g,T,_),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308)}function _l(a,c){try{var g="",_=c;do g+=Je(_),_=_.return;while(_);var T=g}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:a,source:c,stack:T,digest:null}}function Lh(a,c,g){return{value:a,source:null,stack:g??null,digest:c??null}}function Pc(a,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function zg(a,c,g){g=Di(-1,g),g.tag=3,g.payload={element:null};var _=c.value;return g.callback=function(){Wg||(Wg=!0,mv=_),Pc(a,c)},g}function u(a,c,g){g=Di(-1,g),g.tag=3;var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var T=c.value;g.payload=function(){return _(T)},g.callback=function(){Pc(a,c)}}var I=a.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Pc(a,c),typeof _!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var W=c.stack;this.componentDidCatch(c.value,{componentStack:W!==null?W:""})}),g}function f(a,c,g){var _=a.pingCache;if(_===null){_=a.pingCache=new iv;var T=new Set;_.set(c,T)}else T=_.get(c),T===void 0&&(T=new Set,_.set(c,T));T.has(g)||(T.add(g),a=BA.bind(null,a,c,g),c.then(a,a))}function w(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function E(a,c,g,_,T){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=Di(-1,1),c.tag=2,Mi(g,c,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=T,a)}var N=V.ReactCurrentOwner,O=!1;function Y(a,c,g,_){c.child=a===null?Ks(c,null,g,_):vl(c,a.child,g,_)}function ae(a,c,g,_,T){g=g.render;var I=c.ref;return ho(c,T),_=bc(a,c,g,_,I,T),g=Sc(),a!==null&&!O?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~T,Or(a,c,T)):(Bt&&g&&pc(c),c.flags|=1,Y(a,c,_,T),c.child)}function ve(a,c,g,_,T){if(a===null){var I=g.type;return typeof I=="function"&&!bv(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=I,Ie(a,c,I,_,T)):(a=Qg(g.type,null,_,c,c.mode,T),a.ref=c.ref,a.return=c,c.child=a)}if(I=a.child,(a.lanes&T)===0){var W=I.memoizedProps;if(g=g.compare,g=g!==null?g:rl,g(W,_)&&a.ref===c.ref)return Or(a,c,T)}return c.flags|=1,a=Mc(I,_),a.ref=c.ref,a.return=c,c.child=a}function Ie(a,c,g,_,T){if(a!==null){var I=a.memoizedProps;if(rl(I,_)&&a.ref===c.ref)if(O=!1,c.pendingProps=_=I,(a.lanes&T)!==0)(a.flags&131072)!==0&&(O=!0);else return c.lanes=a.lanes,Or(a,c,T)}return $e(a,c,g,_,T)}function Qe(a,c,g){var _=c.pendingProps,T=_.children,I=a!==null?a.memoizedState:null;if(_.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Fh,pi),pi|=g;else{if((g&1073741824)===0)return a=I!==null?I.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Xt(Fh,pi),pi|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=I!==null?I.baseLanes:g,Xt(Fh,pi),pi|=_}else I!==null?(_=I.baseLanes|g,c.memoizedState=null):_=g,Xt(Fh,pi),pi|=_;return Y(a,c,T,g),c.child}function yt(a,c){var g=c.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function $e(a,c,g,_,T){var I=Ir(g)?ua:_r.current;return I=hl(c,I),ho(c,T),g=bc(a,c,g,_,I,T),_=Sc(),a!==null&&!O?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~T,Or(a,c,T)):(Bt&&_&&pc(c),c.flags|=1,Y(a,c,g,T),c.child)}function nn(a,c,g,_,T){if(Ir(g)){var I=!0;fl(c)}else I=!1;if(ho(c,T),c.stateNode===null)At(a,c),Fg(c,g,_),Oh(c,g,_,T),_=!0;else if(a===null){var W=c.stateNode,Z=c.memoizedProps;W.props=Z;var se=W.context,ye=g.contextType;typeof ye=="object"&&ye!==null?ye=Kr(ye):(ye=Ir(g)?ua:_r.current,ye=hl(c,ye));var Ne=g.getDerivedStateFromProps,Re=typeof Ne=="function"||typeof W.getSnapshotBeforeUpdate=="function";Re||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Z!==_||se!==ye)&&Tp(c,W,_,ye),ji=!1;var Te=c.memoizedState;W.state=Te,vc(c,_,W,T),se=c.memoizedState,Z!==_||Te!==se||Ar.current||ji?(typeof Ne=="function"&&(Nc(c,g,Ne,_),se=c.memoizedState),(Z=ji||Mh(c,g,Z,_,Te,se,ye))?(Re||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(c.flags|=4194308)):(typeof W.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=se),W.props=_,W.state=se,W.context=ye,_=Z):(typeof W.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{W=c.stateNode,Nh(a,c),Z=c.memoizedProps,ye=c.type===c.elementType?Z:br(c.type,Z),W.props=ye,Re=c.pendingProps,Te=W.context,se=g.contextType,typeof se=="object"&&se!==null?se=Kr(se):(se=Ir(g)?ua:_r.current,se=hl(c,se));var Ge=g.getDerivedStateFromProps;(Ne=typeof Ge=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Z!==Re||Te!==se)&&Tp(c,W,_,se),ji=!1,Te=c.memoizedState,W.state=Te,vc(c,_,W,T);var et=c.memoizedState;Z!==Re||Te!==et||Ar.current||ji?(typeof Ge=="function"&&(Nc(c,g,Ge,_),et=c.memoizedState),(ye=ji||Mh(c,g,ye,_,Te,et,se)||!1)?(Ne||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(_,et,se),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(_,et,se)),typeof W.componentDidUpdate=="function"&&(c.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof W.componentDidUpdate!="function"||Z===a.memoizedProps&&Te===a.memoizedState||(c.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Te===a.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=et),W.props=_,W.state=et,W.context=se,_=ye):(typeof W.componentDidUpdate!="function"||Z===a.memoizedProps&&Te===a.memoizedState||(c.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Te===a.memoizedState||(c.flags|=1024),_=!1)}return Ut(a,c,g,_,I,T)}function Ut(a,c,g,_,T,I){yt(a,c);var W=(c.flags&128)!==0;if(!_&&!W)return T&&kg(c,g,!1),Or(a,c,I);_=c.stateNode,N.current=c;var Z=W&&typeof g.getDerivedStateFromError!="function"?null:_.render();return c.flags|=1,a!==null&&W?(c.child=vl(c,a.child,null,I),c.child=vl(c,null,Z,I)):Y(a,c,Z,I),c.memoizedState=_.state,T&&kg(c,g,!0),c.child}function Xr(a){var c=a.stateNode;c.pendingContext?pp(a,c.pendingContext,c.pendingContext!==c.context):c.context&&pp(a,c.context,!1),ma(a,c.containerInfo)}function Oi(a,c,g,_,T){return yl(),td(T),c.flags|=256,Y(a,c,g,_),c.child}var me={dehydrated:null,treeContext:null,retryLane:0};function le(a){return{baseLanes:a,cachePool:null,transitions:null}}function we(a,c,g){var _=c.pendingProps,T=tn.current,I=!1,W=(c.flags&128)!==0,Z;if((Z=W)||(Z=a!==null&&a.memoizedState===null?!1:(T&2)!==0),Z?(I=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(T|=1),Xt(tn,T&1),a===null)return mc(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(W=_.children,a=_.fallback,I?(_=c.mode,I=c.child,W={mode:"hidden",children:W},(_&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=W):I=Jg(W,_,0,null),a=hd(a,_,g,null),I.return=c,a.return=c,I.sibling=a,c.child=I,c.child.memoizedState=le(g),c.memoizedState=me,a):He(c,W));if(T=a.memoizedState,T!==null&&(Z=T.dehydrated,Z!==null))return St(a,c,W,_,Z,T,g);if(I){I=_.fallback,W=c.mode,T=a.child,Z=T.sibling;var se={mode:"hidden",children:_.children};return(W&1)===0&&c.child!==T?(_=c.child,_.childLanes=0,_.pendingProps=se,c.deletions=null):(_=Mc(T,se),_.subtreeFlags=T.subtreeFlags&14680064),Z!==null?I=Mc(Z,I):(I=hd(I,W,g,null),I.flags|=2),I.return=c,_.return=c,_.sibling=I,c.child=_,_=I,I=c.child,W=a.child.memoizedState,W=W===null?le(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},I.memoizedState=W,I.childLanes=a.childLanes&~g,c.memoizedState=me,_}return I=a.child,a=I.sibling,_=Mc(I,{mode:"visible",children:_.children}),(c.mode&1)===0&&(_.lanes=g),_.return=c,_.sibling=null,a!==null&&(g=c.deletions,g===null?(c.deletions=[a],c.flags|=16):g.push(a)),c.child=_,c.memoizedState=null,_}function He(a,c){return c=Jg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function it(a,c,g,_){return _!==null&&td(_),vl(c,a.child,null,g),a=He(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function St(a,c,g,_,T,I,W){if(g)return c.flags&256?(c.flags&=-257,_=Lh(Error(n(422))),it(a,c,W,_)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(I=_.fallback,T=c.mode,_=Jg({mode:"visible",children:_.children},T,0,null),I=hd(I,T,W,null),I.flags|=2,_.return=c,I.return=c,_.sibling=I,c.child=_,(c.mode&1)!==0&&vl(c,a.child,null,W),c.child.memoizedState=le(W),c.memoizedState=me,I);if((c.mode&1)===0)return it(a,c,W,null);if(T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var Z=_.dgst;return _=Z,I=Error(n(419)),_=Lh(I,_,void 0),it(a,c,W,_)}if(Z=(W&a.childLanes)!==0,O||Z){if(_=Lr,_!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(_.suspendedLanes|W))!==0?0:T,T!==0&&T!==I.retryLane&&(I.retryLane=T,Is(a,T),vo(_,a,T,-1))}return _v(),_=Lh(Error(n(421))),it(a,c,W,_)}return T.data==="$?"?(c.flags|=128,c.child=a.child,c=UA.bind(null,a),T._reactRetry=c,null):(a=I.treeContext,Fe=ki(T.nextSibling),Ps=c,Bt=!0,Rs=null,a!==null&&(Gr[qr++]=ks,Gr[qr++]=fn,Gr[qr++]=pa,ks=a.id,fn=a.overflow,pa=c),c=He(c,_.children),c.flags|=4096,c)}function vt(a,c,g){a.lanes|=c;var _=a.alternate;_!==null&&(_.lanes|=c),Th(a.return,c,g)}function It(a,c,g,_,T){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:T}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=g,I.tailMode=T)}function tr(a,c,g){var _=c.pendingProps,T=_.revealOrder,I=_.tail;if(Y(a,c,_.children,g),_=tn.current,(_&2)!==0)_=_&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vt(a,g,c);else if(a.tag===19)vt(a,g,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}_&=1}if(Xt(tn,_),(c.mode&1)===0)c.memoizedState=null;else switch(T){case"forwards":for(g=c.child,T=null;g!==null;)a=g.alternate,a!==null&&wc(a)===null&&(T=g),g=g.sibling;g=T,g===null?(T=c.child,c.child=null):(T=g.sibling,g.sibling=null),It(c,!1,T,g,I);break;case"backwards":for(g=null,T=c.child,c.child=null;T!==null;){if(a=T.alternate,a!==null&&wc(a)===null){c.child=T;break}a=T.sibling,T.sibling=g,g=T,T=a}It(c,!0,g,null,I);break;case"together":It(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function At(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Or(a,c,g){if(a!==null&&(c.dependencies=a.dependencies),ld|=c.lanes,(g&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,g=Mc(a,a.pendingProps),c.child=g,g.return=c;a.sibling!==null;)a=a.sibling,g=g.sibling=Mc(a,a.pendingProps),g.return=c;g.sibling=null}return c.child}function ov(a,c,g){switch(c.tag){case 3:Xr(c),yl();break;case 5:xc(c);break;case 1:Ir(c.type)&&fl(c);break;case 4:ma(c,c.stateNode.containerInfo);break;case 10:var _=c.type._context,T=c.memoizedProps.value;Xt(nd,_._currentValue),_._currentValue=T;break;case 13:if(_=c.memoizedState,_!==null)return _.dehydrated!==null?(Xt(tn,tn.current&1),c.flags|=128,null):(g&c.child.childLanes)!==0?we(a,c,g):(Xt(tn,tn.current&1),a=Or(a,c,g),a!==null?a.sibling:null);Xt(tn,tn.current&1);break;case 19:if(_=(g&c.childLanes)!==0,(a.flags&128)!==0){if(_)return tr(a,c,g);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Xt(tn,tn.current),_)break;return null;case 22:case 23:return c.lanes=0,Qe(a,c,g)}return Or(a,c,g)}var zb,av,Bb,Ub;zb=function(a,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},av=function(){},Bb=function(a,c,g,_){var T=a.memoizedProps;if(T!==_){a=c.stateNode,Zn(Qt.current);var I=null;switch(g){case"input":T=Ct(a,T),_=Ct(a,_),I=[];break;case"select":T=Q({},T,{value:void 0}),_=Q({},_,{value:void 0}),I=[];break;case"textarea":T=Nu(a,T),_=Nu(a,_),I=[];break;default:typeof T.onClick!="function"&&typeof _.onClick=="function"&&(a.onclick=cl)}ni(g,_);var W;g=null;for(ye in T)if(!_.hasOwnProperty(ye)&&T.hasOwnProperty(ye)&&T[ye]!=null)if(ye==="style"){var Z=T[ye];for(W in Z)Z.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(s.hasOwnProperty(ye)?I||(I=[]):(I=I||[]).push(ye,null));for(ye in _){var se=_[ye];if(Z=T!=null?T[ye]:void 0,_.hasOwnProperty(ye)&&se!==Z&&(se!=null||Z!=null))if(ye==="style")if(Z){for(W in Z)!Z.hasOwnProperty(W)||se&&se.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in se)se.hasOwnProperty(W)&&Z[W]!==se[W]&&(g||(g={}),g[W]=se[W])}else g||(I||(I=[]),I.push(ye,g)),g=se;else ye==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,Z=Z?Z.__html:void 0,se!=null&&Z!==se&&(I=I||[]).push(ye,se)):ye==="children"?typeof se!="string"&&typeof se!="number"||(I=I||[]).push(ye,""+se):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(s.hasOwnProperty(ye)?(se!=null&&ye==="onScroll"&&Zt("scroll",a),I||Z===se||(I=[])):(I=I||[]).push(ye,se))}g&&(I=I||[]).push("style",g);var ye=I;(c.updateQueue=ye)&&(c.flags|=4)}},Ub=function(a,c,g,_){g!==_&&(c.flags|=4)};function Np(a,c){if(!Bt)switch(a.tailMode){case"hidden":c=a.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:_.sibling=null}}function hs(a){var c=a.alternate!==null&&a.alternate.child===a.child,g=0,_=0;if(c)for(var T=a.child;T!==null;)g|=T.lanes|T.childLanes,_|=T.subtreeFlags&14680064,_|=T.flags&14680064,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)g|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=_,a.childLanes=g,c}function AA(a,c,g){var _=c.pendingProps;switch(dr(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(c),null;case 1:return Ir(c.type)&&hc(),hs(c),null;case 3:return _=c.stateNode,mn(),en(Ar),en(_r),jr(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(a===null||a.child===null)&&(ed(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Rs!==null&&(vv(Rs),Rs=null))),av(a,c),hs(c),null;case 5:fo(c);var T=Zn(jn.current);if(g=c.type,a!==null&&c.stateNode!=null)Bb(a,c,g,_,T),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!_){if(c.stateNode===null)throw Error(n(166));return hs(c),null}if(a=Zn(Qt.current),ed(c)){_=c.stateNode,g=c.type;var I=c.memoizedProps;switch(_[qs]=c,_[Qu]=I,a=(c.mode&1)!==0,g){case"dialog":Zt("cancel",_),Zt("close",_);break;case"iframe":case"object":case"embed":Zt("load",_);break;case"video":case"audio":for(T=0;T<aa.length;T++)Zt(aa[T],_);break;case"source":Zt("error",_);break;case"img":case"image":case"link":Zt("error",_),Zt("load",_);break;case"details":Zt("toggle",_);break;case"input":kn(_,I),Zt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!I.multiple},Zt("invalid",_);break;case"textarea":ku(_,I),Zt("invalid",_)}ni(g,I),T=null;for(var W in I)if(I.hasOwnProperty(W)){var Z=I[W];W==="children"?typeof Z=="string"?_.textContent!==Z&&(I.suppressHydrationWarning!==!0&&Yu(_.textContent,Z,a),T=["children",Z]):typeof Z=="number"&&_.textContent!==""+Z&&(I.suppressHydrationWarning!==!0&&Yu(_.textContent,Z,a),T=["children",""+Z]):s.hasOwnProperty(W)&&Z!=null&&W==="onScroll"&&Zt("scroll",_)}switch(g){case"input":Ae(_),Ba(_,I,!0);break;case"textarea":Ae(_),Vo(_);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(_.onclick=cl)}_=T,c.updateQueue=_,_!==null&&(c.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Pu(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=W.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof _.is=="string"?a=W.createElement(g,{is:_.is}):(a=W.createElement(g),g==="select"&&(W=a,_.multiple?W.multiple=!0:_.size&&(W.size=_.size))):a=W.createElementNS(a,g),a[qs]=c,a[Qu]=_,zb(a,c,!1,!1),c.stateNode=a;e:{switch(W=$a(g,_),g){case"dialog":Zt("cancel",a),Zt("close",a),T=_;break;case"iframe":case"object":case"embed":Zt("load",a),T=_;break;case"video":case"audio":for(T=0;T<aa.length;T++)Zt(aa[T],a);T=_;break;case"source":Zt("error",a),T=_;break;case"img":case"image":case"link":Zt("error",a),Zt("load",a),T=_;break;case"details":Zt("toggle",a),T=_;break;case"input":kn(a,_),T=Ct(a,_),Zt("invalid",a);break;case"option":T=_;break;case"select":a._wrapperState={wasMultiple:!!_.multiple},T=Q({},_,{value:void 0}),Zt("invalid",a);break;case"textarea":ku(a,_),T=Nu(a,_),Zt("invalid",a);break;default:T=_}ni(g,T),Z=T;for(I in Z)if(Z.hasOwnProperty(I)){var se=Z[I];I==="style"?Yl(a,se):I==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&Qd(a,se)):I==="children"?typeof se=="string"?(g!=="textarea"||se!=="")&&Ua(a,se):typeof se=="number"&&Ua(a,""+se):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?se!=null&&I==="onScroll"&&Zt("scroll",a):se!=null&&D(a,I,se,W))}switch(g){case"input":Ae(a),Ba(a,_,!1);break;case"textarea":Ae(a),Vo(a);break;case"option":_.value!=null&&a.setAttribute("value",""+Ce(_.value));break;case"select":a.multiple=!!_.multiple,I=_.value,I!=null?ti(a,!!_.multiple,I,!1):_.defaultValue!=null&&ti(a,!!_.multiple,_.defaultValue,!0);break;default:typeof T.onClick=="function"&&(a.onclick=cl)}switch(g){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return hs(c),null;case 6:if(a&&c.stateNode!=null)Ub(a,c,a.memoizedProps,_);else{if(typeof _!="string"&&c.stateNode===null)throw Error(n(166));if(g=Zn(jn.current),Zn(Qt.current),ed(c)){if(_=c.stateNode,g=c.memoizedProps,_[qs]=c,(I=_.nodeValue!==g)&&(a=Ps,a!==null))switch(a.tag){case 3:Yu(_.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Yu(_.nodeValue,g,(a.mode&1)!==0)}I&&(c.flags|=4)}else _=(g.nodeType===9?g:g.ownerDocument).createTextNode(_),_[qs]=c,c.stateNode=_}return hs(c),null;case 13:if(en(tn),_=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Bt&&Fe!==null&&(c.mode&1)!==0&&(c.flags&128)===0)gp(),yl(),c.flags|=98560,I=!1;else if(I=ed(c),_!==null&&_.dehydrated!==null){if(a===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[qs]=c}else yl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;hs(c),I=!1}else Rs!==null&&(vv(Rs),Rs=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=g,c):(_=_!==null,_!==(a!==null&&a.memoizedState!==null)&&_&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(tn.current&1)!==0?Sr===0&&(Sr=3):_v())),c.updateQueue!==null&&(c.flags|=4),hs(c),null);case 4:return mn(),av(a,c),a===null&&al(c.stateNode.containerInfo),hs(c),null;case 10:return Ch(c.type._context),hs(c),null;case 17:return Ir(c.type)&&hc(),hs(c),null;case 19:if(en(tn),I=c.memoizedState,I===null)return hs(c),null;if(_=(c.flags&128)!==0,W=I.rendering,W===null)if(_)Np(I,!1);else{if(Sr!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(W=wc(a),W!==null){for(c.flags|=128,Np(I,!1),_=W.updateQueue,_!==null&&(c.updateQueue=_,c.flags|=4),c.subtreeFlags=0,_=g,g=c.child;g!==null;)I=g,a=_,I.flags&=14680066,W=I.alternate,W===null?(I.childLanes=0,I.lanes=a,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=W.childLanes,I.lanes=W.lanes,I.child=W.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=W.memoizedProps,I.memoizedState=W.memoizedState,I.updateQueue=W.updateQueue,I.type=W.type,a=W.dependencies,I.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return Xt(tn,tn.current&1|2),c.child}a=a.sibling}I.tail!==null&&on()>zh&&(c.flags|=128,_=!0,Np(I,!1),c.lanes=4194304)}else{if(!_)if(a=wc(W),a!==null){if(c.flags|=128,_=!0,g=a.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),Np(I,!0),I.tail===null&&I.tailMode==="hidden"&&!W.alternate&&!Bt)return hs(c),null}else 2*on()-I.renderingStartTime>zh&&g!==1073741824&&(c.flags|=128,_=!0,Np(I,!1),c.lanes=4194304);I.isBackwards?(W.sibling=c.child,c.child=W):(g=I.last,g!==null?g.sibling=W:c.child=W,I.last=W)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=on(),c.sibling=null,g=tn.current,Xt(tn,_?g&1|2:g&1),c):(hs(c),null);case 22:case 23:return wv(),_=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==_&&(c.flags|=8192),_&&(c.mode&1)!==0?(pi&1073741824)!==0&&(hs(c),c.subtreeFlags&6&&(c.flags|=8192)):hs(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function IA(a,c){switch(dr(c),c.tag){case 1:return Ir(c.type)&&hc(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return mn(),en(Ar),en(_r),jr(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return fo(c),null;case 13:if(en(tn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));yl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return en(tn),null;case 4:return mn(),null;case 10:return Ch(c.type._context),null;case 22:case 23:return wv(),null;case 24:return null;default:return null}}var Bg=!1,fs=!1,jA=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Vh(a,c){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(_){Gn(a,c,_)}else g.current=null}function lv(a,c,g){try{g()}catch(_){Gn(a,c,_)}}var $b=!1;function DA(a,c){if(up=so,a=Qn(),lc(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var T=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var W=0,Z=-1,se=-1,ye=0,Ne=0,Re=a,Te=null;t:for(;;){for(var Ge;Re!==g||T!==0&&Re.nodeType!==3||(Z=W+T),Re!==I||_!==0&&Re.nodeType!==3||(se=W+_),Re.nodeType===3&&(W+=Re.nodeValue.length),(Ge=Re.firstChild)!==null;)Te=Re,Re=Ge;for(;;){if(Re===a)break t;if(Te===g&&++ye===T&&(Z=W),Te===I&&++Ne===_&&(se=W),(Ge=Re.nextSibling)!==null)break;Re=Te,Te=Re.parentNode}Re=Ge}g=Z===-1||se===-1?null:{start:Z,end:se}}else g=null}g=g||{start:0,end:0}}else g=null;for(dp={focusedElem:a,selectionRange:g},so=!1,Ze=c;Ze!==null;)if(c=Ze,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ze=a;else for(;Ze!==null;){c=Ze;try{var et=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var rt=et.memoizedProps,nr=et.memoizedState,fe=c.stateNode,oe=fe.getSnapshotBeforeUpdate(c.elementType===c.type?rt:br(c.type,rt),nr);fe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var pe=c.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){Gn(c,c.return,De)}if(a=c.sibling,a!==null){a.return=c.return,Ze=a;break}Ze=c.return}return et=$b,$b=!1,et}function kp(a,c,g){var _=c.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&a)===a){var I=T.destroy;T.destroy=void 0,I!==void 0&&lv(c,g,I)}T=T.next}while(T!==_)}}function Ug(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&a)===a){var _=g.create;g.destroy=_()}g=g.next}while(g!==c)}}function cv(a){var c=a.ref;if(c!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof c=="function"?c(a):c.current=a}}function Hb(a){var c=a.alternate;c!==null&&(a.alternate=null,Hb(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[qs],delete c[Qu],delete c[yh],delete c[Tg],delete c[Ng])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Wb(a){return a.tag===5||a.tag===3||a.tag===4}function Gb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function uv(a,c,g){var _=a.tag;if(_===5||_===6)a=a.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(a,c):g.insertBefore(a,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(a,g)):(c=g,c.appendChild(a)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=cl));else if(_!==4&&(a=a.child,a!==null))for(uv(a,c,g),a=a.sibling;a!==null;)uv(a,c,g),a=a.sibling}function dv(a,c,g){var _=a.tag;if(_===5||_===6)a=a.stateNode,c?g.insertBefore(a,c):g.appendChild(a);else if(_!==4&&(a=a.child,a!==null))for(dv(a,c,g),a=a.sibling;a!==null;)dv(a,c,g),a=a.sibling}var Qr=null,go=!1;function Rc(a,c,g){for(g=g.child;g!==null;)qb(a,c,g),g=g.sibling}function qb(a,c,g){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Bs,g)}catch{}switch(g.tag){case 5:fs||Vh(g,c);case 6:var _=Qr,T=go;Qr=null,Rc(a,c,g),Qr=_,go=T,Qr!==null&&(go?(a=Qr,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Qr.removeChild(g.stateNode));break;case 18:Qr!==null&&(go?(a=Qr,g=g.stateNode,a.nodeType===8?gh(a.parentNode,g):a.nodeType===1&&gh(a,g),xr(a)):gh(Qr,g.stateNode));break;case 4:_=Qr,T=go,Qr=g.stateNode.containerInfo,go=!0,Rc(a,c,g),Qr=_,go=T;break;case 0:case 11:case 14:case 15:if(!fs&&(_=g.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){T=_=_.next;do{var I=T,W=I.destroy;I=I.tag,W!==void 0&&((I&2)!==0||(I&4)!==0)&&lv(g,c,W),T=T.next}while(T!==_)}Rc(a,c,g);break;case 1:if(!fs&&(Vh(g,c),_=g.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=g.memoizedProps,_.state=g.memoizedState,_.componentWillUnmount()}catch(Z){Gn(g,c,Z)}Rc(a,c,g);break;case 21:Rc(a,c,g);break;case 22:g.mode&1?(fs=(_=fs)||g.memoizedState!==null,Rc(a,c,g),fs=_):Rc(a,c,g);break;default:Rc(a,c,g)}}function Kb(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new jA),c.forEach(function(_){var T=$A.bind(null,a,_);g.has(_)||(g.add(_),_.then(T,T))})}}function yo(a,c){var g=c.deletions;if(g!==null)for(var _=0;_<g.length;_++){var T=g[_];try{var I=a,W=c,Z=W;e:for(;Z!==null;){switch(Z.tag){case 5:Qr=Z.stateNode,go=!1;break e;case 3:Qr=Z.stateNode.containerInfo,go=!0;break e;case 4:Qr=Z.stateNode.containerInfo,go=!0;break e}Z=Z.return}if(Qr===null)throw Error(n(160));qb(I,W,T),Qr=null,go=!1;var se=T.alternate;se!==null&&(se.return=null),T.return=null}catch(ye){Gn(T,c,ye)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Yb(c,a),c=c.sibling}function Yb(a,c){var g=a.alternate,_=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(yo(c,a),wa(a),_&4){try{kp(3,a,a.return),Ug(3,a)}catch(rt){Gn(a,a.return,rt)}try{kp(5,a,a.return)}catch(rt){Gn(a,a.return,rt)}}break;case 1:yo(c,a),wa(a),_&512&&g!==null&&Vh(g,g.return);break;case 5:if(yo(c,a),wa(a),_&512&&g!==null&&Vh(g,g.return),a.flags&32){var T=a.stateNode;try{Ua(T,"")}catch(rt){Gn(a,a.return,rt)}}if(_&4&&(T=a.stateNode,T!=null)){var I=a.memoizedProps,W=g!==null?g.memoizedProps:I,Z=a.type,se=a.updateQueue;if(a.updateQueue=null,se!==null)try{Z==="input"&&I.type==="radio"&&I.name!=null&&zs(T,I),$a(Z,W);var ye=$a(Z,I);for(W=0;W<se.length;W+=2){var Ne=se[W],Re=se[W+1];Ne==="style"?Yl(T,Re):Ne==="dangerouslySetInnerHTML"?Qd(T,Re):Ne==="children"?Ua(T,Re):D(T,Ne,Re,ye)}switch(Z){case"input":xs(T,I);break;case"textarea":Lo(T,I);break;case"select":var Te=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!I.multiple;var Ge=I.value;Ge!=null?ti(T,!!I.multiple,Ge,!1):Te!==!!I.multiple&&(I.defaultValue!=null?ti(T,!!I.multiple,I.defaultValue,!0):ti(T,!!I.multiple,I.multiple?[]:"",!1))}T[Qu]=I}catch(rt){Gn(a,a.return,rt)}}break;case 6:if(yo(c,a),wa(a),_&4){if(a.stateNode===null)throw Error(n(162));T=a.stateNode,I=a.memoizedProps;try{T.nodeValue=I}catch(rt){Gn(a,a.return,rt)}}break;case 3:if(yo(c,a),wa(a),_&4&&g!==null&&g.memoizedState.isDehydrated)try{xr(c.containerInfo)}catch(rt){Gn(a,a.return,rt)}break;case 4:yo(c,a),wa(a);break;case 13:yo(c,a),wa(a),T=a.child,T.flags&8192&&(I=T.memoizedState!==null,T.stateNode.isHidden=I,!I||T.alternate!==null&&T.alternate.memoizedState!==null||(pv=on())),_&4&&Kb(a);break;case 22:if(Ne=g!==null&&g.memoizedState!==null,a.mode&1?(fs=(ye=fs)||Ne,yo(c,a),fs=ye):yo(c,a),wa(a),_&8192){if(ye=a.memoizedState!==null,(a.stateNode.isHidden=ye)&&!Ne&&(a.mode&1)!==0)for(Ze=a,Ne=a.child;Ne!==null;){for(Re=Ze=Ne;Ze!==null;){switch(Te=Ze,Ge=Te.child,Te.tag){case 0:case 11:case 14:case 15:kp(4,Te,Te.return);break;case 1:Vh(Te,Te.return);var et=Te.stateNode;if(typeof et.componentWillUnmount=="function"){_=Te,g=Te.return;try{c=_,et.props=c.memoizedProps,et.state=c.memoizedState,et.componentWillUnmount()}catch(rt){Gn(_,g,rt)}}break;case 5:Vh(Te,Te.return);break;case 22:if(Te.memoizedState!==null){Jb(Re);continue}}Ge!==null?(Ge.return=Te,Ze=Ge):Jb(Re)}Ne=Ne.sibling}e:for(Ne=null,Re=a;;){if(Re.tag===5){if(Ne===null){Ne=Re;try{T=Re.stateNode,ye?(I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(Z=Re.stateNode,se=Re.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null,Z.style.display=Bo("display",W))}catch(rt){Gn(a,a.return,rt)}}}else if(Re.tag===6){if(Ne===null)try{Re.stateNode.nodeValue=ye?"":Re.memoizedProps}catch(rt){Gn(a,a.return,rt)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===a)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===a)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===a)break e;Ne===Re&&(Ne=null),Re=Re.return}Ne===Re&&(Ne=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:yo(c,a),wa(a),_&4&&Kb(a);break;case 21:break;default:yo(c,a),wa(a)}}function wa(a){var c=a.flags;if(c&2){try{e:{for(var g=a.return;g!==null;){if(Wb(g)){var _=g;break e}g=g.return}throw Error(n(160))}switch(_.tag){case 5:var T=_.stateNode;_.flags&32&&(Ua(T,""),_.flags&=-33);var I=Gb(a);dv(a,I,T);break;case 3:case 4:var W=_.stateNode.containerInfo,Z=Gb(a);uv(a,Z,W);break;default:throw Error(n(161))}}catch(se){Gn(a,a.return,se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function MA(a,c,g){Ze=a,Xb(a)}function Xb(a,c,g){for(var _=(a.mode&1)!==0;Ze!==null;){var T=Ze,I=T.child;if(T.tag===22&&_){var W=T.memoizedState!==null||Bg;if(!W){var Z=T.alternate,se=Z!==null&&Z.memoizedState!==null||fs;Z=Bg;var ye=fs;if(Bg=W,(fs=se)&&!ye)for(Ze=T;Ze!==null;)W=Ze,se=W.child,W.tag===22&&W.memoizedState!==null?Zb(T):se!==null?(se.return=W,Ze=se):Zb(T);for(;I!==null;)Ze=I,Xb(I),I=I.sibling;Ze=T,Bg=Z,fs=ye}Qb(a)}else(T.subtreeFlags&8772)!==0&&I!==null?(I.return=T,Ze=I):Qb(a)}}function Qb(a){for(;Ze!==null;){var c=Ze;if((c.flags&8772)!==0){var g=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:fs||Ug(5,c);break;case 1:var _=c.stateNode;if(c.flags&4&&!fs)if(g===null)_.componentDidMount();else{var T=c.elementType===c.type?g.memoizedProps:br(c.type,g.memoizedProps);_.componentDidUpdate(T,g.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&Cn(c,I,_);break;case 3:var W=c.updateQueue;if(W!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=c.child.stateNode;break;case 1:g=c.child.stateNode}Cn(c,W,g)}break;case 5:var Z=c.stateNode;if(g===null&&c.flags&4){g=Z;var se=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&g.focus();break;case"img":se.src&&(g.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ye=c.alternate;if(ye!==null){var Ne=ye.memoizedState;if(Ne!==null){var Re=Ne.dehydrated;Re!==null&&xr(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fs||c.flags&512&&cv(c)}catch(Te){Gn(c,c.return,Te)}}if(c===a){Ze=null;break}if(g=c.sibling,g!==null){g.return=c.return,Ze=g;break}Ze=c.return}}function Jb(a){for(;Ze!==null;){var c=Ze;if(c===a){Ze=null;break}var g=c.sibling;if(g!==null){g.return=c.return,Ze=g;break}Ze=c.return}}function Zb(a){for(;Ze!==null;){var c=Ze;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{Ug(4,c)}catch(se){Gn(c,g,se)}break;case 1:var _=c.stateNode;if(typeof _.componentDidMount=="function"){var T=c.return;try{_.componentDidMount()}catch(se){Gn(c,T,se)}}var I=c.return;try{cv(c)}catch(se){Gn(c,I,se)}break;case 5:var W=c.return;try{cv(c)}catch(se){Gn(c,W,se)}}}catch(se){Gn(c,c.return,se)}if(c===a){Ze=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,Ze=Z;break}Ze=c.return}}var OA=Math.ceil,$g=V.ReactCurrentDispatcher,hv=V.ReactCurrentOwner,Li=V.ReactCurrentBatchConfig,Vt=0,Lr=null,hr=null,Jr=0,pi=0,Fh=co(0),Sr=0,Pp=null,ld=0,Hg=0,fv=0,Rp=null,Xs=null,pv=0,zh=1/0,bl=null,Wg=!1,mv=null,Ac=null,Gg=!1,Ic=null,qg=0,Ap=0,gv=null,Kg=-1,Yg=0;function Ds(){return(Vt&6)!==0?on():Kg!==-1?Kg:Kg=on()}function jc(a){return(a.mode&1)===0?1:(Vt&2)!==0&&Jr!==0?Jr&-Jr:yp.transition!==null?(Yg===0&&(Yg=ec()),Yg):(a=Nt,a!==0||(a=window.event,a=a===void 0?16:nc(a.type)),a)}function vo(a,c,g,_){if(50<Ap)throw Ap=0,gv=null,Error(n(185));Ka(a,g,_),((Vt&2)===0||a!==Lr)&&(a===Lr&&((Vt&2)===0&&(Hg|=g),Sr===4&&Dc(a,Jr)),Qs(a,_),g===1&&Vt===0&&(c.mode&1)===0&&(zh=on()+500,fc&&da()))}function Qs(a,c){var g=a.callbackNode;qo(a,c);var _=Us(a,a===Lr?Jr:0);if(_===0)g!==null&&Zl(g),a.callbackNode=null,a.callbackPriority=0;else if(c=_&-_,a.callbackPriority!==c){if(g!=null&&Zl(g),c===1)a.tag===0?uo(tS.bind(null,a)):Zu(tS.bind(null,a)),Eg(function(){(Vt&6)===0&&da()}),g=null;else{switch(_s(_)){case 1:g=Si;break;case 4:g=qa;break;case 16:g=eo;break;case 536870912:g=Wo;break;default:g=eo}g=cS(g,eS.bind(null,a))}a.callbackPriority=c,a.callbackNode=g}}function eS(a,c){if(Kg=-1,Yg=0,(Vt&6)!==0)throw Error(n(327));var g=a.callbackNode;if(Bh()&&a.callbackNode!==g)return null;var _=Us(a,a===Lr?Jr:0);if(_===0)return null;if((_&30)!==0||(_&a.expiredLanes)!==0||c)c=Xg(a,_);else{c=_;var T=Vt;Vt|=2;var I=rS();(Lr!==a||Jr!==c)&&(bl=null,zh=on()+500,ud(a,c));do try{FA();break}catch(Z){nS(a,Z)}while(!0);Eh(),$g.current=I,Vt=T,hr!==null?c=0:(Lr=null,Jr=0,c=Sr)}if(c!==0){if(c===2&&(T=Ko(a),T!==0&&(_=T,c=yv(a,T))),c===1)throw g=Pp,ud(a,0),Dc(a,_),Qs(a,on()),g;if(c===6)Dc(a,_);else{if(T=a.current.alternate,(_&30)===0&&!LA(T)&&(c=Xg(a,_),c===2&&(I=Ko(a),I!==0&&(_=I,c=yv(a,I))),c===1))throw g=Pp,ud(a,0),Dc(a,_),Qs(a,on()),g;switch(a.finishedWork=T,a.finishedLanes=_,c){case 0:case 1:throw Error(n(345));case 2:dd(a,Xs,bl);break;case 3:if(Dc(a,_),(_&130023424)===_&&(c=pv+500-on(),10<c)){if(Us(a,0)!==0)break;if(T=a.suspendedLanes,(T&_)!==_){Ds(),a.pingedLanes|=a.suspendedLanes&T;break}a.timeoutHandle=Ns(dd.bind(null,a,Xs,bl),c);break}dd(a,Xs,bl);break;case 4:if(Dc(a,_),(_&4194240)===_)break;for(c=a.eventTimes,T=-1;0<_;){var W=31-Tt(_);I=1<<W,W=c[W],W>T&&(T=W),_&=~I}if(_=T,_=on()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*OA(_/1960))-_,10<_){a.timeoutHandle=Ns(dd.bind(null,a,Xs,bl),_);break}dd(a,Xs,bl);break;case 5:dd(a,Xs,bl);break;default:throw Error(n(329))}}}return Qs(a,on()),a.callbackNode===g?eS.bind(null,a):null}function yv(a,c){var g=Rp;return a.current.memoizedState.isDehydrated&&(ud(a,c).flags|=256),a=Xg(a,c),a!==2&&(c=Xs,Xs=g,c!==null&&vv(c)),a}function vv(a){Xs===null?Xs=a:Xs.push.apply(Xs,a)}function LA(a){for(var c=a;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var _=0;_<g.length;_++){var T=g[_],I=T.getSnapshot;T=T.value;try{if(!us(I(),T))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Dc(a,c){for(c&=~fv,c&=~Hg,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var g=31-Tt(c),_=1<<g;a[g]=-1,c&=~_}}function tS(a){if((Vt&6)!==0)throw Error(n(327));Bh();var c=Us(a,0);if((c&1)===0)return Qs(a,on()),null;var g=Xg(a,c);if(a.tag!==0&&g===2){var _=Ko(a);_!==0&&(c=_,g=yv(a,_))}if(g===1)throw g=Pp,ud(a,0),Dc(a,c),Qs(a,on()),g;if(g===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,dd(a,Xs,bl),Qs(a,on()),null}function xv(a,c){var g=Vt;Vt|=1;try{return a(c)}finally{Vt=g,Vt===0&&(zh=on()+500,fc&&da())}}function cd(a){Ic!==null&&Ic.tag===0&&(Vt&6)===0&&Bh();var c=Vt;Vt|=1;var g=Li.transition,_=Nt;try{if(Li.transition=null,Nt=1,a)return a()}finally{Nt=_,Li.transition=g,Vt=c,(Vt&6)===0&&da()}}function wv(){pi=Fh.current,en(Fh)}function ud(a,c){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,fp(g)),hr!==null)for(g=hr.return;g!==null;){var _=g;switch(dr(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&hc();break;case 3:mn(),en(Ar),en(_r),jr();break;case 5:fo(_);break;case 4:mn();break;case 13:en(tn);break;case 19:en(tn);break;case 10:Ch(_.type._context);break;case 22:case 23:wv()}g=g.return}if(Lr=a,hr=a=Mc(a.current,null),Jr=pi=c,Sr=0,Pp=null,fv=Hg=ld=0,Xs=Rp=null,Ii!==null){for(c=0;c<Ii.length;c++)if(g=Ii[c],_=g.interleaved,_!==null){g.interleaved=null;var T=_.next,I=g.pending;if(I!==null){var W=I.next;I.next=T,_.next=W}g.pending=_}Ii=null}return a}function nS(a,c){do{var g=hr;try{if(Eh(),_c.current=Tc,fi){for(var _=Gt.memoizedState;_!==null;){var T=_.queue;T!==null&&(T.pending=null),_=_.next}fi=!1}if(Yr=0,Hn=Tn=Gt=null,ga=!1,Ys=0,hv.current=null,g===null||g.return===null){Sr=1,Pp=c,hr=null;break}e:{var I=a,W=g.return,Z=g,se=c;if(c=Jr,Z.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var ye=se,Ne=Z,Re=Ne.tag;if((Ne.mode&1)===0&&(Re===0||Re===11||Re===15)){var Te=Ne.alternate;Te?(Ne.updateQueue=Te.updateQueue,Ne.memoizedState=Te.memoizedState,Ne.lanes=Te.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Ge=w(W);if(Ge!==null){Ge.flags&=-257,E(Ge,W,Z,I,c),Ge.mode&1&&f(I,ye,c),c=Ge,se=ye;var et=c.updateQueue;if(et===null){var rt=new Set;rt.add(se),c.updateQueue=rt}else et.add(se);break e}else{if((c&1)===0){f(I,ye,c),_v();break e}se=Error(n(426))}}else if(Bt&&Z.mode&1){var nr=w(W);if(nr!==null){(nr.flags&65536)===0&&(nr.flags|=256),E(nr,W,Z,I,c),td(_l(se,Z));break e}}I=se=_l(se,Z),Sr!==4&&(Sr=2),Rp===null?Rp=[I]:Rp.push(I),I=W;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var fe=zg(I,se,c);id(I,fe);break e;case 1:Z=se;var oe=I.type,pe=I.stateNode;if((I.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Ac===null||!Ac.has(pe)))){I.flags|=65536,c&=-c,I.lanes|=c;var De=u(I,Z,c);id(I,De);break e}}I=I.return}while(I!==null)}iS(g)}catch(st){c=st,hr===g&&g!==null&&(hr=g=g.return);continue}break}while(!0)}function rS(){var a=$g.current;return $g.current=Tc,a===null?Tc:a}function _v(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Lr===null||(ld&268435455)===0&&(Hg&268435455)===0||Dc(Lr,Jr)}function Xg(a,c){var g=Vt;Vt|=2;var _=rS();(Lr!==a||Jr!==c)&&(bl=null,ud(a,c));do try{VA();break}catch(T){nS(a,T)}while(!0);if(Eh(),Vt=g,$g.current=_,hr!==null)throw Error(n(261));return Lr=null,Jr=0,Sr}function VA(){for(;hr!==null;)sS(hr)}function FA(){for(;hr!==null&&!Ga();)sS(hr)}function sS(a){var c=lS(a.alternate,a,pi);a.memoizedProps=a.pendingProps,c===null?iS(a):hr=c,hv.current=null}function iS(a){var c=a;do{var g=c.alternate;if(a=c.return,(c.flags&32768)===0){if(g=AA(g,c,pi),g!==null){hr=g;return}}else{if(g=IA(g,c),g!==null){g.flags&=32767,hr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Sr=6,hr=null;return}}if(c=c.sibling,c!==null){hr=c;return}hr=c=a}while(c!==null);Sr===0&&(Sr=5)}function dd(a,c,g){var _=Nt,T=Li.transition;try{Li.transition=null,Nt=1,zA(a,c,g,_)}finally{Li.transition=T,Nt=_}return null}function zA(a,c,g,_){do Bh();while(Ic!==null);if((Vt&6)!==0)throw Error(n(327));g=a.finishedWork;var T=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var I=g.lanes|g.childLanes;if(Gf(a,I),a===Lr&&(hr=Lr=null,Jr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Gg||(Gg=!0,cS(eo,function(){return Bh(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=Li.transition,Li.transition=null;var W=Nt;Nt=1;var Z=Vt;Vt|=4,hv.current=null,DA(a,g),Yb(g,a),Wu(dp),so=!!up,dp=up=null,a.current=g,MA(g),Zi(),Vt=Z,Nt=W,Li.transition=I}else a.current=g;if(Gg&&(Gg=!1,Ic=a,qg=T),I=a.pendingLanes,I===0&&(Ac=null),Ht(g.stateNode),Qs(a,on()),c!==null)for(_=a.onRecoverableError,g=0;g<c.length;g++)T=c[g],_(T.value,{componentStack:T.stack,digest:T.digest});if(Wg)throw Wg=!1,a=mv,mv=null,a;return(qg&1)!==0&&a.tag!==0&&Bh(),I=a.pendingLanes,(I&1)!==0?a===gv?Ap++:(Ap=0,gv=a):Ap=0,da(),null}function Bh(){if(Ic!==null){var a=_s(qg),c=Li.transition,g=Nt;try{if(Li.transition=null,Nt=16>a?16:a,Ic===null)var _=!1;else{if(a=Ic,Ic=null,qg=0,(Vt&6)!==0)throw Error(n(331));var T=Vt;for(Vt|=4,Ze=a.current;Ze!==null;){var I=Ze,W=I.child;if((Ze.flags&16)!==0){var Z=I.deletions;if(Z!==null){for(var se=0;se<Z.length;se++){var ye=Z[se];for(Ze=ye;Ze!==null;){var Ne=Ze;switch(Ne.tag){case 0:case 11:case 15:kp(8,Ne,I)}var Re=Ne.child;if(Re!==null)Re.return=Ne,Ze=Re;else for(;Ze!==null;){Ne=Ze;var Te=Ne.sibling,Ge=Ne.return;if(Hb(Ne),Ne===ye){Ze=null;break}if(Te!==null){Te.return=Ge,Ze=Te;break}Ze=Ge}}}var et=I.alternate;if(et!==null){var rt=et.child;if(rt!==null){et.child=null;do{var nr=rt.sibling;rt.sibling=null,rt=nr}while(rt!==null)}}Ze=I}}if((I.subtreeFlags&2064)!==0&&W!==null)W.return=I,Ze=W;else e:for(;Ze!==null;){if(I=Ze,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:kp(9,I,I.return)}var fe=I.sibling;if(fe!==null){fe.return=I.return,Ze=fe;break e}Ze=I.return}}var oe=a.current;for(Ze=oe;Ze!==null;){W=Ze;var pe=W.child;if((W.subtreeFlags&2064)!==0&&pe!==null)pe.return=W,Ze=pe;else e:for(W=oe;Ze!==null;){if(Z=Ze,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Ug(9,Z)}}catch(st){Gn(Z,Z.return,st)}if(Z===W){Ze=null;break e}var De=Z.sibling;if(De!==null){De.return=Z.return,Ze=De;break e}Ze=Z.return}}if(Vt=T,da(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Bs,a)}catch{}_=!0}return _}finally{Nt=g,Li.transition=c}}return!1}function oS(a,c,g){c=_l(g,c),c=zg(a,c,1),a=Mi(a,c,1),c=Ds(),a!==null&&(Ka(a,1,c),Qs(a,c))}function Gn(a,c,g){if(a.tag===3)oS(a,a,g);else for(;c!==null;){if(c.tag===3){oS(c,a,g);break}else if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ac===null||!Ac.has(_))){a=_l(g,a),a=u(c,a,1),c=Mi(c,a,1),a=Ds(),c!==null&&(Ka(c,1,a),Qs(c,a));break}}c=c.return}}function BA(a,c,g){var _=a.pingCache;_!==null&&_.delete(c),c=Ds(),a.pingedLanes|=a.suspendedLanes&g,Lr===a&&(Jr&g)===g&&(Sr===4||Sr===3&&(Jr&130023424)===Jr&&500>on()-pv?ud(a,0):fv|=g),Qs(a,c)}function aS(a,c){c===0&&((a.mode&1)===0?c=1:(c=ws,ws<<=1,(ws&130023424)===0&&(ws=4194304)));var g=Ds();a=Is(a,c),a!==null&&(Ka(a,c,g),Qs(a,g))}function UA(a){var c=a.memoizedState,g=0;c!==null&&(g=c.retryLane),aS(a,g)}function $A(a,c){var g=0;switch(a.tag){case 13:var _=a.stateNode,T=a.memoizedState;T!==null&&(g=T.retryLane);break;case 19:_=a.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(c),aS(a,g)}var lS;lS=function(a,c,g){if(a!==null)if(a.memoizedProps!==c.pendingProps||Ar.current)O=!0;else{if((a.lanes&g)===0&&(c.flags&128)===0)return O=!1,ov(a,c,g);O=(a.flags&131072)!==0}else O=!1,Bt&&(c.flags&1048576)!==0&&Pg(c,fa,c.index);switch(c.lanes=0,c.tag){case 2:var _=c.type;At(a,c),a=c.pendingProps;var T=hl(c,_r.current);ho(c,g),T=bc(null,c,_,a,T,g);var I=Sc();return c.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ir(_)?(I=!0,fl(c)):I=!1,c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,sd(c),T.updater=kc,c.stateNode=T,T._reactInternals=c,Oh(c,_,a,g),c=Ut(null,c,_,!0,I,g)):(c.tag=0,Bt&&I&&pc(c),Y(null,c,T,g),c=c.child),c;case 16:_=c.elementType;e:{switch(At(a,c),a=c.pendingProps,T=_._init,_=T(_._payload),c.type=_,T=c.tag=WA(_),a=br(_,a),T){case 0:c=$e(null,c,_,a,g);break e;case 1:c=nn(null,c,_,a,g);break e;case 11:c=ae(null,c,_,a,g);break e;case 14:c=ve(null,c,_,br(_.type,a),g);break e}throw Error(n(306,_,""))}return c;case 0:return _=c.type,T=c.pendingProps,T=c.elementType===_?T:br(_,T),$e(a,c,_,T,g);case 1:return _=c.type,T=c.pendingProps,T=c.elementType===_?T:br(_,T),nn(a,c,_,T,g);case 3:e:{if(Xr(c),a===null)throw Error(n(387));_=c.pendingProps,I=c.memoizedState,T=I.element,Nh(a,c),vc(c,_,null,g);var W=c.memoizedState;if(_=W.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){T=_l(Error(n(423)),c),c=Oi(a,c,_,g,T);break e}else if(_!==T){T=_l(Error(n(424)),c),c=Oi(a,c,_,g,T);break e}else for(Fe=ki(c.stateNode.containerInfo.firstChild),Ps=c,Bt=!0,Rs=null,g=Ks(c,null,_,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(yl(),_===T){c=Or(a,c,g);break e}Y(a,c,_,g)}c=c.child}return c;case 5:return xc(c),a===null&&mc(c),_=c.type,T=c.pendingProps,I=a!==null?a.memoizedProps:null,W=T.children,hp(_,T)?W=null:I!==null&&hp(_,I)&&(c.flags|=32),yt(a,c),Y(a,c,W,g),c.child;case 6:return a===null&&mc(c),null;case 13:return we(a,c,g);case 4:return ma(c,c.stateNode.containerInfo),_=c.pendingProps,a===null?c.child=vl(c,null,_,g):Y(a,c,_,g),c.child;case 11:return _=c.type,T=c.pendingProps,T=c.elementType===_?T:br(_,T),ae(a,c,_,T,g);case 7:return Y(a,c,c.pendingProps,g),c.child;case 8:return Y(a,c,c.pendingProps.children,g),c.child;case 12:return Y(a,c,c.pendingProps.children,g),c.child;case 10:e:{if(_=c.type._context,T=c.pendingProps,I=c.memoizedProps,W=T.value,Xt(nd,_._currentValue),_._currentValue=W,I!==null)if(us(I.value,W)){if(I.children===T.children&&!Ar.current){c=Or(a,c,g);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var Z=I.dependencies;if(Z!==null){W=I.child;for(var se=Z.firstContext;se!==null;){if(se.context===_){if(I.tag===1){se=Di(-1,g&-g),se.tag=2;var ye=I.updateQueue;if(ye!==null){ye=ye.shared;var Ne=ye.pending;Ne===null?se.next=se:(se.next=Ne.next,Ne.next=se),ye.pending=se}}I.lanes|=g,se=I.alternate,se!==null&&(se.lanes|=g),Th(I.return,g,c),Z.lanes|=g;break}se=se.next}}else if(I.tag===10)W=I.type===c.type?null:I.child;else if(I.tag===18){if(W=I.return,W===null)throw Error(n(341));W.lanes|=g,Z=W.alternate,Z!==null&&(Z.lanes|=g),Th(W,g,c),W=I.sibling}else W=I.child;if(W!==null)W.return=I;else for(W=I;W!==null;){if(W===c){W=null;break}if(I=W.sibling,I!==null){I.return=W.return,W=I;break}W=W.return}I=W}Y(a,c,T.children,g),c=c.child}return c;case 9:return T=c.type,_=c.pendingProps.children,ho(c,g),T=Kr(T),_=_(T),c.flags|=1,Y(a,c,_,g),c.child;case 14:return _=c.type,T=br(_,c.pendingProps),T=br(_.type,T),ve(a,c,_,T,g);case 15:return Ie(a,c,c.type,c.pendingProps,g);case 17:return _=c.type,T=c.pendingProps,T=c.elementType===_?T:br(_,T),At(a,c),c.tag=1,Ir(_)?(a=!0,fl(c)):a=!1,ho(c,g),Fg(c,_,T),Oh(c,_,T,g),Ut(null,c,_,!0,a,g);case 19:return tr(a,c,g);case 22:return Qe(a,c,g)}throw Error(n(156,c.tag))};function cS(a,c){return Ou(a,c)}function HA(a,c,g,_){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(a,c,g,_){return new HA(a,c,g,_)}function bv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function WA(a){if(typeof a=="function")return bv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===de)return 14}return 2}function Mc(a,c){var g=a.alternate;return g===null?(g=Vi(a.tag,c,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=c,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,c=a.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function Qg(a,c,g,_,T,I){var W=2;if(_=a,typeof a=="function")bv(a)&&(W=1);else if(typeof a=="string")W=5;else e:switch(a){case B:return hd(g.children,T,I,c);case R:W=8,T|=8;break;case F:return a=Vi(12,g,c,T|2),a.elementType=F,a.lanes=I,a;case U:return a=Vi(13,g,c,T),a.elementType=U,a.lanes=I,a;case ie:return a=Vi(19,g,c,T),a.elementType=ie,a.lanes=I,a;case ne:return Jg(g,T,I,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:W=10;break e;case H:W=9;break e;case $:W=11;break e;case de:W=14;break e;case ue:W=16,_=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Vi(W,g,c,T),c.elementType=a,c.type=_,c.lanes=I,c}function hd(a,c,g,_){return a=Vi(7,a,_,c),a.lanes=g,a}function Jg(a,c,g,_){return a=Vi(22,a,_,c),a.elementType=ne,a.lanes=g,a.stateNode={isHidden:!1},a}function Sv(a,c,g){return a=Vi(6,a,null,c),a.lanes=g,a}function Ev(a,c,g){return c=Vi(4,a.children!==null?a.children:[],a.key,c),c.lanes=g,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function GA(a,c,g,_,T){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ur(0),this.expirationTimes=Ur(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.identifierPrefix=_,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Cv(a,c,g,_,T,I,W,Z,se){return a=new GA(a,c,g,Z,se),c===1?(c=1,I===!0&&(c|=8)):c=0,I=Vi(3,null,null,c),a.current=I,I.stateNode=a,I.memoizedState={element:_,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(I),a}function qA(a,c,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:_==null?null:""+_,children:a,containerInfo:c,implementation:g}}function uS(a){if(!a)return Ri;a=a._reactInternals;e:{if(ii(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ir(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var g=a.type;if(Ir(g))return xh(a,g,c)}return c}function dS(a,c,g,_,T,I,W,Z,se){return a=Cv(g,_,!0,a,T,I,W,Z,se),a.context=uS(null),g=a.current,_=Ds(),T=jc(g),I=Di(_,T),I.callback=c??null,Mi(g,I,T),a.current.lanes=T,Ka(a,T,_),Qs(a,_),a}function Zg(a,c,g,_){var T=c.current,I=Ds(),W=jc(T);return g=uS(g),c.context===null?c.context=g:c.pendingContext=g,c=Di(I,W),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Mi(T,c,W),a!==null&&(vo(a,T,W,I),kh(a,T,W)),W}function e0(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hS(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<c?g:c}}function Tv(a,c){hS(a,c),(a=a.alternate)&&hS(a,c)}function KA(){return null}var fS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Nv(a){this._internalRoot=a}t0.prototype.render=Nv.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Zg(a,c,null,null)},t0.prototype.unmount=Nv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;cd(function(){Zg(null,a,null,null)}),c[Pi]=null}};function t0(a){this._internalRoot=a}t0.prototype.unstable_scheduleHydration=function(a){if(a){var c=Bu();a={blockedOn:null,target:a,priority:c};for(var g=0;g<$r.length&&c!==0&&c<$r[g].priority;g++);$r.splice(g,0,a),g===0&&Qo(a)}};function kv(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function n0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pS(){}function YA(a,c,g,_,T){if(T){if(typeof _=="function"){var I=_;_=function(){var ye=e0(W);I.call(ye)}}var W=dS(c,_,a,0,null,!1,!1,"",pS);return a._reactRootContainer=W,a[Pi]=W.current,al(a.nodeType===8?a.parentNode:a),cd(),W}for(;T=a.lastChild;)a.removeChild(T);if(typeof _=="function"){var Z=_;_=function(){var ye=e0(se);Z.call(ye)}}var se=Cv(a,0,!1,null,null,!1,!1,"",pS);return a._reactRootContainer=se,a[Pi]=se.current,al(a.nodeType===8?a.parentNode:a),cd(function(){Zg(c,se,g,_)}),se}function r0(a,c,g,_,T){var I=g._reactRootContainer;if(I){var W=I;if(typeof T=="function"){var Z=T;T=function(){var se=e0(W);Z.call(se)}}Zg(c,W,a,T)}else W=YA(g,c,a,T,_);return e0(W)}to=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var g=gt(c.pendingLanes);g!==0&&(Fu(c,g|1),Qs(c,on()),(Vt&6)===0&&(zh=on()+500,da()))}break;case 13:cd(function(){var _=Is(a,1);if(_!==null){var T=Ds();vo(_,a,1,T)}}),Tv(a,1)}},no=function(a){if(a.tag===13){var c=Is(a,134217728);if(c!==null){var g=Ds();vo(c,a,134217728,g)}Tv(a,134217728)}},zu=function(a){if(a.tag===13){var c=jc(a),g=Is(a,c);if(g!==null){var _=Ds();vo(g,a,c,_)}Tv(a,c)}},Bu=function(){return Nt},Ya=function(a,c){var g=Nt;try{return Nt=a,c()}finally{Nt=g}},Yi=function(a,c,g){switch(c){case"input":if(xs(a,g),c=g.name,g.type==="radio"&&c!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<g.length;c++){var _=g[c];if(_!==a&&_.form===a.form){var T=ur(_);if(!T)throw Error(n(90));ze(_),xs(_,T)}}}break;case"textarea":Lo(a,g);break;case"select":c=g.value,c!=null&&ti(a,!!g.multiple,c,!1)}},Zd=xv,Ql=cd;var XA={usingClientEntryPoint:!1,Events:[Ju,Jn,ur,Qi,Ji,xv]},Ip={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QA={bundleType:Ip.bundleType,version:Ip.version,rendererPackageName:Ip.rendererPackageName,rendererConfig:Ip.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=sh(a),a===null?null:a.stateNode},findFiberByHostInstance:Ip.findFiberByHostInstance||KA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{Bs=s0.inject(QA),zn=s0}catch{}}return Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XA,Js.createPortal=function(a,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(c))throw Error(n(200));return qA(a,c,null,g)},Js.createRoot=function(a,c){if(!kv(a))throw Error(n(299));var g=!1,_="",T=fS;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=Cv(a,1,!1,null,null,g,!1,_,T),a[Pi]=c.current,al(a.nodeType===8?a.parentNode:a),new Nv(c)},Js.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=sh(c),a=a===null?null:a.stateNode,a},Js.flushSync=function(a){return cd(a)},Js.hydrate=function(a,c,g){if(!n0(c))throw Error(n(200));return r0(null,a,c,!0,g)},Js.hydrateRoot=function(a,c,g){if(!kv(a))throw Error(n(405));var _=g!=null&&g.hydratedSources||null,T=!1,I="",W=fS;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),c=dS(c,null,a,1,g??null,T,!1,I,W),a[Pi]=c.current,al(a),_)for(a=0;a<_.length;a++)g=_[a],T=g._getVersion,T=T(g._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[g,T]:c.mutableSourceEagerHydrationData.push(g,T);return new t0(c)},Js.render=function(a,c,g){if(!n0(c))throw Error(n(200));return r0(null,a,c,!1,g)},Js.unmountComponentAtNode=function(a){if(!n0(a))throw Error(n(40));return a._reactRootContainer?(cd(function(){r0(null,null,a,!1,function(){a._reactRootContainer=null,a[Pi]=null})}),!0):!1},Js.unstable_batchedUpdates=xv,Js.unstable_renderSubtreeIntoContainer=function(a,c,g,_){if(!n0(g))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return r0(a,c,g,!1,_)},Js.version="18.3.1-next-f1338f8080-20240426",Js}var bS;function WE(){if(bS)return Av.exports;bS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Av.exports=sI(),Av.exports}var SS;function iI(){if(SS)return i0;SS=1;var t=WE();return i0.createRoot=t.createRoot,i0.hydrateRoot=t.hydrateRoot,i0}var oI=iI();const aI=Hm(oI);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ES="popstate";function lI(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Lx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wm(s)}return uI(e,n,null,t)}function Ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cI(){return Math.random().toString(36).substring(2,10)}function CS(t,e){return{usr:t.state,key:t.key,idx:e}}function Lx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nf(e):e,state:n,key:e&&e.key||r||cI()}}function wm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uI(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",d=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function y(){l="POP";let P=m(),M=P==null?null:P-p;p=P,d&&d({action:l,location:k.location,delta:M})}function v(P,M){l="PUSH";let j=Lx(k.location,P,M);p=m()+1;let D=CS(j,p),V=k.createHref(j);try{o.pushState(D,"",V)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(V)}i&&d&&d({action:l,location:k.location,delta:1})}function S(P,M){l="REPLACE";let j=Lx(k.location,P,M);p=m();let D=CS(j,p),V=k.createHref(j);o.replaceState(D,"",V),i&&d&&d({action:l,location:k.location,delta:0})}function C(P){return dI(P)}let k={get action(){return l},get location(){return t(s,o)},listen(P){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(ES,y),d=P,()=>{s.removeEventListener(ES,y),d=null}},createHref(P){return e(s,P)},createURL:C,encodeLocation(P){let M=C(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:S,go(P){return o.go(P)}};return k}function dI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ln(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wm(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GE(t,e,n="/"){return hI(t,e,n,!1)}function hI(t,e,n,r){let s=typeof e=="string"?Nf(e):e,i=Rl(s.pathname||"/",n);if(i==null)return null;let o=qE(t);fI(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let p=EI(i);l=bI(o[d],p,r)}return l}function qE(t,e=[],n=[],r="",s=!1){let i=(o,l,d=s,p)=>{let m={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Ln(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=Nl([r,m.relativePath]),v=n.concat(m);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),qE(o.children,e,v,y,d)),!(o.path==null&&!o.index)&&e.push({path:y,score:wI(y,o.index),routesMeta:v})};return t.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,l);else for(let p of KE(o.path))i(o,l,!0,p)}),e}function KE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KE(r.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function fI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_I(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pI=/^:[\w-]+$/,mI=3,gI=2,yI=1,vI=10,xI=-2,TS=t=>t==="*";function wI(t,e){let n=t.split("/"),r=n.length;return n.some(TS)&&(r+=xI),e&&(r+=gI),n.filter(s=>!TS(s)).reduce((s,i)=>s+(pI.test(i)?mI:i===""?yI:vI),r)}function _I(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bI(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let d=r[l],p=l===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",y=uy({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=uy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:Nl([i,y.pathname]),pathnameBase:kI(Nl([i,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(i=Nl([i,y.pathnameBase]))}return o}function uy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:y},v)=>{if(m==="*"){let C=l[v]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const S=l[v];return y&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:o,pattern:t}}function SI(t,e=!1,n=!0){Po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function EI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Po(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CI=t=>YE.test(t);function TI(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Nf(t):t,i;if(n)if(CI(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Po(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=NS(n.substring(1),"/"):i=NS(n,e)}else i=e;return{pathname:i,search:PI(r),hash:RI(s)}}function NS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XE(t){let e=NI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function QE(t,e,n,r=!1){let s;typeof t=="string"?s=Nf(t):(s={...t},Ln(!s.pathname||!s.pathname.includes("?"),Dv("?","pathname","search",s)),Ln(!s.pathname||!s.pathname.includes("#"),Dv("#","pathname","hash",s)),Ln(!s.search||!s.search.includes("#"),Dv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let y=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}l=y>=0?e[y]:"/"}let d=TI(s,l),p=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Nl=t=>t.join("/").replace(/\/\/+/g,"/"),kI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,AI=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function II(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function jI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZE(t,e){let n=t;if(typeof n!="string"||!YE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(JE)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Rl(o.pathname,e);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:s=!0}catch{Po(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eC=["POST","PUT","PATCH","DELETE"];new Set(eC);var DI=["GET",...eC];new Set(DI);var kf=b.createContext(null);kf.displayName="DataRouter";var Zy=b.createContext(null);Zy.displayName="DataRouterState";var MI=b.createContext(!1),tC=b.createContext({isTransitioning:!1});tC.displayName="ViewTransition";var OI=b.createContext(new Map);OI.displayName="Fetchers";var LI=b.createContext(null);LI.displayName="Await";var Gi=b.createContext(null);Gi.displayName="Navigation";var Gm=b.createContext(null);Gm.displayName="Location";var Ul=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ul.displayName="Route";var yw=b.createContext(null);yw.displayName="RouteError";var nC="REACT_ROUTER_ERROR",VI="REDIRECT",FI="ROUTE_ERROR_RESPONSE";function zI(t){if(t.startsWith(`${nC}:${VI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BI(t){if(t.startsWith(`${nC}:${FI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new AI(e.status,e.statusText,e.data)}catch{}}function UI(t,{relative:e}={}){Ln(qm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Gi),{hash:s,pathname:i,search:o}=Ym(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Nl([n,i])),r.createHref({pathname:l,search:o,hash:s})}function qm(){return b.useContext(Gm)!=null}function $l(){return Ln(qm(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Gm).location}var rC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sC(t){b.useContext(Gi).static||b.useLayoutEffect(t)}function Km(){let{isDataRoute:t}=b.useContext(Ul);return t?t7():$I()}function $I(){Ln(qm(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(kf),{basename:e,navigator:n}=b.useContext(Gi),{matches:r}=b.useContext(Ul),{pathname:s}=$l(),i=JSON.stringify(XE(r)),o=b.useRef(!1);return sC(()=>{o.current=!0}),b.useCallback((d,p={})=>{if(Po(o.current,rC),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=QE(d,JSON.parse(i),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Nl([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,i,s,t])}b.createContext(null);function Ym(t,{relative:e}={}){let{matches:n}=b.useContext(Ul),{pathname:r}=$l(),s=JSON.stringify(XE(n));return b.useMemo(()=>QE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function HI(t,e){return iC(t,e)}function iC(t,e,n,r,s){var j;Ln(qm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Gi),{matches:o}=b.useContext(Ul),l=o[o.length-1],d=l?l.params:{},p=l?l.pathname:"/",m=l?l.pathnameBase:"/",y=l&&l.route;{let D=y&&y.path||"";aC(p,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=$l(),S;if(e){let D=typeof e=="string"?Nf(e):e;Ln(m==="/"||((j=D.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=v;let C=S.pathname||"/",k=C;if(m!=="/"){let D=m.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=GE(t,{pathname:k});Po(y||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Po(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=YI(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Nl([m,i.encodeLocation?i.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Nl([m,i.encodeLocation?i.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),o,n,r,s);return e&&M?b.createElement(Gm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function WI(){let t=e7(),e=II(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,o)}var GI=b.createElement(WI,null),oC=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=BI(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(Ul.Provider,{value:this.props.routeContext},b.createElement(yw.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(qI,{error:t},e):e}};oC.contextType=MI;var Mv=new WeakMap;function qI({children:t,error:e}){let{basename:n}=b.useContext(Gi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=zI(e.digest);if(r){let s=Mv.get(e);if(s)throw s;let i=ZE(r.location,n);if(JE&&!Mv.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Mv.set(e,o),o}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function KI({routeContext:t,match:e,children:n}){let r=b.useContext(kf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Ul.Provider,{value:t},n)}function YI(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let m=i.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);Ln(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let l=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let y=i[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:v,errors:S}=n,C=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let p=n&&r?(m,y)=>{var v,S;r(m,{location:n.location,params:((S=(v=n.matches)==null?void 0:v[0])==null?void 0:S.params)??{},unstable_pattern:jI(n.matches),errorInfo:y})}:void 0;return i.reduceRight((m,y,v)=>{let S,C=!1,k=null,P=null;n&&(S=o&&y.route.id?o[y.route.id]:void 0,k=y.route.errorElement||GI,l&&(d<0&&v===0?(aC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):d===v&&(C=!0,P=y.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,v+1)),j=()=>{let D;return S?D=k:C?D=P:y.route.Component?D=b.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=m,b.createElement(KI,{match:y,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?b.createElement(oC,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):j()},null)}function vw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(t){let e=b.useContext(kf);return Ln(e,vw(t)),e}function QI(t){let e=b.useContext(Zy);return Ln(e,vw(t)),e}function JI(t){let e=b.useContext(Ul);return Ln(e,vw(t)),e}function xw(t){let e=JI(t),n=e.matches[e.matches.length-1];return Ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZI(){return xw("useRouteId")}function e7(){var r;let t=b.useContext(yw),e=QI("useRouteError"),n=xw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function t7(){let{router:t}=XI("useNavigate"),e=xw("useNavigate"),n=b.useRef(!1);return sC(()=>{n.current=!0}),b.useCallback(async(s,i={})=>{Po(n.current,rC),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var kS={};function aC(t,e,n){!e&&!kS[t]&&(kS[t]=!0,Po(!1,n))}b.memo(n7);function n7({routes:t,future:e,state:n,onError:r}){return iC(t,void 0,n,r,e)}function wo(t){Ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){Ln(!qm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[l,s,i,o]);typeof n=="string"&&(n=Nf(n));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:S="default"}=n,C=b.useMemo(()=>{let k=Rl(p,l);return k==null?null:{location:{pathname:k,search:m,hash:y,state:v,key:S},navigationType:r}},[l,p,m,y,v,S,r]);return Po(C!=null,`<Router basename="${l}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(Gi.Provider,{value:d},b.createElement(Gm.Provider,{children:e,value:C}))}function s7({children:t,location:e}){return HI(Vx(t),e)}function Vx(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Vx(r.props.children,i));return}Ln(r.type===wo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vx(r.props.children,i)),n.push(o)}),n}var U0="get",$0="application/x-www-form-urlencoded";function e1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function i7(t){return e1(t)&&t.tagName.toLowerCase()==="button"}function o7(t){return e1(t)&&t.tagName.toLowerCase()==="form"}function a7(t){return e1(t)&&t.tagName.toLowerCase()==="input"}function l7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c7(t,e){return t.button===0&&(!e||e==="_self")&&!l7(t)}var o0=null;function u7(){if(o0===null)try{new FormData(document.createElement("form"),0),o0=!1}catch{o0=!0}return o0}var d7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ov(t){return t!=null&&!d7.has(t)?(Po(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$0}"`),null):t}function h7(t,e){let n,r,s,i,o;if(o7(t)){let l=t.getAttribute("action");r=l?Rl(l,e):null,n=t.getAttribute("method")||U0,s=Ov(t.getAttribute("enctype"))||$0,i=new FormData(t)}else if(i7(t)||a7(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(r=d?Rl(d,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||U0,s=Ov(t.getAttribute("formenctype"))||Ov(l.getAttribute("enctype"))||$0,i=new FormData(l,t),!u7()){let{name:p,type:m,value:y}=t;if(m==="image"){let v=p?`${p}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else p&&i.append(p,y)}}else{if(e1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=U0,r=null,s=$0,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ww(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function p7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await p7(i,n);return o.links?o.links():[]}return[]}));return w7(r.flat(1).filter(m7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function PS(t,e,n,r,s,i){let o=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,l=(d,p)=>{var m;return n[p].pathname!==d.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,p)=>o(d,p)||l(d,p)):i==="data"?e.filter((d,p)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,p)||l(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function y7(t,e,{includeHydrateFallback:n}={}){return v7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function v7(t){return[...new Set(t)]}function x7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function w7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(x7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function lC(){let t=b.useContext(kf);return ww(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _7(){let t=b.useContext(Zy);return ww(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _w=b.createContext(void 0);_w.displayName="FrameworkContext";function cC(){let t=b.useContext(_w);return ww(t,"You must render this element inside a <HydratedRouter> element"),t}function b7(t,e){let n=b.useContext(_w),[r,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,v=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let k=M=>{M.forEach(j=>{o(j.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[t]),b.useEffect(()=>{if(r){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Dp(l,S),onBlur:Dp(d,C),onMouseEnter:Dp(p,S),onMouseLeave:Dp(m,C),onTouchStart:Dp(y,S)}]:[!1,v,{}]}function Dp(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function S7({page:t,...e}){let{router:n}=lC(),r=b.useMemo(()=>GE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(C7,{page:t,matches:r,...e}):null}function E7(t){let{manifest:e,routeModules:n}=cC(),[r,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return g7(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function C7({page:t,matches:e,...n}){let r=$l(),{manifest:s,routeModules:i}=cC(),{basename:o}=lC(),{loaderData:l,matches:d}=_7(),p=b.useMemo(()=>PS(t,e,d,s,r,"data"),[t,e,d,s,r]),m=b.useMemo(()=>PS(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(M=>{var D;let j=s.routes[M.route.id];!j||!j.hasLoader||(!p.some(V=>V.route.id===M.route.id)&&M.route.id in l&&((D=i[M.route.id])!=null&&D.shouldRevalidate)||j.hasClientLoader?k=!0:C.add(M.route.id))}),C.size===0)return[];let P=f7(t,o,"data");return k&&C.size>0&&P.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[o,l,r,s,p,e,t,i]),v=b.useMemo(()=>y7(m,s),[m,s]),S=E7(m);return b.createElement(b.Fragment,null,y.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),v.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:k})=>b.createElement("link",{key:C,nonce:n.nonce,...k})))}function T7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N7&&(window.__reactRouterVersion="7.11.0")}catch{}function k7({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=b.useRef();s.current==null&&(s.current=lI({window:r,v5Compat:!0}));let i=s.current,[o,l]=b.useState({action:i.action,location:i.location}),d=b.useCallback(p=>{n===!1?l(p):b.startTransition(()=>l(p))},[n]);return b.useLayoutEffect(()=>i.listen(d),[i,d]),b.createElement(r7,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var uC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mr=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:d,to:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v,...S},C){let{basename:k,unstable_useTransitions:P}=b.useContext(Gi),M=typeof p=="string"&&uC.test(p),j=ZE(p,k);p=j.to;let D=UI(p,{relative:s}),[V,G,J]=b7(r,S),B=I7(p,{replace:o,state:l,target:d,preventScrollReset:m,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:P});function R(z){e&&e(z),z.defaultPrevented||B(z)}let F=b.createElement("a",{...S,...J,href:j.absoluteURL||D,onClick:j.isExternal||i?e:R,ref:T7(C,G),target:d,"data-discover":!M&&n==="render"?"true":void 0});return V&&!M?b.createElement(b.Fragment,null,F,b.createElement(S7,{page:D})):F});mr.displayName="Link";var P7=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:d,...p},m){let y=Ym(o,{relative:p.relative}),v=$l(),S=b.useContext(Zy),{navigator:C,basename:k}=b.useContext(Gi),P=S!=null&&L7(y)&&l===!0,M=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,j=v.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&k&&(D=Rl(D,k)||D);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let G=j===M||!s&&j.startsWith(M)&&j.charAt(V)==="/",J=D!=null&&(D===M||!s&&D.startsWith(M)&&D.charAt(M.length)==="/"),B={isActive:G,isPending:J,isTransitioning:P},R=G?e:void 0,F;typeof r=="function"?F=r(B):F=[r,G?"active":null,J?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(B):i;return b.createElement(mr,{...p,"aria-current":R,className:F,ref:m,style:z,to:o,viewTransition:l},typeof d=="function"?d(B):d)});P7.displayName="NavLink";var R7=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=U0,action:l,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v,...S},C)=>{let{unstable_useTransitions:k}=b.useContext(Gi),P=M7(),M=O7(l,{relative:p}),j=o.toLowerCase()==="get"?"get":"post",D=typeof l=="string"&&uC.test(l),V=G=>{if(d&&d(G),G.defaultPrevented)return;G.preventDefault();let J=G.nativeEvent.submitter,B=(J==null?void 0:J.getAttribute("formmethod"))||o,R=()=>P(J||G.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v});k&&n!==!1?b.startTransition(()=>R()):R()};return b.createElement("form",{ref:C,method:j,action:M,onSubmit:r?d:V,...S,"data-discover":!D&&t==="render"?"true":void 0})});R7.displayName="Form";function A7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(t){let e=b.useContext(kf);return Ln(e,A7(t)),e}function I7(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:d}={}){let p=Km(),m=$l(),y=Ym(t,{relative:i});return b.useCallback(v=>{if(c7(v,e)){v.preventDefault();let S=n!==void 0?n:wm(m)===wm(y),C=()=>p(t,{replace:S,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});d?b.startTransition(()=>C()):C()}},[m,p,y,n,r,e,t,s,i,o,l,d])}var j7=0,D7=()=>`__${String(++j7)}__`;function M7(){let{router:t}=dC("useSubmit"),{basename:e}=b.useContext(Gi),n=ZI(),r=t.fetch,s=t.navigate;return b.useCallback(async(i,o={})=>{let{action:l,method:d,encType:p,formData:m,body:y}=h7(i,e);if(o.navigate===!1){let v=o.fetcherKey||D7();await r(v,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await s(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function O7(t,{relative:e}={}){let{basename:n}=b.useContext(Gi),r=b.useContext(Ul);Ln(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ym(t||".",{relative:e})},o=$l();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(m=>m==="")){l.delete("index"),d.filter(y=>y).forEach(y=>l.append("index",y));let m=l.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Nl([n,i.pathname])),wm(i)}function L7(t,{relative:e}={}){let n=b.useContext(tC);Ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dC("useViewTransitionState"),s=Ym(t,{relative:e});if(!n.isTransitioning)return!1;let i=Rl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Rl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uy(s.pathname,o)!=null||uy(s.pathname,i)!=null}var Xm=WE();const V7=Hm(Xm),F7=()=>{};var RS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},z7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],d=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,m=i>>2,y=(i&3)<<4|l>>4;let v=(l&15)<<2|p>>6,S=p&63;d||(S=64,o||(v=64)),r.push(n[m],n[y],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||p==null||y==null)throw new B7;const v=i<<2|l>>4;if(r.push(v),p!==64){const S=l<<4&240|p>>2;if(r.push(S),y!==64){const C=p<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U7=function(t){const e=hC(t);return fC.encodeByteArray(e,!0)},dy=function(t){return U7(t).replace(/\./g,"")},$7=function(t){try{return fC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=()=>H7().__FIREBASE_DEFAULTS__,G7=()=>{if(typeof process>"u"||typeof RS>"u")return;const t=RS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$7(t[1]);return e&&JSON.parse(e)},bw=()=>{try{return F7()||W7()||G7()||q7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K7=t=>{var e,n;return(n=(e=bw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pC=t=>{const e=K7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mC=()=>{var t;return(t=bw())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dy(JSON.stringify(n)),dy(JSON.stringify(o)),""].join(".")}const rm={};function X7(){const t={prod:[],emulator:[]};for(const e of Object.keys(rm))rm[e]?t.emulator.push(e):t.prod.push(e);return t}function Q7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let AS=!1;function vC(t,e){if(typeof window>"u"||typeof document>"u"||!Qm(window.location.host)||rm[t]===e||rm[t]||AS)return;rm[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=X7().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{AS=!0,o()},v}function m(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=Q7(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),M=n("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;l(D),m(P,k);const V=p();d(j,M),D.append(j,C,P,V),document.body.appendChild(D)}i?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z7(){var e;const t=(e=bw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ej(){return!Z7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tj(){try{return typeof indexedDB=="object"}catch{return!1}}function nj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="FirebaseError";class Vd extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rj,Object.setPrototypeOf(this,Vd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xC.prototype.create)}}class xC{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sj(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Vd(s,l,r)}}function sj(t,e){return t.replace(ij,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ij=/\{\$([^}]+)}/g;function hy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(IS(i)&&IS(o)){if(!hy(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function IS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){return t&&t._delegate?t._delegate:t}class mf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lj(e))try{this.getOrInitializeService({instanceIdentifier:gd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=gd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gd){return this.instances.has(e)}getOptions(e=gd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gd){return this.component?this.component.multipleInstances?e:gd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aj(t){return t===gd?void 0:t}function lj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const uj={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},dj=Lt.INFO,hj={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},fj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wC{constructor(e){this.name=e,this._logLevel=dj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const pj=(t,e)=>e.some(n=>t instanceof n);let jS,DS;function mj(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _C=new WeakMap,Fx=new WeakMap,bC=new WeakMap,Lv=new WeakMap,Sw=new WeakMap;function yj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Kc(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_C.set(n,t)}).catch(()=>{}),Sw.set(e,t),e}function vj(t){if(Fx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xj(t){zx=t(zx)}function wj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vv(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),Kc(r)}:gj().includes(t)?function(...e){return t.apply(Vv(this),e),Kc(_C.get(this))}:function(...e){return Kc(t.apply(Vv(this),e))}}function _j(t){return typeof t=="function"?wj(t):(t instanceof IDBTransaction&&vj(t),pj(t,mj())?new Proxy(t,zx):t)}function Kc(t){if(t instanceof IDBRequest)return yj(t);if(Lv.has(t))return Lv.get(t);const e=_j(t);return e!==t&&(Lv.set(t,e),Sw.set(e,t)),e}const Vv=t=>Sw.get(t);function bj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Kc(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Kc(o.result),d.oldVersion,d.newVersion,Kc(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const Sj=["get","getKey","getAll","getAllKeys","count"],Ej=["put","add","delete","clear"],Fv=new Map;function MS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ej.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Sj.includes(n)))return;const i=async function(o,...l){const d=this.transaction(o,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[n](...l),s&&d.done]))[0]};return Fv.set(e,i),i}xj(t=>({...t,get:(e,n,r)=>MS(e,n)||t.get(e,n,r),has:(e,n)=>!!MS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",OS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new wC("@firebase/app"),Nj="@firebase/app-compat",kj="@firebase/analytics-compat",Pj="@firebase/analytics",Rj="@firebase/app-check-compat",Aj="@firebase/app-check",Ij="@firebase/auth",jj="@firebase/auth-compat",Dj="@firebase/database",Mj="@firebase/data-connect",Oj="@firebase/database-compat",Lj="@firebase/functions",Vj="@firebase/functions-compat",Fj="@firebase/installations",zj="@firebase/installations-compat",Bj="@firebase/messaging",Uj="@firebase/messaging-compat",$j="@firebase/performance",Hj="@firebase/performance-compat",Wj="@firebase/remote-config",Gj="@firebase/remote-config-compat",qj="@firebase/storage",Kj="@firebase/storage-compat",Yj="@firebase/firestore",Xj="@firebase/ai",Qj="@firebase/firestore-compat",Jj="firebase",Zj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="[DEFAULT]",eD={[Bx]:"fire-core",[Nj]:"fire-core-compat",[Pj]:"fire-analytics",[kj]:"fire-analytics-compat",[Aj]:"fire-app-check",[Rj]:"fire-app-check-compat",[Ij]:"fire-auth",[jj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Mj]:"fire-data-connect",[Oj]:"fire-rtdb-compat",[Lj]:"fire-fn",[Vj]:"fire-fn-compat",[Fj]:"fire-iid",[zj]:"fire-iid-compat",[Bj]:"fire-fcm",[Uj]:"fire-fcm-compat",[$j]:"fire-perf",[Hj]:"fire-perf-compat",[Wj]:"fire-rc",[Gj]:"fire-rc-compat",[qj]:"fire-gcs",[Kj]:"fire-gcs-compat",[Yj]:"fire-fst",[Qj]:"fire-fst-compat",[Xj]:"fire-vertex","fire-js":"fire-js",[Jj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map,tD=new Map,$x=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){Al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _m(t){const e=t.name;if($x.has(e))return Al.debug(`There were multiple attempts to register component ${e}.`),!1;$x.set(e,t);for(const n of fy.values())LS(n,t);for(const n of tD.values())LS(n,t);return!0}function SC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function EC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yc=new xC("app","Firebase",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=Zj;function TC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ux,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Yc.create("bad-app-name",{appName:String(s)});if(n||(n=mC()),!n)throw Yc.create("no-options");const i=fy.get(s);if(i){if(hy(n,i.options)&&hy(r,i.config))return i;throw Yc.create("duplicate-app",{appName:s})}const o=new cj(s);for(const d of $x.values())o.addComponent(d);const l=new rD(n,r,o);return fy.set(s,l),l}function NC(t=Ux){const e=fy.get(t);if(!e&&t===Ux&&mC())return TC();if(!e)throw Yc.create("no-app",{appName:t});return e}function Xc(t,e,n){let r=eD[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Al.warn(o.join(" "));return}_m(new mf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebase-heartbeat-database",iD=1,bm="firebase-heartbeat-store";let zv=null;function kC(){return zv||(zv=bj(sD,iD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yc.create("idb-open",{originalErrorMessage:t.message})})),zv}async function oD(t){try{const n=(await kC()).transaction(bm),r=await n.objectStore(bm).get(PC(t));return await n.done,r}catch(e){if(e instanceof Vd)Al.warn(e.message);else{const n=Yc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Al.warn(n.message)}}}async function VS(t,e){try{const r=(await kC()).transaction(bm,"readwrite");await r.objectStore(bm).put(e,PC(t)),await r.done}catch(n){if(n instanceof Vd)Al.warn(n.message);else{const r=Yc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Al.warn(r.message)}}}function PC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,lD=30;class cD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>lD){const o=hD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Al.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FS(),{heartbeatsToSend:r,unsentEntries:s}=uD(this._heartbeatsCache.heartbeats),i=dy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Al.warn(n),""}}}function FS(){return new Date().toISOString().substring(0,10)}function uD(t,e=aD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tj()?nj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zS(t){return dy(JSON.stringify({version:2,heartbeats:t})).length}function hD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){_m(new mf("platform-logger",e=>new Cj(e),"PRIVATE")),_m(new mf("heartbeat",e=>new cD(e),"PRIVATE")),Xc(Bx,OS,t),Xc(Bx,OS,"esm2020"),Xc("fire-js","")}fD("");var pD="firebase",mD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xc(pD,mD,"app");var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qc,RC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,R){function F(){}F.prototype=R.prototype,B.F=R.prototype,B.prototype=new F,B.prototype.constructor=B,B.D=function(z,H,$){for(var U=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)U[ie-2]=arguments[ie];return R.prototype[H].apply(z,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(B,R,F){F||(F=0);const z=Array(16);if(typeof R=="string")for(var H=0;H<16;++H)z[H]=R.charCodeAt(F++)|R.charCodeAt(F++)<<8|R.charCodeAt(F++)<<16|R.charCodeAt(F++)<<24;else for(H=0;H<16;++H)z[H]=R[F++]|R[F++]<<8|R[F++]<<16|R[F++]<<24;R=B.g[0],F=B.g[1],H=B.g[2];let $=B.g[3],U;U=R+($^F&(H^$))+z[0]+3614090360&4294967295,R=F+(U<<7&4294967295|U>>>25),U=$+(H^R&(F^H))+z[1]+3905402710&4294967295,$=R+(U<<12&4294967295|U>>>20),U=H+(F^$&(R^F))+z[2]+606105819&4294967295,H=$+(U<<17&4294967295|U>>>15),U=F+(R^H&($^R))+z[3]+3250441966&4294967295,F=H+(U<<22&4294967295|U>>>10),U=R+($^F&(H^$))+z[4]+4118548399&4294967295,R=F+(U<<7&4294967295|U>>>25),U=$+(H^R&(F^H))+z[5]+1200080426&4294967295,$=R+(U<<12&4294967295|U>>>20),U=H+(F^$&(R^F))+z[6]+2821735955&4294967295,H=$+(U<<17&4294967295|U>>>15),U=F+(R^H&($^R))+z[7]+4249261313&4294967295,F=H+(U<<22&4294967295|U>>>10),U=R+($^F&(H^$))+z[8]+1770035416&4294967295,R=F+(U<<7&4294967295|U>>>25),U=$+(H^R&(F^H))+z[9]+2336552879&4294967295,$=R+(U<<12&4294967295|U>>>20),U=H+(F^$&(R^F))+z[10]+4294925233&4294967295,H=$+(U<<17&4294967295|U>>>15),U=F+(R^H&($^R))+z[11]+2304563134&4294967295,F=H+(U<<22&4294967295|U>>>10),U=R+($^F&(H^$))+z[12]+1804603682&4294967295,R=F+(U<<7&4294967295|U>>>25),U=$+(H^R&(F^H))+z[13]+4254626195&4294967295,$=R+(U<<12&4294967295|U>>>20),U=H+(F^$&(R^F))+z[14]+2792965006&4294967295,H=$+(U<<17&4294967295|U>>>15),U=F+(R^H&($^R))+z[15]+1236535329&4294967295,F=H+(U<<22&4294967295|U>>>10),U=R+(H^$&(F^H))+z[1]+4129170786&4294967295,R=F+(U<<5&4294967295|U>>>27),U=$+(F^H&(R^F))+z[6]+3225465664&4294967295,$=R+(U<<9&4294967295|U>>>23),U=H+(R^F&($^R))+z[11]+643717713&4294967295,H=$+(U<<14&4294967295|U>>>18),U=F+($^R&(H^$))+z[0]+3921069994&4294967295,F=H+(U<<20&4294967295|U>>>12),U=R+(H^$&(F^H))+z[5]+3593408605&4294967295,R=F+(U<<5&4294967295|U>>>27),U=$+(F^H&(R^F))+z[10]+38016083&4294967295,$=R+(U<<9&4294967295|U>>>23),U=H+(R^F&($^R))+z[15]+3634488961&4294967295,H=$+(U<<14&4294967295|U>>>18),U=F+($^R&(H^$))+z[4]+3889429448&4294967295,F=H+(U<<20&4294967295|U>>>12),U=R+(H^$&(F^H))+z[9]+568446438&4294967295,R=F+(U<<5&4294967295|U>>>27),U=$+(F^H&(R^F))+z[14]+3275163606&4294967295,$=R+(U<<9&4294967295|U>>>23),U=H+(R^F&($^R))+z[3]+4107603335&4294967295,H=$+(U<<14&4294967295|U>>>18),U=F+($^R&(H^$))+z[8]+1163531501&4294967295,F=H+(U<<20&4294967295|U>>>12),U=R+(H^$&(F^H))+z[13]+2850285829&4294967295,R=F+(U<<5&4294967295|U>>>27),U=$+(F^H&(R^F))+z[2]+4243563512&4294967295,$=R+(U<<9&4294967295|U>>>23),U=H+(R^F&($^R))+z[7]+1735328473&4294967295,H=$+(U<<14&4294967295|U>>>18),U=F+($^R&(H^$))+z[12]+2368359562&4294967295,F=H+(U<<20&4294967295|U>>>12),U=R+(F^H^$)+z[5]+4294588738&4294967295,R=F+(U<<4&4294967295|U>>>28),U=$+(R^F^H)+z[8]+2272392833&4294967295,$=R+(U<<11&4294967295|U>>>21),U=H+($^R^F)+z[11]+1839030562&4294967295,H=$+(U<<16&4294967295|U>>>16),U=F+(H^$^R)+z[14]+4259657740&4294967295,F=H+(U<<23&4294967295|U>>>9),U=R+(F^H^$)+z[1]+2763975236&4294967295,R=F+(U<<4&4294967295|U>>>28),U=$+(R^F^H)+z[4]+1272893353&4294967295,$=R+(U<<11&4294967295|U>>>21),U=H+($^R^F)+z[7]+4139469664&4294967295,H=$+(U<<16&4294967295|U>>>16),U=F+(H^$^R)+z[10]+3200236656&4294967295,F=H+(U<<23&4294967295|U>>>9),U=R+(F^H^$)+z[13]+681279174&4294967295,R=F+(U<<4&4294967295|U>>>28),U=$+(R^F^H)+z[0]+3936430074&4294967295,$=R+(U<<11&4294967295|U>>>21),U=H+($^R^F)+z[3]+3572445317&4294967295,H=$+(U<<16&4294967295|U>>>16),U=F+(H^$^R)+z[6]+76029189&4294967295,F=H+(U<<23&4294967295|U>>>9),U=R+(F^H^$)+z[9]+3654602809&4294967295,R=F+(U<<4&4294967295|U>>>28),U=$+(R^F^H)+z[12]+3873151461&4294967295,$=R+(U<<11&4294967295|U>>>21),U=H+($^R^F)+z[15]+530742520&4294967295,H=$+(U<<16&4294967295|U>>>16),U=F+(H^$^R)+z[2]+3299628645&4294967295,F=H+(U<<23&4294967295|U>>>9),U=R+(H^(F|~$))+z[0]+4096336452&4294967295,R=F+(U<<6&4294967295|U>>>26),U=$+(F^(R|~H))+z[7]+1126891415&4294967295,$=R+(U<<10&4294967295|U>>>22),U=H+(R^($|~F))+z[14]+2878612391&4294967295,H=$+(U<<15&4294967295|U>>>17),U=F+($^(H|~R))+z[5]+4237533241&4294967295,F=H+(U<<21&4294967295|U>>>11),U=R+(H^(F|~$))+z[12]+1700485571&4294967295,R=F+(U<<6&4294967295|U>>>26),U=$+(F^(R|~H))+z[3]+2399980690&4294967295,$=R+(U<<10&4294967295|U>>>22),U=H+(R^($|~F))+z[10]+4293915773&4294967295,H=$+(U<<15&4294967295|U>>>17),U=F+($^(H|~R))+z[1]+2240044497&4294967295,F=H+(U<<21&4294967295|U>>>11),U=R+(H^(F|~$))+z[8]+1873313359&4294967295,R=F+(U<<6&4294967295|U>>>26),U=$+(F^(R|~H))+z[15]+4264355552&4294967295,$=R+(U<<10&4294967295|U>>>22),U=H+(R^($|~F))+z[6]+2734768916&4294967295,H=$+(U<<15&4294967295|U>>>17),U=F+($^(H|~R))+z[13]+1309151649&4294967295,F=H+(U<<21&4294967295|U>>>11),U=R+(H^(F|~$))+z[4]+4149444226&4294967295,R=F+(U<<6&4294967295|U>>>26),U=$+(F^(R|~H))+z[11]+3174756917&4294967295,$=R+(U<<10&4294967295|U>>>22),U=H+(R^($|~F))+z[2]+718787259&4294967295,H=$+(U<<15&4294967295|U>>>17),U=F+($^(H|~R))+z[9]+3951481745&4294967295,B.g[0]=B.g[0]+R&4294967295,B.g[1]=B.g[1]+(H+(U<<21&4294967295|U>>>11))&4294967295,B.g[2]=B.g[2]+H&4294967295,B.g[3]=B.g[3]+$&4294967295}r.prototype.v=function(B,R){R===void 0&&(R=B.length);const F=R-this.blockSize,z=this.C;let H=this.h,$=0;for(;$<R;){if(H==0)for(;$<=F;)s(this,B,$),$+=this.blockSize;if(typeof B=="string"){for(;$<R;)if(z[H++]=B.charCodeAt($++),H==this.blockSize){s(this,z),H=0;break}}else for(;$<R;)if(z[H++]=B[$++],H==this.blockSize){s(this,z),H=0;break}}this.h=H,this.o+=R},r.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var R=1;R<B.length-8;++R)B[R]=0;R=this.o*8;for(var F=B.length-8;F<B.length;++F)B[F]=R&255,R/=256;for(this.v(B),B=Array(16),R=0,F=0;F<4;++F)for(let z=0;z<32;z+=8)B[R++]=this.g[F]>>>z&255;return B};function i(B,R){var F=l;return Object.prototype.hasOwnProperty.call(F,B)?F[B]:F[B]=R(B)}function o(B,R){this.h=R;const F=[];let z=!0;for(let H=B.length-1;H>=0;H--){const $=B[H]|0;z&&$==R||(F[H]=$,z=!1)}this.g=F}var l={};function d(B){return-128<=B&&B<128?i(B,function(R){return new o([R|0],R<0?-1:0)}):new o([B|0],B<0?-1:0)}function p(B){if(isNaN(B)||!isFinite(B))return y;if(B<0)return P(p(-B));const R=[];let F=1;for(let z=0;B>=F;z++)R[z]=B/F|0,F*=4294967296;return new o(R,0)}function m(B,R){if(B.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B.charAt(0)=="-")return P(m(B.substring(1),R));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=p(Math.pow(R,8));let z=y;for(let $=0;$<B.length;$+=8){var H=Math.min(8,B.length-$);const U=parseInt(B.substring($,$+H),R);H<8?(H=p(Math.pow(R,H)),z=z.j(H).add(p(U))):(z=z.j(F),z=z.add(p(U)))}return z}var y=d(0),v=d(1),S=d(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();let B=0,R=1;for(let F=0;F<this.g.length;F++){const z=this.i(F);B+=(z>=0?z:4294967296+z)*R,R*=4294967296}return B},t.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(C(this))return"0";if(k(this))return"-"+P(this).toString(B);const R=p(Math.pow(B,6));var F=this;let z="";for(;;){const H=V(F,R).g;F=M(F,H.j(R));let $=((F.g.length>0?F.g[0]:F.h)>>>0).toString(B);if(F=H,C(F))return $+z;for(;$.length<6;)$="0"+$;z=$+z}},t.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function C(B){if(B.h!=0)return!1;for(let R=0;R<B.g.length;R++)if(B.g[R]!=0)return!1;return!0}function k(B){return B.h==-1}t.l=function(B){return B=M(this,B),k(B)?-1:C(B)?0:1};function P(B){const R=B.g.length,F=[];for(let z=0;z<R;z++)F[z]=~B.g[z];return new o(F,~B.h).add(v)}t.abs=function(){return k(this)?P(this):this},t.add=function(B){const R=Math.max(this.g.length,B.g.length),F=[];let z=0;for(let H=0;H<=R;H++){let $=z+(this.i(H)&65535)+(B.i(H)&65535),U=($>>>16)+(this.i(H)>>>16)+(B.i(H)>>>16);z=U>>>16,$&=65535,U&=65535,F[H]=U<<16|$}return new o(F,F[F.length-1]&-2147483648?-1:0)};function M(B,R){return B.add(P(R))}t.j=function(B){if(C(this)||C(B))return y;if(k(this))return k(B)?P(this).j(P(B)):P(P(this).j(B));if(k(B))return P(this.j(P(B)));if(this.l(S)<0&&B.l(S)<0)return p(this.m()*B.m());const R=this.g.length+B.g.length,F=[];for(var z=0;z<2*R;z++)F[z]=0;for(z=0;z<this.g.length;z++)for(let H=0;H<B.g.length;H++){const $=this.i(z)>>>16,U=this.i(z)&65535,ie=B.i(H)>>>16,de=B.i(H)&65535;F[2*z+2*H]+=U*de,j(F,2*z+2*H),F[2*z+2*H+1]+=$*de,j(F,2*z+2*H+1),F[2*z+2*H+1]+=U*ie,j(F,2*z+2*H+1),F[2*z+2*H+2]+=$*ie,j(F,2*z+2*H+2)}for(B=0;B<R;B++)F[B]=F[2*B+1]<<16|F[2*B];for(B=R;B<2*R;B++)F[B]=0;return new o(F,0)};function j(B,R){for(;(B[R]&65535)!=B[R];)B[R+1]+=B[R]>>>16,B[R]&=65535,R++}function D(B,R){this.g=B,this.h=R}function V(B,R){if(C(R))throw Error("division by zero");if(C(B))return new D(y,y);if(k(B))return R=V(P(B),R),new D(P(R.g),P(R.h));if(k(R))return R=V(B,P(R)),new D(P(R.g),R.h);if(B.g.length>30){if(k(B)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var F=v,z=R;z.l(B)<=0;)F=G(F),z=G(z);var H=J(F,1),$=J(z,1);for(z=J(z,2),F=J(F,2);!C(z);){var U=$.add(z);U.l(B)<=0&&(H=H.add(F),$=U),z=J(z,1),F=J(F,1)}return R=M(B,H.j(R)),new D(H,R)}for(H=y;B.l(R)>=0;){for(F=Math.max(1,Math.floor(B.m()/R.m())),z=Math.ceil(Math.log(F)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),$=p(F),U=$.j(R);k(U)||U.l(B)>0;)F-=z,$=p(F),U=$.j(R);C($)&&($=v),H=H.add($),B=M(B,U)}return new D(H,B)}t.B=function(B){return V(this,B).h},t.and=function(B){const R=Math.max(this.g.length,B.g.length),F=[];for(let z=0;z<R;z++)F[z]=this.i(z)&B.i(z);return new o(F,this.h&B.h)},t.or=function(B){const R=Math.max(this.g.length,B.g.length),F=[];for(let z=0;z<R;z++)F[z]=this.i(z)|B.i(z);return new o(F,this.h|B.h)},t.xor=function(B){const R=Math.max(this.g.length,B.g.length),F=[];for(let z=0;z<R;z++)F[z]=this.i(z)^B.i(z);return new o(F,this.h^B.h)};function G(B){const R=B.g.length+1,F=[];for(let z=0;z<R;z++)F[z]=B.i(z)<<1|B.i(z-1)>>>31;return new o(F,B.h)}function J(B,R){const F=R>>5;R%=32;const z=B.g.length-F,H=[];for(let $=0;$<z;$++)H[$]=R>0?B.i($+F)>>>R|B.i($+F+1)<<32-R:B.i($+F);return new o(H,B.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=p,o.fromString=m,Qc=o}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AC,Wp,IC,H0,Hx,jC,DC,MC;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof a0=="object"&&a0];for(var A=0;A<x.length;++A){var L=x[A];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function s(x,A){if(A)e:{var L=r;x=x.split(".");for(var X=0;X<x.length-1;X++){var he=x[X];if(!(he in L))break e;L=L[he]}x=x[x.length-1],X=L[x],A=A(X),A!=X&&A!=null&&e(L,x,{configurable:!0,writable:!0,value:A})}}s("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(x){return x||function(A){var L=[],X;for(X in A)Object.prototype.hasOwnProperty.call(A,X)&&L.push([X,A[X]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(x){var A=typeof x;return A=="object"&&x!=null||A=="function"}function d(x,A,L){return x.call.apply(x.bind,arguments)}function p(x,A,L){return p=d,p.apply(null,arguments)}function m(x,A){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),x.apply(this,X)}}function y(x,A){function L(){}L.prototype=A.prototype,x.Z=A.prototype,x.prototype=new L,x.prototype.constructor=x,x.Ob=function(X,he,ge){for(var Oe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Oe[dt-2]=arguments[dt];return A.prototype[he].apply(X,Oe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function S(x){const A=x.length;if(A>0){const L=Array(A);for(let X=0;X<A;X++)L[X]=x[X];return L}return[]}function C(x,A){for(let X=1;X<arguments.length;X++){const he=arguments[X];var L=typeof he;if(L=L!="object"?L:he?Array.isArray(he)?"array":L:"null",L=="array"||L=="object"&&typeof he.length=="number"){L=x.length||0;const ge=he.length||0;x.length=L+ge;for(let Oe=0;Oe<ge;Oe++)x[L+Oe]=he[Oe]}else x.push(he)}}class k{constructor(A,L){this.i=A,this.j=L,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function P(x){o.setTimeout(()=>{throw x},0)}function M(){var x=B;let A=null;return x.g&&(A=x.g,x.g=x.g.next,x.g||(x.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,L){const X=D.get();X.set(A,L),this.h?this.h.next=X:this.g=X,this.h=X}}var D=new k(()=>new V,x=>x.reset());class V{constructor(){this.next=this.g=this.h=null}set(A,L){this.h=A,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,J=!1,B=new j,R=()=>{const x=Promise.resolve(void 0);G=()=>{x.then(F)}};function F(){for(var x;x=M();){try{x.h.call(x.g)}catch(L){P(L)}var A=D;A.j(x),A.h<100&&(A.h++,x.next=A.g,A.g=x)}J=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(x,A){this.type=x,this.g=this.target=A,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,A=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const L=()=>{};o.addEventListener("test",L,A),o.removeEventListener("test",L,A)}catch{}return x})();function U(x){return/^[\s\xa0]*$/.test(x)}function ie(x,A){H.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,A)}y(ie,H),ie.prototype.init=function(x,A){const L=this.type=x.type,X=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=A,A=x.relatedTarget,A||(L=="mouseover"?A=x.fromElement:L=="mouseout"&&(A=x.toElement)),this.relatedTarget=A,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),ue=0;function ne(x,A,L,X,he){this.listener=x,this.proxy=null,this.src=A,this.type=L,this.capture=!!X,this.ha=he,this.key=++ue,this.da=this.fa=!1}function K(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function te(x,A,L){for(const X in x)A.call(L,x[X],X,x)}function Q(x,A){for(const L in x)A.call(void 0,x[L],L,x)}function q(x){const A={};for(const L in x)A[L]=x[L];return A}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(x,A){let L,X;for(let he=1;he<arguments.length;he++){X=arguments[he];for(L in X)x[L]=X[L];for(let ge=0;ge<re.length;ge++)L=re[ge],Object.prototype.hasOwnProperty.call(X,L)&&(x[L]=X[L])}}function ke(x){this.src=x,this.g={},this.h=0}ke.prototype.add=function(x,A,L,X,he){const ge=x.toString();x=this.g[ge],x||(x=this.g[ge]=[],this.h++);const Oe=Ue(x,A,X,he);return Oe>-1?(A=x[Oe],L||(A.fa=!1)):(A=new ne(A,this.src,ge,!!X,he),A.fa=L,x.push(A)),A};function Je(x,A){const L=A.type;if(L in x.g){var X=x.g[L],he=Array.prototype.indexOf.call(X,A,void 0),ge;(ge=he>=0)&&Array.prototype.splice.call(X,he,1),ge&&(K(A),x.g[L].length==0&&(delete x.g[L],x.h--))}}function Ue(x,A,L,X){for(let he=0;he<x.length;++he){const ge=x[he];if(!ge.da&&ge.listener==A&&ge.capture==!!L&&ge.ha==X)return he}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ce={};function je(x,A,L,X,he){if(Array.isArray(A)){for(let ge=0;ge<A.length;ge++)je(x,A[ge],L,X,he);return null}return L=Ba(L),x&&x[de]?x.J(A,L,l(X)?!!X.capture:!1,he):Xe(x,A,L,!1,X,he)}function Xe(x,A,L,X,he,ge){if(!A)throw Error("Invalid event type");const Oe=l(he)?!!he.capture:!!he;let dt=zs(x);if(dt||(x[xe]=dt=new ke(x)),L=dt.add(A,L,X,Oe,ge),L.proxy)return L;if(X=Ae(),L.proxy=X,X.src=x,X.listener=L,x.addEventListener)$||(he=Oe),he===void 0&&(he=!1),x.addEventListener(A.toString(),X,he);else if(x.attachEvent)x.attachEvent(Ct(A.toString()),X);else if(x.addListener&&x.removeListener)x.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Ae(){function x(L){return A.call(x.src,x.listener,L)}const A=kn;return x}function ze(x,A,L,X,he){if(Array.isArray(A))for(var ge=0;ge<A.length;ge++)ze(x,A[ge],L,X,he);else X=l(X)?!!X.capture:!!X,L=Ba(L),x&&x[de]?(x=x.i,ge=String(A).toString(),ge in x.g&&(A=x.g[ge],L=Ue(A,L,X,he),L>-1&&(K(A[L]),Array.prototype.splice.call(A,L,1),A.length==0&&(delete x.g[ge],x.h--)))):x&&(x=zs(x))&&(A=x.g[A.toString()],x=-1,A&&(x=Ue(A,L,X,he)),(L=x>-1?A[x]:null)&&ot(L))}function ot(x){if(typeof x!="number"&&x&&!x.da){var A=x.src;if(A&&A[de])Je(A.i,x);else{var L=x.type,X=x.proxy;A.removeEventListener?A.removeEventListener(L,X,x.capture):A.detachEvent?A.detachEvent(Ct(L),X):A.addListener&&A.removeListener&&A.removeListener(X),(L=zs(A))?(Je(L,x),L.h==0&&(L.src=null,A[xe]=null)):K(x)}}}function Ct(x){return x in Ce?Ce[x]:Ce[x]="on"+x}function kn(x,A){if(x.da)x=!0;else{A=new ie(A,this);const L=x.listener,X=x.ha||x.src;x.fa&&ot(x),x=L.call(X,A)}return x}function zs(x){return x=x[xe],x instanceof ke?x:null}var xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ba(x){return typeof x=="function"?x:(x[xs]||(x[xs]=function(A){return x.handleEvent(A)}),x[xs])}function rn(){z.call(this),this.i=new ke(this),this.M=this,this.G=null}y(rn,z),rn.prototype[de]=!0,rn.prototype.removeEventListener=function(x,A,L,X){ze(this,x,A,L,X)};function sn(x,A){var L,X=x.G;if(X)for(L=[];X;X=X.G)L.push(X);if(x=x.M,X=A.type||A,typeof A=="string")A=new H(A,x);else if(A instanceof H)A.target=A.target||x;else{var he=A;A=new H(X,x),_e(A,he)}he=!0;let ge,Oe;if(L)for(Oe=L.length-1;Oe>=0;Oe--)ge=A.g=L[Oe],he=ti(ge,X,!0,A)&&he;if(ge=A.g=x,he=ti(ge,X,!0,A)&&he,he=ti(ge,X,!1,A)&&he,L)for(Oe=0;Oe<L.length;Oe++)ge=A.g=L[Oe],he=ti(ge,X,!1,A)&&he}rn.prototype.N=function(){if(rn.Z.N.call(this),this.i){var x=this.i;for(const A in x.g){const L=x.g[A];for(let X=0;X<L.length;X++)K(L[X]);delete x.g[A],x.h--}}this.G=null},rn.prototype.J=function(x,A,L,X){return this.i.add(String(x),A,!1,L,X)},rn.prototype.K=function(x,A,L,X){return this.i.add(String(x),A,!0,L,X)};function ti(x,A,L,X){if(A=x.i.g[String(A)],!A)return!0;A=A.concat();let he=!0;for(let ge=0;ge<A.length;++ge){const Oe=A[ge];if(Oe&&!Oe.da&&Oe.capture==L){const dt=Oe.listener,dn=Oe.ha||Oe.src;Oe.fa&&Je(x.i,Oe),he=dt.call(dn,X)!==!1&&he}}return he&&!X.defaultPrevented}function Nu(x,A){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=p(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(x,A||0)}function ku(x){x.g=Nu(()=>{x.g=null,x.i&&(x.i=!1,ku(x))},x.l);const A=x.h;x.h=null,x.m.apply(null,A)}class Lo extends z{constructor(A,L){super(),this.m=A,this.l=L,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(x){z.call(this),this.h=x,this.g={}}y(Vo,z);var Pu=[];function Kl(x){te(x.g,function(A,L){this.g.hasOwnProperty(L)&&ot(A)},x),x.g={}}Vo.prototype.N=function(){Vo.Z.N.call(this),Kl(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=o.JSON.stringify,Qd=o.JSON.parse,Ua=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function zo(){}function Jd(){}var Bo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yl(){H.call(this,"d")}y(Yl,H);function Ru(){H.call(this,"c")}y(Ru,H);var ni={},$a=null;function Uo(){return $a=$a||new rn}ni.Ia="serverreachability";function Xl(x){H.call(this,ni.Ia,x)}y(Xl,H);function Yi(x){const A=Uo();sn(A,new Xl(A))}ni.STAT_EVENT="statevent";function Xi(x,A){H.call(this,ni.STAT_EVENT,x),this.stat=A}y(Xi,H);function bn(x){const A=Uo();sn(A,new Xi(A,x))}ni.Ja="timingevent";function Au(x,A){H.call(this,ni.Ja,x),this.size=A}y(Au,H);function Qi(x,A){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},A)}function Ji(){this.g=!0}Ji.prototype.ua=function(){this.g=!1};function Zd(x,A,L,X,he,ge){x.info(function(){if(x.g)if(ge){var Oe="",dt=ge.split("&");for(let Ft=0;Ft<dt.length;Ft++){var dn=dt[Ft].split("=");if(dn.length>1){const An=dn[0];dn=dn[1];const lr=An.split("_");Oe=lr.length>=2&&lr[1]=="type"?Oe+(An+"="+dn+"&"):Oe+(An+"=redacted&")}}}else Oe=null;else Oe=ge;return"XMLHTTP REQ ("+X+") [attempt "+he+"]: "+A+`
`+L+`
`+Oe})}function Ql(x,A,L,X,he,ge,Oe){x.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+he+"]: "+A+`
`+L+`
`+ge+" "+Oe})}function ri(x,A,L,X){x.info(function(){return"XMLHTTP TEXT ("+A+"): "+Ha(x,L)+(X?" "+X:"")})}function Iu(x,A){x.info(function(){return"TIMEOUT: "+A})}Ji.prototype.info=function(){};function Ha(x,A){if(!x.g)return A;if(!A)return null;try{const ge=JSON.parse(A);if(ge){for(x=0;x<ge.length;x++)if(Array.isArray(ge[x])){var L=ge[x];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var he=X[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Oe=1;Oe<X.length;Oe++)X[Oe]=""}}}}return Fo(ge)}catch{return A}}var $o={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ju;function si(){}y(si,zo),si.prototype.g=function(){return new XMLHttpRequest},ju=new si;function bi(x){return encodeURIComponent(String(x))}function Jl(x){var A=1;x=x.split(":");const L=[];for(;A>0&&x.length;)L.push(x.shift()),A--;return x.length&&L.push(x.join(":")),L}function Br(x,A,L,X){this.j=x,this.i=A,this.l=L,this.S=X||1,this.V=new Vo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new eh}function eh(){this.i=null,this.g="",this.h=!1}var th={},Du={};function ii(x,A,L){x.M=1,x.A=Us(Kt(A)),x.u=L,x.R=!0,Mu(x,null)}function Mu(x,A){x.F=Date.now(),Wa(x),x.B=Kt(x.A);var L=x.B,X=x.S;Array.isArray(X)||(X=[String(X)]),Bu(L.i,"t",X),x.C=0,L=x.j.L,x.h=new eh,x.g=ta(x.j,L?A:null,!x.u),x.P>0&&(x.O=new Lo(p(x.Y,x,x.g),x.P)),A=x.V,L=x.g,X=x.ba;var he="readystatechange";Array.isArray(he)||(he&&(Pu[0]=he.toString()),he=Pu);for(let ge=0;ge<he.length;ge++){const Oe=je(L,he[ge],X||A.handleEvent,!1,A.h||A);if(!Oe)break;A.g[Oe.key]=Oe}A=x.J?q(x.J):{},x.u?(x.v||(x.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,A)):(x.v="GET",x.g.ea(x.B,x.v,null,A)),Yi(),Zd(x.i,x.v,x.B,x.l,x.S,x.u)}Br.prototype.ba=function(x){x=x.target;const A=this.O;A&&Un(x)==3?A.j():this.Y(x)},Br.prototype.Y=function(x){try{if(x==this.g)e:{const dt=Un(this.g),dn=this.g.ya(),Ft=this.g.ca();if(!(dt<3)&&(dt!=3||this.g&&(this.h.h||this.g.la()||$s(this.g)))){this.K||dt!=4||dn==7||(dn==8||Ft<=0?Yi(3):Yi(2)),Zl(this);var A=this.g.ca();this.X=A;var L=nh(this);if(this.o=A==200,Ql(this.i,this.v,this.B,this.l,this.S,dt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var X,he=this.g;if((X=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(X)){var ge=X;break t}}ge=null}if(x=ge)ri(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,on(this,x);else{this.o=!1,this.m=3,bn(12),Zi(this),Ga(this);break e}}if(this.R){x=!0;let An;for(;!this.K&&this.C<L.length;)if(An=sh(this,L),An==Du){dt==4&&(this.m=4,bn(14),x=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(An==th){this.m=4,bn(15),ri(this.i,this.l,L,"[Invalid Chunk]"),x=!1;break}else ri(this.i,this.l,An,null),on(this,An);if(rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||L.length!=0||this.h.h||(this.m=1,bn(16),x=!1),this.o=this.o&&x,!x)ri(this.i,this.l,L,"[Invalid Chunked Response]"),Zi(this),Ga(this);else if(L.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Hr(Oe),Oe.P=!0,bn(11))}}else ri(this.i,this.l,L,null),on(this,L);dt==4&&Zi(this),this.o&&!this.K&&(dt==4?Zo(this.j,this):(this.o=!1,Wa(this)))}else Jo(this.g),A==400&&L.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),Zi(this),Ga(this)}}}catch{}finally{}};function nh(x){if(!rh(x))return x.g.la();const A=$s(x.g);if(A==="")return"";let L="";const X=A.length,he=Un(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Zi(x),Ga(x),"";x.h.i=new o.TextDecoder}for(let ge=0;ge<X;ge++)x.h.h=!0,L+=x.h.i.decode(A[ge],{stream:!(he&&ge==X-1)});return A.length=0,x.h.g+=L,x.C=0,x.h.g}function rh(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function sh(x,A){var L=x.C,X=A.indexOf(`
`,L);return X==-1?Du:(L=Number(A.substring(L,X)),isNaN(L)?th:(X+=1,X+L>A.length?Du:(A=A.slice(X,X+L),x.C=X+L,A)))}Br.prototype.cancel=function(){this.K=!0,Zi(this)};function Wa(x){x.T=Date.now()+x.H,Ou(x,x.H)}function Ou(x,A){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Qi(p(x.aa,x),A)}function Zl(x){x.D&&(o.clearTimeout(x.D),x.D=null)}Br.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Iu(this.i,this.B),this.M!=2&&(Yi(),bn(17)),Zi(this),this.m=2,Ga(this)):Ou(this,this.T-x)};function Ga(x){x.j.I==0||x.K||Zo(x.j,x)}function Zi(x){Zl(x);var A=x.O;A&&typeof A.dispose=="function"&&A.dispose(),x.O=null,Kl(x.V),x.g&&(A=x.g,x.g=null,A.abort(),A.dispose())}function on(x,A){try{var L=x.j;if(L.I!=0&&(L.g==x||Vu(L.h,x))){if(!x.L&&Vu(L.h,x)&&L.I==3){try{var X=L.Ba.g.parse(A)}catch{X=null}if(Array.isArray(X)&&X.length==3){var he=X;if(he[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<x.F)Ja(L),Sn(L);else break e;ir(L),bn(18)}}else L.xa=he[1],0<L.xa-L.K&&he[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Qi(p(L.Va,L),6e3));eo(L.h)<=1&&L.ta&&(L.ta=void 0)}else an(L,11)}else if((x.L||L.g==x)&&Ja(L),!U(A))for(he=L.Ba.g.parse(A),A=0;A<he.length;A++){let Ft=he[A];const An=Ft[0];if(!(An<=L.K))if(L.K=An,Ft=Ft[1],L.I==2)if(Ft[0]=="c"){L.M=Ft[1],L.ba=Ft[2];const lr=Ft[3];lr!=null&&(L.ka=lr,L.j.info("VER="+L.ka));const Ni=Ft[4];Ni!=null&&(L.za=Ni,L.j.info("SVER="+L.za));const bs=Ft[5];bs!=null&&typeof bs=="number"&&bs>0&&(X=1.5*bs,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const Ss=x.g;if(Ss){const ui=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var ge=X.h;ge.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Wo(ge,ge.h),ge.h=null))}if(X.G){const el=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(X.wa=el,gt(X.J,X.G,el))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-x.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var Oe=x;if(X.na=Wt(X,X.L?X.ba:null,X.W),Oe.L){Bs(X.h,Oe);var dt=Oe,dn=X.O;dn&&(dt.H=dn),dt.D&&(Zl(dt),Wa(dt)),X.g=Oe}else En(X);L.i.length>0&&as(L)}else Ft[0]!="stop"&&Ft[0]!="close"||an(L,7);else L.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?an(L,7):nc(L):Ft[0]!="noop"&&L.l&&L.l.qa(Ft),L.A=0)}}Yi(4)}catch{}}var Lu=class{constructor(x,A){this.g=x,this.map=A}};function Si(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qa(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function eo(x){return x.h?1:x.g?x.g.size:0}function Vu(x,A){return x.h?x.h==A:x.g?x.g.has(A):!1}function Wo(x,A){x.g?x.g.add(A):x.h=A}function Bs(x,A){x.h&&x.h==A?x.h=null:x.g&&x.g.has(A)&&x.g.delete(A)}Si.prototype.cancel=function(){if(this.i=zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function zn(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let A=x.i;for(const L of x.g.values())A=A.concat(L.G);return A}return S(x.i)}var Ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tt(x,A){if(x){x=x.split("&");for(let L=0;L<x.length;L++){const X=x[L].indexOf("=");let he,ge=null;X>=0?(he=x[L].substring(0,X),ge=x[L].substring(X+1)):he=x[L],A(he,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function vr(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;x instanceof vr?(this.l=x.l,Bn(this,x.j),this.o=x.o,this.g=x.g,Pr(this,x.u),this.h=x.h,ws(this,Ya(x.i)),this.m=x.m):x&&(A=String(x).match(Ht))?(this.l=!1,Bn(this,A[1]||"",!0),this.o=Go(A[2]||""),this.g=Go(A[3]||"",!0),Pr(this,A[4]),this.h=Go(A[5]||"",!0),ws(this,A[6]||"",!0),this.m=Go(A[7]||"")):(this.l=!1,this.i=new Nt(null,this.l))}vr.prototype.toString=function(){const x=[];var A=this.j;A&&x.push(qo(A,ec,!0),":");var L=this.g;return(L||A=="file")&&(x.push("//"),(A=this.o)&&x.push(qo(A,ec,!0),"@"),x.push(bi(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&x.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(qo(L,L.charAt(0)=="/"?Ka:Ur,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",qo(L,Fu)),x.join("")},vr.prototype.resolve=function(x){const A=Kt(this);let L=!!x.j;L?Bn(A,x.j):L=!!x.o,L?A.o=x.o:L=!!x.g,L?A.g=x.g:L=x.u!=null;var X=x.h;if(L)Pr(A,x.u);else if(L=!!x.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var he=A.h.lastIndexOf("/");he!=-1&&(X=A.h.slice(0,he+1)+X)}if(he=X,he==".."||he==".")X="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){X=he.lastIndexOf("/",0)==0,he=he.split("/");const ge=[];for(let Oe=0;Oe<he.length;){const dt=he[Oe++];dt=="."?X&&Oe==he.length&&ge.push(""):dt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),X&&Oe==he.length&&ge.push("")):(ge.push(dt),X=!0)}X=ge.join("/")}else X=he}return L?A.h=X:L=x.i.toString()!=="",L?ws(A,Ya(x.i)):L=!!x.m,L&&(A.m=x.m),A};function Kt(x){return new vr(x)}function Bn(x,A,L){x.j=L?Go(A,!0):A,x.j&&(x.j=x.j.replace(/:$/,""))}function Pr(x,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);x.u=A}else x.u=null}function ws(x,A,L){A instanceof Nt?(x.i=A,Yo(x.i,x.l)):(L||(A=qo(A,Gf)),x.i=new Nt(A,x.l))}function gt(x,A,L){x.i.set(A,L)}function Us(x){return gt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function Go(x,A){return x?A?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function qo(x,A,L){return typeof x=="string"?(x=encodeURI(x).replace(A,Ko),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Ko(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var ec=/[#\/\?@]/g,Ur=/[#\?:]/g,Ka=/[#\?]/g,Gf=/[#\?@]/g,Fu=/#/g;function Nt(x,A){this.h=this.g=null,this.i=x||null,this.j=!!A}function _s(x){x.g||(x.g=new Map,x.h=0,x.i&&Tt(x.i,function(A,L){x.add(decodeURIComponent(A.replace(/\+/g," ")),L)}))}t=Nt.prototype,t.add=function(x,A){_s(this),this.i=null,x=oi(this,x);let L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(A),this.h+=1,this};function to(x,A){_s(x),A=oi(x,A),x.g.has(A)&&(x.i=null,x.h-=x.g.get(A).length,x.g.delete(A))}function no(x,A){return _s(x),A=oi(x,A),x.g.has(A)}t.forEach=function(x,A){_s(this),this.g.forEach(function(L,X){L.forEach(function(he){x.call(A,he,X,this)},this)},this)};function zu(x,A){_s(x);let L=[];if(typeof A=="string")no(x,A)&&(L=L.concat(x.g.get(oi(x,A))));else for(x=Array.from(x.g.values()),A=0;A<x.length;A++)L=L.concat(x[A]);return L}t.set=function(x,A){return _s(this),this.i=null,x=oi(this,x),no(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[A]),this.h+=1,this},t.get=function(x,A){return x?(x=zu(this,x),x.length>0?String(x[0]):A):A};function Bu(x,A,L){to(x,A),L.length>0&&(x.i=null,x.g.set(oi(x,A),S(L)),x.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],A=Array.from(this.g.keys());for(let X=0;X<A.length;X++){var L=A[X];const he=bi(L);L=zu(this,L);for(let ge=0;ge<L.length;ge++){let Oe=he;L[ge]!==""&&(Oe+="="+bi(L[ge])),x.push(Oe)}}return this.i=x.join("&")};function Ya(x){const A=new Nt;return A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),A}function oi(x,A){return A=String(A),x.j&&(A=A.toLowerCase()),A}function Yo(x,A){A&&!x.j&&(_s(x),x.i=null,x.g.forEach(function(L,X){const he=X.toLowerCase();X!=he&&(to(this,X),Bu(this,he,L))},x)),x.j=A}function os(x,A){const L=new Ji;if(o.Image){const X=new Image;X.onload=m(Xn,L,"TestLoadImage: loaded",!0,A,X),X.onerror=m(Xn,L,"TestLoadImage: error",!1,A,X),X.onabort=m(Xn,L,"TestLoadImage: abort",!1,A,X),X.ontimeout=m(Xn,L,"TestLoadImage: timeout",!1,A,X),o.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=x}else A(!1)}function Ei(x,A){const L=new Ji,X=new AbortController,he=setTimeout(()=>{X.abort(),Xn(L,"TestPingServer: timeout",!1,A)},1e4);fetch(x,{signal:X.signal}).then(ge=>{clearTimeout(he),ge.ok?Xn(L,"TestPingServer: ok",!0,A):Xn(L,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(he),Xn(L,"TestPingServer: error",!1,A)})}function Xn(x,A,L,X,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),X(L)}catch{}}function kt(){this.g=new Ua}function Ci(x){this.i=x.Sb||null,this.h=x.ab||!1}y(Ci,zo),Ci.prototype.g=function(){return new $r(this.i,this.h)};function $r(x,A){rn.call(this),this.H=x,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y($r,rn),t=$r.prototype,t.open=function(x,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=A,this.readyState=1,ai(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(A.body=x),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uu(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uu(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var A=x.value?x.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!x.done}))&&(this.response=this.responseText+=A)}x.done?Xo(this):ai(this),this.readyState==3&&Uu(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Xo(this))},t.Na=function(x){this.g&&(this.response=x,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(x){x.readyState=4,x.l=null,x.j=null,x.B=null,ai(x)}t.setRequestHeader=function(x,A){this.A.append(x,A)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],A=this.h.entries();for(var L=A.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=A.next();return x.join(`\r
`)};function ai(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Pn(x){let A="";return te(x,function(L,X){A+=X,A+=":",A+=L,A+=`\r
`}),A}function Qo(x,A,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=Pn(L),typeof x=="string"?L!=null&&bi(L):gt(x,A,L))}function Yt(x){rn.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Yt,rn);var tc=/^https?$/i,qf=["POST","PUT"];t=Yt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,A,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);A=A?A.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ju.g(),this.g.onreadystatechange=v(p(this.Ca,this));try{this.B=!0,this.g.open(A,String(x),!0),this.B=!1}catch(ge){li(this,ge);return}if(x=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var he in X)L.set(he,X[he]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const ge of X.keys())L.set(ge,X.get(ge));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(ge=>ge.toLowerCase()=="content-type"),he=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(qf,A,void 0)>=0)||X||he||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Oe]of L)this.g.setRequestHeader(ge,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(ge){li(this,ge)}};function li(x,A){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=A,x.o=5,xr(x),so(x)}function xr(x){x.A||(x.A=!0,sn(x,"complete"),sn(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,sn(this,"complete"),sn(this,"abort"),so(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),so(this,!0)),Yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},t.Xa=function(){ro(this)};function ro(x){if(x.h&&typeof i<"u"){if(x.v&&Un(x)==4)setTimeout(x.Ca.bind(x),0);else if(sn(x,"readystatechange"),Un(x)==4){x.h=!1;try{const ge=x.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var L;if(!(L=A)){var X;if(X=ge===0){let Oe=String(x.D).match(Ht)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),X=!tc.test(Oe?Oe.toLowerCase():"")}L=X}if(L)sn(x,"complete"),sn(x,"success");else{x.o=6;try{var he=Un(x)>2?x.g.statusText:""}catch{he=""}x.l=he+" ["+x.ca()+"]",xr(x)}}finally{so(x)}}}}function so(x,A){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const L=x.g;x.g=null,A||sn(x,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Un(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var A=this.g.responseText;return x&&A.indexOf(x)==0&&(A=A.substring(x.length)),Qd(A)}};function $s(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(x){const A={};x=(x.g&&Un(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<x.length;X++){if(U(x[X]))continue;var L=Jl(x[X]);const he=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ge=A[he]||[];A[he]=ge,ge.push(L)}Q(A,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(x,A,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||A}function Xa(x){this.za=0,this.i=[],this.j=new Ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,x),this.Za=Hs("retryDelaySeedMs",1e4,x),this.Ta=Hs("forwardChannelMaxRetries",2,x),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Si(x&&x.concurrentRequestLimit),this.Ba=new kt,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xa.prototype,t.ka=8,t.I=1,t.connect=function(x,A,L,X){bn(0),this.W=x,this.H=A||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=Wt(this,null,this.W),as(this)};function nc(x){if(ci(x),x.I==3){var A=x.V++,L=Kt(x.J);if(gt(L,"SID",x.M),gt(L,"RID",A),gt(L,"TYPE","terminate"),Rn(x,L),A=new Br(x,x.j,A),A.M=2,A.A=Us(Kt(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=A.A,L=!0),L||(A.g=ta(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Wa(A)}or(x)}function Sn(x){x.g&&(Hr(x),x.g.cancel(),x.g=null)}function ci(x){Sn(x),x.v&&(o.clearTimeout(x.v),x.v=null),Ja(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function as(x){if(!qa(x.h)&&!x.m){x.m=!0;var A=x.Ea;G||R(),J||(G(),J=!0),B.add(A,x),x.D=0}}function Qa(x,A){return eo(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=A.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Qi(p(x.Ea,x,A),ea(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const he=new Br(this,this.j,x);let ge=this.o;if(this.U&&(ge?(ge=q(ge),_e(ge,this.U)):ge=this.U),this.u!==null||this.R||(he.J=ge,ge=null),this.S)e:{for(var A=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(A+=X,A>4096){A=L;break e}if(A===4096||L===this.i.length-1){A=L+1;break e}}A=1e3}else A=1e3;A=Rr(this,he,A),L=Kt(this.J),gt(L,"RID",x),gt(L,"CVER",22),this.G&&gt(L,"X-HTTP-Session-Id",this.G),Rn(this,L),ge&&(this.R?A="headers="+bi(Pn(ge))+"&"+A:this.u&&Qo(L,this.u,ge)),Wo(this.h,he),this.Ra&&gt(L,"TYPE","init"),this.S?(gt(L,"$req",A),gt(L,"SID","null"),he.U=!0,ii(he,L,null)):ii(he,L,A),this.I=2}}else this.I==3&&(x?Ti(this,x):this.i.length==0||qa(this.h)||Ti(this))};function Ti(x,A){var L;A?L=A.l:L=x.V++;const X=Kt(x.J);gt(X,"SID",x.M),gt(X,"RID",L),gt(X,"AID",x.K),Rn(x,X),x.u&&x.o&&Qo(X,x.u,x.o),L=new Br(x,x.j,L,x.D+1),x.u===null&&(L.J=x.o),A&&(x.i=A.G.concat(x.i)),A=Rr(x,L,1e3),L.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Wo(x.h,L),ii(L,X,A)}function Rn(x,A){x.H&&te(x.H,function(L,X){gt(A,X,L)}),x.l&&te({},function(L,X){gt(A,X,L)})}function Rr(x,A,L){L=Math.min(x.i.length,L);const X=x.l?p(x.l.Ka,x.l,x):null;e:{var he=x.i;let dt=-1;for(;;){const dn=["count="+L];dt==-1?L>0?(dt=he[0].g,dn.push("ofs="+dt)):dt=0:dn.push("ofs="+dt);let Ft=!0;for(let An=0;An<L;An++){var ge=he[An].g;const lr=he[An].map;if(ge-=dt,ge<0)dt=Math.max(0,he[An].g-100),Ft=!1;else try{ge="req"+ge+"_"||"";try{var Oe=lr instanceof Map?lr:Object.entries(lr);for(const[Ni,bs]of Oe){let Ss=bs;l(bs)&&(Ss=Fo(bs)),dn.push(ge+Ni+"="+encodeURIComponent(Ss))}}catch(Ni){throw dn.push(ge+"type="+encodeURIComponent("_badmap")),Ni}}catch{X&&X(lr)}}if(Ft){Oe=dn.join("&");break e}}Oe=void 0}return x=x.i.splice(0,L),A.G=x,Oe}function En(x){if(!x.g&&!x.v){x.Y=1;var A=x.Da;G||R(),J||(G(),J=!0),B.add(A,x),x.A=0}}function ir(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Qi(p(x.Da,x),ea(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,ls(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Qi(p(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),Sn(this),ls(this))};function Hr(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function ls(x){x.g=new Br(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var A=Kt(x.na);gt(A,"RID","rpc"),gt(A,"SID",x.M),gt(A,"AID",x.K),gt(A,"CI",x.F?"0":"1"),!x.F&&x.ia&&gt(A,"TO",x.ia),gt(A,"TYPE","xmlhttp"),Rn(x,A),x.u&&x.o&&Qo(A,x.u,x.o),x.O&&(x.g.H=x.O);var L=x.g;x=x.ba,L.M=1,L.A=Us(Kt(A)),L.u=null,L.R=!0,Mu(L,x)}t.Va=function(){this.C!=null&&(this.C=null,Sn(this),ir(this),bn(19))};function Ja(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function Zo(x,A){var L=null;if(x.g==A){Ja(x),Hr(x),x.g=null;var X=2}else if(Vu(x.h,A))L=A.G,Bs(x.h,A),X=1;else return;if(x.I!=0){if(A.o)if(X==1){L=A.u?A.u.length:0,A=Date.now()-A.F;var he=x.D;X=Uo(),sn(X,new Au(X,L)),as(x)}else En(x);else if(he=A.m,he==3||he==0&&A.X>0||!(X==1&&Qa(x,A)||X==2&&ir(x)))switch(L&&L.length>0&&(A=x.h,A.i=A.i.concat(L)),he){case 1:an(x,5);break;case 4:an(x,10);break;case 3:an(x,6);break;default:an(x,2)}}}function ea(x,A){let L=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(L*=2),L*A}function an(x,A){if(x.j.info("Error code "+A),A==2){var L=p(x.bb,x),X=x.Ua;const he=!X;X=new vr(X||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bn(X,"https"),Us(X),he?os(X.toString(),L):Ei(X.toString(),L)}else bn(2);x.I=0,x.l&&x.l.pa(A),or(x),ci(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function or(x){if(x.I=0,x.ja=[],x.l){const A=zn(x.h);(A.length!=0||x.i.length!=0)&&(C(x.ja,A),C(x.ja,x.i),x.h.i.length=0,S(x.i),x.i.length=0),x.l.oa()}}function Wt(x,A,L){var X=L instanceof vr?Kt(L):new vr(L);if(X.g!="")A&&(X.g=A+"."+X.g),Pr(X,X.u);else{var he=o.location;X=he.protocol,A=A?A+"."+he.hostname:he.hostname,he=+he.port;const ge=new vr(null);X&&Bn(ge,X),A&&(ge.g=A),he&&Pr(ge,he),L&&(ge.h=L),X=ge}return L=x.G,A=x.wa,L&&A&&gt(X,L,A),gt(X,"VER",x.ka),Rn(x,X),X}function ta(x,A,L){if(A&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=x.Aa&&!x.ma?new Yt(new Ci({ab:L})):new Yt(x.ma),A.Fa(x.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cs(){}t=cs.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Za(){}Za.prototype.g=function(x,A){return new ar(x,A)};function ar(x,A){rn.call(this),this.g=new Xa(A),this.l=x,this.h=A&&A.messageUrlParams||null,x=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(x?x["X-WebChannel-Content-Type"]=A.messageContentType:x={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(x?x["X-WebChannel-Client-Profile"]=A.sa:x={"X-WebChannel-Client-Profile":A.sa}),this.g.U=x,(x=A&&A.Qb)&&!U(x)&&(this.g.u=x),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,x=this.h,x!==null&&A in x&&(x=this.h,A in x&&delete x[A])),this.j=new io(this)}y(ar,rn),ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){nc(this.g)},ar.prototype.o=function(x){var A=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.v&&(L={},L.__data__=Fo(x),x=L);A.i.push(new Lu(A.Ya++,x)),A.I==3&&as(A)},ar.prototype.N=function(){this.g.l=null,delete this.j,nc(this.g),delete this.g,ar.Z.N.call(this)};function rc(x){Yl.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var A=x.__sm__;if(A){e:{for(const L in A){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,A=A!==null&&x in A?A[x]:void 0),this.data=A}else this.data=x}y(rc,Yl);function sc(){Ru.call(this),this.status=1}y(sc,Ru);function io(x){this.g=x}y(io,cs),io.prototype.ra=function(){sn(this.g,"a")},io.prototype.qa=function(x){sn(this.g,new rc(x))},io.prototype.pa=function(x){sn(this.g,new sc)},io.prototype.oa=function(){sn(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,MC=function(){return new Za},DC=function(){return Uo()},jC=ni,Hx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,H0=$o,Ho.COMPLETE="complete",IC=Ho,Jd.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",rn.prototype.listen=rn.prototype.J,Wp=Jd,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,AC=Yt}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});const US="@firebase/firestore",$S="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new wC("@firebase/firestore");function Yh(){return Pd.logLevel}function Ye(t,...e){if(Pd.logLevel<=Lt.DEBUG){const n=e.map(Ew);Pd.debug(`Firestore (${Pf}): ${t}`,...n)}}function Il(t,...e){if(Pd.logLevel<=Lt.ERROR){const n=e.map(Ew);Pd.error(`Firestore (${Pf}): ${t}`,...n)}}function gf(t,...e){if(Pd.logLevel<=Lt.WARN){const n=e.map(Ew);Pd.warn(`Firestore (${Pf}): ${t}`,...n)}}function Ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OC(t,r,n)}function OC(t,e,n){let r=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Il(r),new Error(r)}function qt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||OC(e,s,r)}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Vd{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ms.UNAUTHENTICATED)))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new Jc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jc,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},l=d=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>l(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jc)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new LC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new ms(e)}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,EC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qt(this.o===void 0,3512);const r=i=>{i.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=bD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Wx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Bv(s)===Bv(i)?jt(s,i):Bv(s)?1:-1}return jt(t.length,e.length)}const SD=55296,ED=57343;function Bv(t){const e=t.charCodeAt(0);return e>=SD&&e<=ED}function yf(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="__name__";class _a{constructor(e,n,r){n===void 0?n=0:n>e.length&&ht(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ht(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_a.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return jt(e.length,n.length)}static compareSegments(e,n){const r=_a.isNumericId(e),s=_a.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_a.extractNumericId(e).compare(_a.extractNumericId(n)):Wx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qc.fromString(e.substring(4,e.length-2))}}class vn extends _a{construct(e,n,r){return new vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new vn(n)}static emptyPath(){return new vn([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends _a{construct(e,n,r){return new ns(e,n,r)}static isValidIdentifier(e){return CD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new ns([WS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new qe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new qe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new qe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new qe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ns(n)}static emptyPath(){return new ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(vn.fromString(e))}static fromName(e){return new at(vn.fromString(e).popFirst(5))}static empty(){return new at(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new vn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){if(!n)throw new qe(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TD(t,e,n,r){if(e===!0&&r===!0)throw new qe(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GS(t){if(!at.isDocumentKey(t))throw new qe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qS(t){if(at.isDocumentKey(t))throw new qe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function t1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ht(12329,{type:typeof t})}function py(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=t1(t);throw new qe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jm(t,e){if(!FC(t))throw new qe(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new qe(be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=-62135596800,YS=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YS);return new wn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KS)throw new qe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YS}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jm(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:yr("string",wn._jsonSchemaVersion),seconds:yr("number"),nanoseconds:yr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new wn(0,0))}static max(){return new xt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function ND(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xt.fromTimestamp(r===1e9?new wn(n+1,0):new wn(n,r));return new nu(s,at.empty(),e)}function kD(t){return new nu(t.readTime,t.key,Sm)}class nu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nu(xt.min(),at.empty(),Sm)}static max(){return new nu(xt.max(),at.empty(),Sm)}}function PD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==RD)throw t;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,r)=>{n(e)}))}static reject(e){return new Se(((n,r)=>{r(e)}))}static waitFor(e){return new Se(((n,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(d=>r(d)))})),o=!0,i===s&&n()}))}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next((s=>s?Se.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Se(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let d=0;d<i;d++){const p=d;n(e[p]).next((m=>{o[p]=m,++l,l===i&&r(o)}),(m=>s(m)))}}))}static doWhile(e,n){return new Se(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function ID(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}n1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=-1;function r1(t){return t==null}function my(t){return t===0&&1/t==-1/0}function jD(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="";function DD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XS(e)),e=MD(t.get(n),e);return XS(e)}function MD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case zC:n+="";break;default:n+=i}}return n}function XS(t){return t+zC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||es.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l0(this.root,e,this.comparator,!1)}getReverseIterator(){return new l0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l0(this.root,e,this.comparator,!0)}}class l0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??es.RED,this.left=s??es.EMPTY,this.right=i??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new es(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return es.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new es(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JS(this.data.getIterator())}getIteratorFrom(e){return new JS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nr(this.comparator);return n.data=e,n}}class JS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.fields=e,e.sort(ns.comparator)}static empty(){return new No([])}unionWith(e){let n=new Nr(ns.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new No(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UC("Invalid base64 string: "+i):i}})(e);return new ss(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const OD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(t){if(qt(!!t,39018),typeof t=="string"){let e=0;const n=OD.exec(t);if(qt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function su(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="server_timestamp",HC="__type__",WC="__previous_value__",GC="__local_write_time__";function Nw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HC])==null?void 0:r.stringValue)===$C}function s1(t){const e=t.mapValue.fields[WC];return Nw(e)?s1(e):e}function Em(t){const e=ru(t.mapValue.fields[GC].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,s,i,o,l,d,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const gy="(default)";class Cm{constructor(e,n){this.projectId=e,this.database=n||gy}static empty(){return new Cm("","")}get isDefaultDatabase(){return this.database===gy}isEqual(e){return e instanceof Cm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__type__",VD="__max__",c0={mapValue:{}},KC="__vector__",yy="value";function iu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nw(t)?4:zD(t)?9007199254740991:FD(t)?10:11:ht(28295,{value:t})}function Oa(t,e){if(t===e)return!0;const n=iu(t);if(n!==iu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Em(t).isEqual(Em(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ru(s.timestampValue),l=ru(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return su(s.bytesValue).isEqual(su(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return rr(s.geoPointValue.latitude)===rr(i.geoPointValue.latitude)&&rr(s.geoPointValue.longitude)===rr(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return rr(s.integerValue)===rr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rr(s.doubleValue),l=rr(i.doubleValue);return o===l?my(o)===my(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return yf(t.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(QS(o)!==QS(l))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(l[d]===void 0||!Oa(o[d],l[d])))return!1;return!0})(t,e);default:return ht(52216,{left:t})}}function Tm(t,e){return(t.values||[]).find((n=>Oa(n,e)))!==void 0}function vf(t,e){if(t===e)return 0;const n=iu(t),r=iu(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=rr(i.integerValue||i.doubleValue),d=rr(o.integerValue||o.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1})(t,e);case 3:return ZS(t.timestampValue,e.timestampValue);case 4:return ZS(Em(t),Em(e));case 5:return Wx(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=su(i),d=su(o);return l.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),d=o.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=jt(l[p],d[p]);if(m!==0)return m}return jt(l.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=jt(rr(i.latitude),rr(o.latitude));return l!==0?l:jt(rr(i.longitude),rr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return e4(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var v,S,C,k;const l=i.fields||{},d=o.fields||{},p=(v=l[yy])==null?void 0:v.arrayValue,m=(S=d[yy])==null?void 0:S.arrayValue,y=jt(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return y!==0?y:e4(p,m)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===c0.mapValue&&o===c0.mapValue)return 0;if(i===c0.mapValue)return 1;if(o===c0.mapValue)return-1;const l=i.fields||{},d=Object.keys(l),p=o.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=Wx(d[y],m[y]);if(v!==0)return v;const S=vf(l[d[y]],p[m[y]]);if(S!==0)return S}return jt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw ht(23264,{he:n})}}function ZS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=ru(t),r=ru(e),s=jt(n.seconds,r.seconds);return s!==0?s:jt(n.nanos,r.nanos)}function e4(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vf(n[s],r[s]);if(i)return i}return jt(n.length,r.length)}function xf(t){return Gx(t)}function Gx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ru(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return su(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return at.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gx(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gx(n.fields[o])}`;return s+"}"})(t.mapValue):ht(61005,{value:t})}function W0(t){switch(iu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s1(t);return e?16+W0(e):16;case 5:return 2*t.stringValue.length;case 6:return su(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+W0(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Fd(r.fields,((i,o)=>{s+=i.length+W0(o)})),s})(t.mapValue);default:throw ht(13486,{value:t})}}function t4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qx(t){return!!t&&"integerValue"in t}function kw(t){return!!t&&"arrayValue"in t}function n4(t){return!!t&&"nullValue"in t}function r4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function G0(t){return!!t&&"mapValue"in t}function FD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qC])==null?void 0:r.stringValue)===KC}function sm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fd(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=sm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sm(t.arrayValue.values[n]);return e}return{...t}}function zD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!G0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sm(n)}setAll(e){let n=ns.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=sm(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());G0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];G0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fd(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new zi(sm(this.value))}}function YC(t){const e=[];return Fd(t.fields,((n,r)=>{const s=new ns([n]);if(G0(r)){const i=YC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new No(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new gs(e,0,xt.min(),xt.min(),xt.min(),zi.empty(),0)}static newFoundDocument(e,n,r,s){return new gs(e,1,n,xt.min(),r,s,0)}static newNoDocument(e,n){return new gs(e,2,n,xt.min(),xt.min(),zi.empty(),0)}static newUnknownDocument(e,n){return new gs(e,3,n,xt.min(),xt.min(),zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.position=e,this.inclusive=n}}function s4(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=vf(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function i4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function BD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XC=class{};class gr extends XC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $D(e,n,r):n==="array-contains"?new GD(e,r):n==="in"?new qD(e,r):n==="not-in"?new KD(e,r):n==="array-contains-any"?new YD(e,r):new gr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HD(e,r):new WD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vf(n,this.value)):n!==null&&iu(this.value)===iu(n)&&this.matchesComparison(vf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ro extends XC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ro(e,n)}matches(e){return QC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QC(t){return t.op==="and"}function JC(t){return UD(t)&&QC(t)}function UD(t){for(const e of t.filters)if(e instanceof Ro)return!1;return!0}function Kx(t){if(t instanceof gr)return t.field.canonicalString()+t.op.toString()+xf(t.value);if(JC(t))return t.filters.map((e=>Kx(e))).join(",");{const e=t.filters.map((n=>Kx(n))).join(",");return`${t.op}(${e})`}}function ZC(t,e){return t instanceof gr?(function(r,s){return s instanceof gr&&r.op===s.op&&r.field.isEqual(s.field)&&Oa(r.value,s.value)})(t,e):t instanceof Ro?(function(r,s){return s instanceof Ro&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&ZC(o,s.filters[l])),!0):!1})(t,e):void ht(19439)}function e6(t){return t instanceof gr?(function(n){return`${n.field.canonicalString()} ${n.op} ${xf(n.value)}`})(t):t instanceof Ro?(function(n){return n.op.toString()+" {"+n.getFilters().map(e6).join(" ,")+"}"})(t):"Filter"}class $D extends gr{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class HD extends gr{constructor(e,n){super(e,"in",n),this.keys=t6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WD extends gr{constructor(e,n){super(e,"not-in",n),this.keys=t6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function t6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>at.fromName(r.referenceValue)))}class GD extends gr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kw(n)&&Tm(n.arrayValue,this.value)}}class qD extends gr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tm(this.value.arrayValue,n)}}class KD extends gr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tm(this.value.arrayValue,n)}}class YD extends gr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function o4(t,e=null,n=[],r=[],s=null,i=null,o=null){return new XD(t,e,n,r,s,i,o)}function Pw(t){const e=_t(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Kx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),r1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xf(r))).join(",")),e.Te=n}return e.Te}function Rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i4(t.startAt,e.startAt)&&i4(t.endAt,e.endAt)}function Yx(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QD(t,e,n,r,s,i,o,l){return new If(t,e,n,r,s,i,o,l)}function n6(t){return new If(t)}function a4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r6(t){return t.collectionGroup!==null}function im(t){const e=_t(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Nr(ns.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(l=l.add(p.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Nm(i,r))})),n.has(ns.keyField().canonicalString())||e.Ie.push(new Nm(ns.keyField(),r))}return e.Ie}function ka(t){const e=_t(t);return e.Ee||(e.Ee=JD(e,im(t))),e.Ee}function JD(t,e){if(t.limitType==="F")return o4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Nm(s.field,i)}));const n=t.endAt?new vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vy(t.startAt.position,t.startAt.inclusive):null;return o4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xx(t,e){const n=t.filters.concat([e]);return new If(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qx(t,e,n){return new If(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function i1(t,e){return Rw(ka(t),ka(e))&&t.limitType===e.limitType}function s6(t){return`${Pw(ka(t))}|lt:${t.limitType}`}function Xh(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>e6(s))).join(", ")}]`),r1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>xf(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>xf(s))).join(",")),`Target(${r})`})(ka(t))}; limitType=${t.limitType})`}function o1(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):at.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of im(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,d){const p=s4(o,l,d);return o.inclusive?p<=0:p<0})(r.startAt,im(r),s)||r.endAt&&!(function(o,l,d){const p=s4(o,l,d);return o.inclusive?p>=0:p>0})(r.endAt,im(r),s))})(t,e)}function ZD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i6(t){return(e,n)=>{let r=!1;for(const s of im(t)){const i=eM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function eM(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):(function(i,o,l){const d=o.data.field(i),p=l.data.field(i);return d!==null&&p!==null?vf(d,p):ht(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return BC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Vn(at.comparator);function jl(){return tM}const o6=new Vn(at.comparator);function Gp(...t){let e=o6;for(const n of t)e=e.insert(n.key,n);return e}function a6(t){let e=o6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wd(){return om()}function l6(){return om()}function om(){return new zd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nM=new Vn(at.comparator),rM=new Nr(at.comparator);function Dt(...t){let e=rM;for(const n of t)e=e.add(n);return e}const sM=new Nr(jt);function iM(){return sM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function c6(t){return{integerValue:""+t}}function oM(t,e){return jD(e)?c6(e):Aw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this._=void 0}}function aM(t,e,n){return t instanceof xy?(function(s,i){const o={fields:{[HC]:{stringValue:$C},[GC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Nw(i)&&(i=s1(i)),i&&(o.fields[WC]=i),{mapValue:o}})(n,e):t instanceof km?d6(t,e):t instanceof Pm?h6(t,e):(function(s,i){const o=u6(s,i),l=l4(o)+l4(s.Ae);return qx(o)&&qx(s.Ae)?c6(l):Aw(s.serializer,l)})(t,e)}function lM(t,e,n){return t instanceof km?d6(t,e):t instanceof Pm?h6(t,e):n}function u6(t,e){return t instanceof wy?(function(r){return qx(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class xy extends a1{}class km extends a1{constructor(e){super(),this.elements=e}}function d6(t,e){const n=f6(e);for(const r of t.elements)n.some((s=>Oa(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Pm extends a1{constructor(e){super(),this.elements=e}}function h6(t,e){let n=f6(e);for(const r of t.elements)n=n.filter((s=>!Oa(s,r)));return{arrayValue:{values:n}}}class wy extends a1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function l4(t){return rr(t.integerValue||t.doubleValue)}function f6(t){return kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cM(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof km&&s instanceof km||r instanceof Pm&&s instanceof Pm?yf(r.elements,s.elements,Oa):r instanceof wy&&s instanceof wy?Oa(r.Ae,s.Ae):r instanceof xy&&s instanceof xy})(t.transform,e.transform)}class uM{constructor(e,n){this.version=e,this.transformResults=n}}class kl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kl}static exists(e){return new kl(void 0,e)}static updateTime(e){return new kl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function q0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class l1{}function p6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g6(t.key,kl.none()):new Zm(t.key,t.data,kl.none());{const n=t.data,r=zi.empty();let s=new Nr(ns.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Bd(t.key,r,new No(s.toArray()),kl.none())}}function dM(t,e,n){t instanceof Zm?(function(s,i,o){const l=s.value.clone(),d=u4(s.fieldTransforms,i,o.transformResults);l.setAll(d),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Bd?(function(s,i,o){if(!q0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=u4(s.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(m6(s)),d.setAll(l),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function am(t,e,n,r){return t instanceof Zm?(function(i,o,l,d){if(!q0(i.precondition,o))return l;const p=i.value.clone(),m=d4(i.fieldTransforms,d,o);return p.setAll(m),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bd?(function(i,o,l,d){if(!q0(i.precondition,o))return l;const p=d4(i.fieldTransforms,d,o),m=o.data;return m.setAll(m6(i)),m.setAll(p),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(i,o,l){return q0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function hM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=u6(r.transform,s||null);i!=null&&(n===null&&(n=zi.empty()),n.set(r.field,i))}return n||null}function c4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yf(r,s,((i,o)=>cM(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zm extends l1{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bd extends l1{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function m6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function u4(t,e,n){const r=new Map;qt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,lM(o,l,n[s]))}return r}function d4(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,aM(i,o,e))}return r}class g6 extends l1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fM extends l1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=am(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=am(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=l6();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const d=p6(o,l);d!==null&&r.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&yf(this.mutations,e.mutations,((n,r)=>c4(n,r)))&&yf(this.baseMutations,e.baseMutations,((n,r)=>c4(n,r)))}}class Iw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return nM})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Iw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr,Ot;function yM(t){switch(t){case be.OK:return ht(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return ht(15467,{code:t})}}function y6(t){if(t===void 0)return Il("GRPC error has no .code"),be.UNKNOWN;switch(t){case fr.OK:return be.OK;case fr.CANCELLED:return be.CANCELLED;case fr.UNKNOWN:return be.UNKNOWN;case fr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case fr.INTERNAL:return be.INTERNAL;case fr.UNAVAILABLE:return be.UNAVAILABLE;case fr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case fr.NOT_FOUND:return be.NOT_FOUND;case fr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case fr.ABORTED:return be.ABORTED;case fr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case fr.DATA_LOSS:return be.DATA_LOSS;default:return ht(39323,{code:t})}}(Ot=fr||(fr={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Qc([4294967295,4294967295],0);function h4(t){const e=vM().encode(t),n=new RC;return n.update(e),new Uint8Array(n.digest())}function f4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qc([n,r],0),new Qc([s,i],0)]}class jw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qp(`Invalid padding: ${n}`);if(r<0)throw new qp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qc.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qc.fromNumber(r)));return s.compare(xM)===1&&(s=new Qc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=h4(e),[r,s]=f4(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jw(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=h4(e),[r,s]=f4(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,eg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new c1(xt.min(),s,new Vn(jt),jl(),Dt())}}class eg{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eg(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class v6{constructor(e,n){this.targetId=e,this.Ce=n}}class x6{constructor(e,n,r=ss.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class p4{constructor(){this.ve=0,this.Fe=m4(),this.Me=ss.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ht(38017,{changeType:i})}})),new eg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=m4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(e){this.Ge=e,this.ze=new Map,this.je=jl(),this.Je=u0(),this.He=u0(),this.Ye=new Vn(jt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Yx(i))if(r===0){const o=new at(i.path);this.et(n,o,gs.newNoDocument(o,xt.min()))}else qt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),d=l?this.ct(l,e,o):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=su(r).toUint8Array()}catch(d){if(d instanceof UC)return gf("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new jw(o,s,i)}catch(d){return gf(d instanceof qp?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Yx(l.target)){const d=new at(l.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,gs.newNoDocument(d,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Dt();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new c1(e,n,this.Ye,this.je,r);return this.je=jl(),this.Je=u0(),this.He=u0(),this.Ye=new Vn(jt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new p4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nr(jt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nr(jt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function u0(){return new Vn(at.comparator)}function m4(){return new Vn(at.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},bM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class EM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jx(t,e){return t.useProto3Json||r1(e)?e:{value:e}}function _y(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CM(t,e){return _y(t,e.toTimestamp())}function Pa(t){return qt(!!t,49232),xt.fromTimestamp((function(n){const r=ru(n);return new wn(r.seconds,r.nanos)})(t))}function Dw(t,e){return Zx(t,e).canonicalString()}function Zx(t,e){const n=(function(s){return new vn(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _6(t){const e=vn.fromString(t);return qt(T6(e),10190,{key:e.toString()}),e}function e2(t,e){return Dw(t.databaseId,e.path)}function Uv(t,e){const n=_6(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(S6(n))}function b6(t,e){return Dw(t.databaseId,e)}function TM(t){const e=_6(t);return e.length===4?vn.emptyPath():S6(e)}function t2(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S6(t){return qt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function g4(t,e,n){return{name:e2(t,e),fields:n.value.mapValue.fields}}function NM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ht(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,m){return p.useProto3Json?(qt(m===void 0||typeof m=="string",58123),ss.fromBase64String(m||"")):(qt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ss.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(p){const m=p.code===void 0?be.UNKNOWN:y6(p.code);return new qe(m,p.message||"")})(o);n=new x6(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Uv(t,r.document.name),i=Pa(r.document.updateTime),o=r.document.createTime?Pa(r.document.createTime):xt.min(),l=new zi({mapValue:{fields:r.document.fields}}),d=gs.newFoundDocument(s,i,o,l),p=r.targetIds||[],m=r.removedTargetIds||[];n=new K0(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Uv(t,r.document),i=r.readTime?Pa(r.readTime):xt.min(),o=gs.newNoDocument(s,i),l=r.removedTargetIds||[];n=new K0([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Uv(t,r.document),i=r.removedTargetIds||[];n=new K0([],i,s,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gM(s,i),l=r.targetId;n=new v6(l,o)}}return n}function kM(t,e){let n;if(e instanceof Zm)n={update:g4(t,e.key,e.value)};else if(e instanceof g6)n={delete:e2(t,e.key)};else if(e instanceof Bd)n={update:g4(t,e.key,e.data),updateMask:LM(e.fieldMask)};else{if(!(e instanceof fM))return ht(16599,{Vt:e.type});n={verify:e2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof xy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof km)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wy)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ht(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:CM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ht(27497)})(t,e.precondition)),n}function PM(t,e){return t&&t.length>0?(qt(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Pa(s.updateTime):Pa(i);return o.isEqual(xt.min())&&(o=Pa(i)),new uM(o,s.transformResults||[])})(n,e)))):[]}function RM(t,e){return{documents:[b6(t,e.path)]}}function AM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=b6(t,s);const i=(function(p){if(p.length!==0)return C6(Ro.create(p,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(p){if(p.length!==0)return p.map((m=>(function(v){return{field:Qh(v.field),direction:DM(v.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Jx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function IM(t){let e=TM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(y){const v=E6(y);return v instanceof Ro&&JC(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(y){return y.map((v=>(function(C){return new Nm(Jh(C.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(y){let v;return v=typeof y=="object"?y.value:y,r1(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(y){const v=!!y.before,S=y.values||[];return new vy(S,v)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const v=!y.before,S=y.values||[];return new vy(S,v)})(n.endAt)),QD(e,s,o,i,l,"F",d,p)}function jM(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jh(n.unaryFilter.field);return gr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jh(n.unaryFilter.field);return gr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jh(n.unaryFilter.field);return gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jh(n.unaryFilter.field);return gr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(t):t.fieldFilter!==void 0?(function(n){return gr.create(Jh(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ro.create(n.compositeFilter.filters.map((r=>E6(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(n.compositeFilter.op))})(t):ht(30097,{filter:t})}function DM(t){return _M[t]}function MM(t){return bM[t]}function OM(t){return SM[t]}function Qh(t){return{fieldPath:t.canonicalString()}}function Jh(t){return ns.fromServerFormat(t.fieldPath)}function C6(t){return t instanceof gr?(function(n){if(n.op==="=="){if(r4(n.value))return{unaryFilter:{field:Qh(n.field),op:"IS_NAN"}};if(n4(n.value))return{unaryFilter:{field:Qh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r4(n.value))return{unaryFilter:{field:Qh(n.field),op:"IS_NOT_NAN"}};if(n4(n.value))return{unaryFilter:{field:Qh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(n.field),op:MM(n.op),value:n.value}}})(t):t instanceof Ro?(function(n){const r=n.getFilters().map((s=>C6(s)));return r.length===1?r[0]:{compositeFilter:{op:OM(n.op),filters:r}}})(t):ht(54877,{filter:t})}function LM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function T6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,s,i=xt.min(),o=xt.min(),l=ss.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.yt=e}}function FM(t){const e=IM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.Cn=new BM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(nu.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(nu.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class BM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nr(vn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nr(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N6=41943040;class Zs{static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(N6,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wf(0)}static cr(){return new wf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="LruGarbageCollector",UM=1048576;function x4([t,e],[n,r]){const s=jt(t,n);return s===0?jt(e,r):s}class $M{constructor(e){this.Ir=e,this.buffer=new Nr(x4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ye(v4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Af(n)?Ye(v4,"Ignoring IndexedDB error during garbage collection: ",n):await Rf(n)}await this.Vr(3e5)}))}}class WM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(n1.ce);const r=new $M(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(y4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,o=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,l=Date.now(),this.removeTargets(e,r,n)))).next((y=>(i=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Yh()<=Lt.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(d-l)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:y}))))}}function GM(t,e){return new WM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.changes=new zd((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&am(r.mutation,s,No.empty(),wn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const s=wd();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Gp();return i.forEach(((l,d)=>{o=o.insert(l,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=wd();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,s){let i=jl();const o=om(),l=(function(){return om()})();return n.forEach(((d,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof Bd)?i=i.insert(p.key,p):m!==void 0?(o.set(p.key,m.mutation.getFieldMask()),am(m.mutation,p,m.mutation.getFieldMask(),wn.now())):o.set(p.key,No.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((p,m)=>o.set(p,m))),n.forEach(((p,m)=>l.set(p,new KM(m,o.get(p)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=om();let s=new Vn(((o,l)=>o-l)),i=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let m=r.get(d)||No.empty();m=l.applyToLocalView(p,m),r.set(d,m);const y=(s.get(l.batchId)||Dt()).add(d);s=s.insert(l.batchId,y)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),p=d.key,m=d.value,y=l6();m.forEach((v=>{if(!i.has(v)){const S=p6(n.get(v),r.get(v));S!==null&&y.set(v,S),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,p,y))}return Se.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Se.resolve(wd());let l=Sm,d=i;return o.next((p=>Se.forEach(p,((m,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),i.get(m)?Se.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,d,p,Dt()))).next((m=>({batchId:l,changes:a6(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next((r=>{let s=Gp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Gp();return this.indexManager.getCollectionParents(e,i).next((l=>Se.forEach(l,(d=>{const p=(function(y,v){return new If(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((m=>{m.forEach(((y,v)=>{o=o.insert(y,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((d,p)=>{const m=p.getKey();o.get(m)===null&&(o=o.insert(m,gs.newInvalidDocument(m)))}));let l=Gp();return o.forEach(((d,p)=>{const m=i.get(d);m!==void 0&&am(m.mutation,p,No.empty(),wn.now()),o1(n,p)&&(l=l.insert(d,p))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Pa(s.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:FM(s.bundledQuery),readTime:Pa(s.readTime)}})(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.overlays=new Vn(at.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wd();return Se.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const s=wd(),i=n.length+1,o=new at(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const d=l.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vn(((p,m)=>p-m));const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=i.get(p.largestBatchId);m===null&&(m=wd(),i=i.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const l=wd(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>l.set(p,m))),!(l.size()>=s)););return Se.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mM(n,r));let i=this.qr.get(n);i===void 0&&(i=Dt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Qr=new Nr(Fr.$r),this.Ur=new Nr(Fr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new at(new vn([])),r=new Fr(n,e),s=new Fr(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new at(new vn([])),r=new Fr(n,e),s=new Fr(n,e+1);let i=Dt();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Fr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return at.comparator(e.key,n.key)||jt(e.Yr,n.Yr)}static Kr(e,n){return jt(e.Yr,n.Yr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nr(Fr.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Fr(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Tw:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fr(n,0),s=new Fr(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),Se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nr(jt);return n.forEach((s=>{const i=new Fr(s,0),o=new Fr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;at.isDocumentKey(i)||(i=i.child(""));const o=new Fr(new at(i),0);let l=new Nr(jt);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(l=l.add(d.Yr)),!0)}),o),Se.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(n.mutations,(s=>{const i=new Fr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fr(n,0),s=this.Zr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.ri=e,this.docs=(function(){return new Vn(at.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(n))}getEntries(e,n){let r=jl();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gs.newInvalidDocument(s))})),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=jl();const o=n.path,l=new at(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||PD(kD(m),r)<=0||(s.has(m.key)||o1(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ht(9500)}ii(e,n){return Se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tO(this)}getSize(e){return Se.resolve(this.size)}}class tO extends qM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.persistence=e,this.si=new zd((n=>Pw(n)),Rw),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mw,this.targetCount=0,this.ai=wf.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),Se.waitFor(i).next((()=>s))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Se.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.ui={},this.overlays={},this.ci=new n1(0),this.li=!1,this.li=!0,this.hi=new JM,this.referenceDelegate=e(this),this.Pi=new nO(this),this.indexManager=new zM,this.remoteDocumentCache=(function(s){return new eO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VM(n),this.Ii=new XM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ZM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ye("MemoryPersistence","Starting transaction:",e);const s=new rO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rO extends AD{constructor(e){super(),this.currentSequenceNumber=e}}class Ow{constructor(e){this.persistence=e,this.Ri=new Mw,this.Vi=null}static mi(e){return new Ow(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const s=at.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,xt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class by{constructor(e,n){this.persistence=e,this.pi=new zd((r=>DD(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=GM(this,n)}static mi(e,n){return new by(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Se.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,i.removeEntry(o,xt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=W0(e.data.value)),n}br(e,n,r){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Dt(),s=Dt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ej()?8:ID(J7())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new sO;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yh()<=Lt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",Xh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Yh()<=Lt.DEBUG&&Ye("QueryEngine","Query:",Xh(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yh()<=Lt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",Xh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):Se.resolve())}ys(e,n){if(a4(n))return Se.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Qx(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Dt(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,l);return this.Cs(n,p,o,d.readTime)?this.ys(e,Qx(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,s){return a4(n)||s.isEqual(xt.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Se.resolve(null):(Yh()<=Lt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xh(n)),this.vs(e,o,n,ND(s,Sm)).next((l=>l)))}))}Ds(e,n){let r=new Nr(i6(e));return n.forEach(((s,i)=>{o1(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yh()<=Lt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Xh(n)),this.ps.getDocumentsMatchingQuery(e,n,nu.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LocalStore",oO=3e8;class aO{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Vn(jt),this.xs=new zd((i=>Pw(i)),Rw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lO(t,e,n,r){return new aO(t,e,n,r)}async function P6(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let d=Dt();for(const p of s){o.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:o,addedBatchIds:l})))}))}))}function cO(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,d,p,m){const y=p.batch,v=y.keys();let S=Se.resolve();return v.forEach((C=>{S=S.next((()=>m.getEntry(d,C))).next((k=>{const P=p.docVersions.get(C);qt(P!==null,48541),k.version.compareTo(P)<0&&(y.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))}))})),S.next((()=>l.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let d=Dt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function R6(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uO(t,e){const n=_t(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach(((m,y)=>{const v=s.get(y);if(!v)return;l.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,y))));let S=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(ss.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(y,S),(function(k,P,M){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=oO?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(v,S,m)&&l.push(n.Pi.updateTargetData(i,S))}));let d=jl(),p=Dt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),l.push(dO(i,o,e.documentUpdates).next((m=>{d=m.ks,p=m.qs}))),!r.isEqual(xt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((y=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(m)}return Se.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,d,p))).next((()=>d))})).then((i=>(n.Ms=s,i)))}function dO(t,e,n){let r=Dt(),s=Dt();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=jl();return n.forEach(((l,d)=>{const p=i.get(l);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(l)),d.isNoDocument()&&d.version.isEqual(xt.min())?(e.removeEntry(l,d.readTime),o=o.insert(l,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),o=o.insert(l,d)):Ye(Vw,"Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",d.version)})),{ks:o,qs:s}}))}function hO(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Tw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fO(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Se.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new qc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function n2(t,e,n){const r=_t(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Af(o))throw o;Ye(Vw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function w4(t,e,n){const r=_t(t);let s=xt.min(),i=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,p,m){const y=_t(d),v=y.xs.get(m);return v!==void 0?Se.resolve(y.Ms.get(v)):y.Pi.getTargetData(p,m)})(r,o,ka(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((d=>{i=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:xt.min(),n?i:Dt()))).next((l=>(pO(r,ZD(e),l),{documents:l,Qs:i})))))}function pO(t,e,n){let r=t.Os.get(e)||xt.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class _4{constructor(){this.activeTargetIds=iM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mO{constructor(){this.Mo=new _4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="ConnectivityMonitor";class S4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ye(b4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ye(b4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0=null;function r2(){return d0===null?d0=(function(){return 268435456+Math.round(2147483648*Math.random())})():d0++,"0x"+d0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===gy?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=r2(),l=this.zo(e,n.toUriEncodedString());Ye($v,`Sending RPC '${e}' ${o}:`,l,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,i);const{host:p}=new URL(l),m=Qm(p);return this.Jo(e,l,d,r,m).then((y=>(Ye($v,`Received RPC '${e}' ${o}: `,y),y)),(y=>{throw gf($v,`RPC '${e}' ${o} failed with error: `,y,"url: ",l,"request:",r),y}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=yO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class wO extends vO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=r2();return new Promise(((l,d)=>{const p=new AC;p.setWithCredentials(!0),p.listenOnce(IC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case H0.NO_ERROR:const y=p.getResponseJson();Ye(ps,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),l(y);break;case H0.TIMEOUT:Ye(ps,`RPC '${e}' ${o} timed out`),d(new qe(be.DEADLINE_EXCEEDED,"Request time out"));break;case H0.HTTP_ERROR:const v=p.getStatus();if(Ye(ps,`RPC '${e}' ${o} failed with status:`,v,"response text:",p.getResponseText()),v>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const k=(function(M){const j=M.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(j)>=0?j:be.UNKNOWN})(C.status);d(new qe(k,C.message))}else d(new qe(be.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new qe(be.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:o,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ye(ps,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(s);Ye(ps,`RPC '${e}' ${o} sending request:`,s),p.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=r2(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MC(),l=DC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=i.join("");Ye(ps,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=o.createWebChannel(m,d);this.I_(y);let v=!1,S=!1;const C=new xO({Yo:P=>{S?Ye(ps,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(v||(Ye(ps,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),Ye(ps,`RPC '${e}' stream ${s} sending:`,P),y.send(P))},Zo:()=>y.close()}),k=(P,M,j)=>{P.listen(M,(D=>{try{j(D)}catch(V){setTimeout((()=>{throw V}),0)}}))};return k(y,Wp.EventType.OPEN,(()=>{S||(Ye(ps,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),k(y,Wp.EventType.CLOSE,(()=>{S||(S=!0,Ye(ps,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(y))})),k(y,Wp.EventType.ERROR,(P=>{S||(S=!0,gf(ps,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),C.a_(new qe(be.UNAVAILABLE,"The operation could not be completed")))})),k(y,Wp.EventType.MESSAGE,(P=>{var M;if(!S){const j=P.data[0];qt(!!j,16349);const D=j,V=(D==null?void 0:D.error)||((M=D[0])==null?void 0:M.error);if(V){Ye(ps,`RPC '${e}' stream ${s} received error:`,V);const G=V.status;let J=(function(F){const z=fr[F];if(z!==void 0)return y6(z)})(G),B=V.message;J===void 0&&(J=be.INTERNAL,B="Unknown error status: "+G+" with message "+V.message),S=!0,C.a_(new qe(J,B)),y.close()}else Ye(ps,`RPC '${e}' stream ${s} received:`,j),C.u_(j)}})),k(l,jC.STAT_EVENT,(P=>{P.stat===Hx.PROXY?Ye(ps,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Hx.NOPROXY&&Ye(ps,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){return new EM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="PersistentStream";class I6{constructor(e,n,r,s,i,o,l,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(Il(n.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new qe(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ye(E4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ye(E4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _O extends I6{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NM(this.serializer,e),r=(function(i){if(!("targetChange"in i))return xt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Pa(o.readTime):xt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=t2(this.serializer),n.addTarget=(function(i,o){let l;const d=o.target;if(l=Yx(d)?{documents:RM(i,d)}:{query:AM(i,d).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=w6(i,o.resumeToken);const p=Jx(i,o.expectedCount);p!==null&&(l.expectedCount=p)}else if(o.snapshotVersion.compareTo(xt.min())>0){l.readTime=_y(i,o.snapshotVersion.toTimestamp());const p=Jx(i,o.expectedCount);p!==null&&(l.expectedCount=p)}return l})(this.serializer,e);const r=jM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=t2(this.serializer),n.removeTarget=e,this.q_(n)}}class bO extends I6{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PM(e.writeResults,e.commitTime),r=Pa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=t2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>kM(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{}class EO extends SO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new qe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Zx(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new qe(be.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Zx(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(be.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Il(n),this.aa=!1):Ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RemoteStore";class TO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ud(this)&&(Ye(Rd,"Restarting streams for network reachability change."),await(async function(d){const p=_t(d);p.Ea.add(4),await tg(p),p.Ra.set("Unknown"),p.Ea.delete(4),await d1(p)})(this))}))})),this.Ra=new CO(r,s)}}async function d1(t){if(Ud(t))for(const e of t.da)await e(!0)}async function tg(t){for(const e of t.da)await e(!1)}function j6(t,e){const n=_t(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Uw(n)?Bw(n):jf(n).O_()&&zw(n,e))}function Fw(t,e){const n=_t(t),r=jf(n);n.Ia.delete(e),r.O_()&&D6(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ud(n)&&n.Ra.set("Unknown"))}function zw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jf(t).Y_(e)}function D6(t,e){t.Va.Ue(e),jf(t).Z_(e)}function Bw(t){t.Va=new wM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jf(t).start(),t.Ra.ua()}function Uw(t){return Ud(t)&&!jf(t).x_()&&t.Ia.size>0}function Ud(t){return _t(t).Ea.size===0}function M6(t){t.Va=void 0}async function NO(t){t.Ra.set("Online")}async function kO(t){t.Ia.forEach(((e,n)=>{zw(t,e)}))}async function PO(t,e){M6(t),Uw(t)?(t.Ra.ha(e),Bw(t)):t.Ra.set("Unknown")}async function RO(t,e,n){if(t.Ra.set("Online"),e instanceof x6&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(t,e)}catch(r){Ye(Rd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sy(t,r)}else if(e instanceof K0?t.Va.Ze(e):e instanceof v6?t.Va.st(e):t.Va.tt(e),!n.isEqual(xt.min()))try{const r=await R6(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.Ia.get(p);m&&i.Ia.set(p,m.withResumeToken(d.resumeToken,o))}})),l.targetMismatches.forEach(((d,p)=>{const m=i.Ia.get(d);if(!m)return;i.Ia.set(d,m.withResumeToken(ss.EMPTY_BYTE_STRING,m.snapshotVersion)),D6(i,d);const y=new qc(m.target,d,p,m.sequenceNumber);zw(i,y)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ye(Rd,"Failed to raise snapshot:",r),await Sy(t,r)}}async function Sy(t,e,n){if(!Af(e))throw e;t.Ea.add(1),await tg(t),t.Ra.set("Offline"),n||(n=()=>R6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ye(Rd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await d1(t)}))}function O6(t,e){return e().catch((n=>Sy(t,n,e)))}async function h1(t){const e=_t(t),n=ou(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tw;for(;AO(e);)try{const s=await hO(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,IO(e,s)}catch(s){await Sy(e,s)}L6(e)&&V6(e)}function AO(t){return Ud(t)&&t.Ta.length<10}function IO(t,e){t.Ta.push(e);const n=ou(t);n.O_()&&n.X_&&n.ea(e.mutations)}function L6(t){return Ud(t)&&!ou(t).x_()&&t.Ta.length>0}function V6(t){ou(t).start()}async function jO(t){ou(t).ra()}async function DO(t){const e=ou(t);for(const n of t.Ta)e.ea(n.mutations)}async function MO(t,e,n){const r=t.Ta.shift(),s=Iw.from(r,e,n);await O6(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await h1(t)}async function OO(t,e){e&&ou(t).X_&&await(async function(r,s){if((function(o){return yM(o)&&o!==be.ABORTED})(s.code)){const i=r.Ta.shift();ou(r).B_(),await O6(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await h1(r)}})(t,e),L6(t)&&V6(t)}async function C4(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Ye(Rd,"RemoteStore received new credentials");const r=Ud(n);n.Ea.add(3),await tg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await d1(n)}async function LO(t,e){const n=_t(t);e?(n.Ea.delete(2),await d1(n)):e||(n.Ea.add(2),await tg(n),n.Ra.set("Unknown"))}function jf(t){return t.ma||(t.ma=(function(n,r,s){const i=_t(n);return i.sa(),new _O(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:NO.bind(null,t),t_:kO.bind(null,t),r_:PO.bind(null,t),H_:RO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Uw(t)?Bw(t):t.Ra.set("Unknown")):(await t.ma.stop(),M6(t))}))),t.ma}function ou(t){return t.fa||(t.fa=(function(n,r,s){const i=_t(n);return i.sa(),new bO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:jO.bind(null,t),r_:OO.bind(null,t),ta:DO.bind(null,t),na:MO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await h1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ye(Rd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new $w(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hw(t,e){if(Il("AsyncQueue",`${e}: ${t}`),Af(t))return new qe(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{static emptySet(e){return new af(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Gp(),this.sortedSet=new Vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof af)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new af;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.ga=new Vn(at.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _f{constructor(e,n,r,s,i,o,l,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new _f(e,n,af.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&i1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FO{constructor(){this.queries=N4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=_t(n),i=s.queries;s.queries=N4(),i.forEach(((o,l)=>{for(const d of l.Sa)d.onError(r)}))})(this,new qe(be.ABORTED,"Firestore shutting down"))}}function N4(){return new zd((t=>s6(t)),i1)}async function zO(t,e){const n=_t(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new VO,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Hw(o,`Initialization of query '${Xh(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Ww(n)}async function BO(t,e){const n=_t(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UO(t,e){const n=_t(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&Ww(n)}function $O(t,e,n){const r=_t(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Ww(t){t.Ca.forEach((e=>{e.next()}))}var s2,k4;(k4=s2||(s2={})).Ma="default",k4.Cache="cache";class HO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _f(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==s2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.key=e}}class z6{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=i6(e),this.tu=new af(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new T4,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,y)=>{const v=s.get(m),S=o1(this.query,y)?y:null,C=!!v&&this.mutatedKeys.has(v.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;v&&S?v.data.isEqual(S.data)?C!==k&&(r.track({type:3,doc:S}),P=!0):this.su(v,S)||(r.track({type:2,doc:S}),P=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(l=!0)):!v&&S?(r.track({type:0,doc:S}),P=!0):v&&!S&&(r.track({type:1,doc:v}),P=!0,(d||p)&&(l=!0)),P&&(S?(o=o.add(S),i=k?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,y)=>(function(S,C){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:P})}};return k(S)-k(C)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,o.length!==0||p?{snapshot:new _f(this.query,e.tu,i,o,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new z6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new F6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _f.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gw="SyncEngine";class GO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qO{constructor(e){this.key=e,this.hu=!1}}class KO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zd((l=>s6(l)),i1),this.Iu=new Map,this.Eu=new Set,this.du=new Vn(at.comparator),this.Au=new Map,this.Ru=new Mw,this.Vu={},this.mu=new Map,this.fu=wf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YO(t,e,n=!0){const r=G6(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await B6(r,e,n,!0),s}async function XO(t,e){const n=G6(t);await B6(n,e,!0,!1)}async function B6(t,e,n,r){const s=await fO(t.localStore,ka(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await QO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&j6(t.remoteStore,s),l}async function QO(t,e,n,r,s){t.pu=(y,v,S)=>(async function(k,P,M,j){let D=P.view.ru(M);D.Cs&&(D=await w4(k.localStore,P.query,!1).then((({documents:B})=>P.view.ru(B,D))));const V=j&&j.targetChanges.get(P.targetId),G=j&&j.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(D,k.isPrimaryClient,V,G);return R4(k,P.targetId,J.au),J.snapshot})(t,y,v,S);const i=await w4(t.localStore,e,!0),o=new WO(e,i.Qs),l=o.ru(i.documents),d=eg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=o.applyChanges(l,t.isPrimaryClient,d);R4(t,n,p.au);const m=new GO(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function JO(t,e,n){const r=_t(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!i1(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await n2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fw(r.remoteStore,s.targetId),i2(r,s.targetId)})).catch(Rf)):(i2(r,s.targetId),await n2(r.localStore,s.targetId,!0))}async function ZO(t,e){const n=_t(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fw(n.remoteStore,r.targetId))}async function eL(t,e,n){const r=aL(t);try{const s=await(function(o,l){const d=_t(o),p=wn.now(),m=l.reduce(((S,C)=>S.add(C.key)),Dt());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=jl(),k=Dt();return d.Ns.getEntries(S,m).next((P=>{C=P,C.forEach(((M,j)=>{j.isValidDocument()||(k=k.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,C))).next((P=>{y=P;const M=[];for(const j of l){const D=hM(j,y.get(j.key).overlayedDocument);D!=null&&M.push(new Bd(j.key,D,YC(D.value.mapValue),kl.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,M,l)})).next((P=>{v=P;const M=P.applyToLocalDocumentSet(y,k);return d.documentOverlayCache.saveOverlays(S,P.batchId,M)}))})).then((()=>({batchId:v.batchId,changes:a6(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,d){let p=o.Vu[o.currentUser.toKey()];p||(p=new Vn(jt)),p=p.insert(l,d),o.Vu[o.currentUser.toKey()]=p})(r,s.batchId,n),await ng(r,s.changes),await h1(r.remoteStore)}catch(s){const i=Hw(s,"Failed to persist write");n.reject(i)}}async function U6(t,e){const n=_t(t);try{const r=await uO(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?qt(o.hu,14607):s.removedDocuments.size>0&&(qt(o.hu,42227),o.hu=!1))})),await ng(n,r,e)}catch(r){await Rf(r)}}function P4(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const d=_t(o);d.onlineState=l;let p=!1;d.queries.forEach(((m,y)=>{for(const v of y.Sa)v.va(l)&&(p=!0)})),p&&Ww(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tL(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Vn(at.comparator);o=o.insert(i,gs.newNoDocument(i,xt.min()));const l=Dt().add(i),d=new c1(xt.min(),new Map,new Vn(jt),o,l);await U6(r,d),r.du=r.du.remove(i),r.Au.delete(e),qw(r)}else await n2(r.localStore,e,!1).then((()=>i2(r,e,n))).catch(Rf)}async function nL(t,e){const n=_t(t),r=e.batch.batchId;try{const s=await cO(n.localStore,e);H6(n,r,null),$6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ng(n,s)}catch(s){await Rf(s)}}async function rL(t,e,n){const r=_t(t);try{const s=await(function(o,l){const d=_t(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,l).next((y=>(qt(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,l))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);H6(r,e,n),$6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ng(r,s)}catch(s){await Rf(s)}}function $6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function H6(t,e,n){const r=_t(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function i2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||W6(t,r)}))}function W6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qw(t))}function R4(t,e,n){for(const r of n)r instanceof F6?(t.Ru.addReference(r.key,e),sL(t,r)):r instanceof z6?(Ye(Gw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||W6(t,r.key)):ht(19791,{wu:r})}function sL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ye(Gw,"New document in limbo: "+n),t.Eu.add(r),qw(t))}function qw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new at(vn.fromString(e)),r=t.fu.next();t.Au.set(r,new qO(n)),t.du=t.du.insert(n,r),j6(t.remoteStore,new qc(ka(n6(n.path)),r,"TargetPurposeLimboResolution",n1.ce))}}async function ng(t,e,n){const r=_t(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,d)=>{o.push(r.pu(d,e,n).then((p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=Lw.As(d.targetId,p);i.push(y)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(d,p){const m=_t(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Se.forEach(p,(v=>Se.forEach(v.Es,(S=>m.persistence.referenceDelegate.addReference(y,v.targetId,S))).next((()=>Se.forEach(v.ds,(S=>m.persistence.referenceDelegate.removeReference(y,v.targetId,S)))))))))}catch(y){if(!Af(y))throw y;Ye(Vw,"Failed to update sequence numbers: "+y)}for(const y of p){const v=y.targetId;if(!y.fromCache){const S=m.Ms.get(v),C=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(C);m.Ms=m.Ms.insert(v,k)}}})(r.localStore,i))}async function iL(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Ye(Gw,"User change. New user:",e.toKey());const r=await P6(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((d=>{d.reject(new qe(be.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ng(n,r.Ls)}}function oL(t,e){const n=_t(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let s=Dt();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function G6(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tL.bind(null,e),e.Pu.H_=UO.bind(null,e.eventManager),e.Pu.yu=$O.bind(null,e.eventManager),e}function aL(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class Ey{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=u1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lO(this.persistence,new iO,e.initialUser,this.serializer)}Cu(e){return new k6(Ow.mi,this.serializer)}Du(e){return new mO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ey.provider={build:()=>new Ey};class lL extends Ey{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qt(this.persistence.referenceDelegate instanceof by,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new k6((r=>by.mi(r,n)),this.serializer)}}class o2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FO})()}createDatastore(e){const n=u1(e.databaseInfo.databaseId),r=(function(i){return new wO(i)})(e.databaseInfo);return(function(i,o,l,d){return new EO(i,o,l,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,l){return new TO(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>P4(this.syncEngine,n,0)),(function(){return S4.v()?new S4:new gO})())}createSyncEngine(e,n){return(function(s,i,o,l,d,p,m){const y=new KO(s,i,o,l,d,p);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=_t(s);Ye(Rd,"RemoteStore shutting down."),i.Ea.add(5),await tg(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}o2.provider={build:()=>new o2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Il("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="FirestoreClient";class uL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ms.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ye(au,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ye(au,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wv(t,e){t.asyncQueue.verifyOperationInProgress(),Ye(au,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await P6(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function A4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dL(t);Ye(au,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>C4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>C4(e.remoteStore,s))),t._onlineComponents=e}async function dL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ye(au,"Using user provided OfflineComponentProvider");try{await Wv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===be.FAILED_PRECONDITION||s.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gf("Error using user provided cache. Falling back to memory cache: "+n),await Wv(t,new Ey)}}else Ye(au,"Using default OfflineComponentProvider"),await Wv(t,new lL(void 0));return t._offlineComponents}async function q6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ye(au,"Using user provided OnlineComponentProvider"),await A4(t,t._uninitializedComponentsProvider._online)):(Ye(au,"Using default OnlineComponentProvider"),await A4(t,new o2))),t._onlineComponents}function hL(t){return q6(t).then((e=>e.syncEngine))}async function fL(t){const e=await q6(t),n=e.eventManager;return n.onListen=YO.bind(null,e.syncEngine),n.onUnlisten=JO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZO.bind(null,e.syncEngine),n}function pL(t,e,n={}){const r=new Jc;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,d,p){const m=new cL({next:v=>{m.Nu(),o.enqueueAndForget((()=>BO(i,y))),v.fromCache&&d.source==="server"?p.reject(new qe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),y=new HO(l,m,{includeMetadataChanges:!0,qa:!0});return zO(i,y)})(await fL(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="firestore.googleapis.com",j4=!0;class D4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y6,this.ssl=j4}else this.host=e.host,this.ssl=e.ssl??j4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UM)throw new qe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new wD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=I4.get(n);r&&(Ye("ComponentProvider","Removing Datastore"),I4.delete(n),r.terminate())})(this),Promise.resolve()}}function mL(t,e,n,r={}){var p;t=py(t,f1);const s=Qm(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(gC(`https://${l}`),vC("Firestore",!0)),i.host!==Y6&&i.host!==l&&gf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:l,ssl:s,emulatorOptions:r};if(!hy(d,o)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=ms.MOCK_USER;else{m=yC(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new qe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ms(v)}t._authCredentials=new yD(new LC(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $d(this.firestore,e,this._query)}}class zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}toJSON(){return{type:zr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jm(n,zr._jsonSchema))return new zr(e,r||null,new at(vn.fromString(n.referencePath)))}}zr._jsonSchemaVersion="firestore/documentReference/1.0",zr._jsonSchema={type:yr("string",zr._jsonSchemaVersion),referencePath:yr("string")};class Zc extends $d{constructor(e,n,r){super(e,n,n6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new at(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function a2(t,e,...n){if(t=Ma(t),VC("collection","path",e),t instanceof f1){const r=vn.fromString(e,...n);return qS(r),new Zc(t,null,r)}{if(!(t instanceof zr||t instanceof Zc))throw new qe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return qS(r),new Zc(t.firestore,null,r)}}function gL(t,e,...n){if(t=Ma(t),arguments.length===1&&(e=Cw.newId()),VC("doc","path",e),t instanceof f1){const r=vn.fromString(e,...n);return GS(r),new zr(t,null,new at(r))}{if(!(t instanceof zr||t instanceof Zc))throw new qe(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return GS(r),new zr(t.firestore,t instanceof Zc?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="AsyncQueue";class O4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A6(this,"async_queue_retry"),this._c=()=>{const r=Hv();r&&Ye(M4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Af(e))throw e;Ye(M4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Il("INTERNAL UNHANDLED ERROR: ",L4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=$w.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ht(47125,{Pc:L4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kw extends f1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O4(e),this._firestoreClient=void 0,await e}}}function yL(t,e){const n=typeof t=="object"?t:NC(),r=typeof t=="string"?t:gy,s=SC(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pC("firestore");i&&mL(s,...i)}return s}function X6(t){if(t._terminated)throw new qe(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vL(t),t._firestoreClient}function vL(t){var r,s,i;const e=t._freezeSettings(),n=(function(l,d,p,m){return new LD(l,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,K6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(ss.fromBase64String(e))}catch(n){throw new qe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jm(e,Bi._jsonSchema))return Bi.fromBase64String(e.bytes)}}Bi._jsonSchemaVersion="firestore/bytes/1.0",Bi._jsonSchema={type:yr("string",Bi._jsonSchemaVersion),bytes:yr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ra._jsonSchemaVersion}}static fromJSON(e){if(Jm(e,Ra._jsonSchema))return new Ra(e.latitude,e.longitude)}}Ra._jsonSchemaVersion="firestore/geoPoint/1.0",Ra._jsonSchema={type:yr("string",Ra._jsonSchemaVersion),latitude:yr("number"),longitude:yr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jm(e,Aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Aa(e.vectorValues);throw new qe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:yr("string",Aa._jsonSchemaVersion),vectorValues:yr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/^__.*__$/;class wL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zm(e,this.data,n,this.fieldTransforms)}}function J6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:t})}}class Xw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(J6(this.Ac)&&xL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||u1(e)}Cc(e,n,r,s=!1){return new Xw({Ac:e,methodName:n,Dc:r,path:ns.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z6(t){const e=t._freezeSettings(),n=u1(t._databaseId);return new _L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bL(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);nT("Data must be an object, but it was:",o,r);const l=eT(r,o);let d,p;if(i.merge)d=new No(o.fieldMask),p=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const y of i.mergeFields){const v=EL(e,y,n);if(!o.contains(v))throw new qe(be.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);TL(m,v)||m.push(v)}d=new No(m),p=o.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=o.fieldTransforms;return new wL(new zi(l),d,p)}function SL(t,e,n,r=!1){return Qw(n,t.Cc(r?4:3,e))}function Qw(t,e){if(tT(t=Ma(t)))return nT("Unsupported field value:",e,t),eT(t,e);if(t instanceof Q6)return(function(r,s){if(!J6(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let d=Qw(l,s.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Ma(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=wn.fromDate(r);return{timestampValue:_y(s.serializer,i)}}if(r instanceof wn){const i=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_y(s.serializer,i)}}if(r instanceof Ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bi)return{bytesValue:w6(s.serializer,r._byteString)};if(r instanceof zr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Aa)return(function(o,l){return{mapValue:{fields:{[qC]:{stringValue:KC},[yy]:{arrayValue:{values:o.toArray().map((p=>{if(typeof p!="number")throw l.Sc("VectorValues must only contain numeric values.");return Aw(l.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${t1(r)}`)})(t,e)}function eT(t,e){const n={};return BC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(t,((r,s)=>{const i=Qw(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function tT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof Ra||t instanceof Bi||t instanceof zr||t instanceof Q6||t instanceof Aa)}function nT(t,e,n){if(!tT(n)||!FC(n)){const r=t1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function EL(t,e,n){if((e=Ma(e))instanceof Yw)return e._internalPath;if(typeof e=="string")return rT(t,e);throw Cy("Field path arguments must be of type string or ",t,!1,void 0,n)}const CL=new RegExp("[~\\*/\\[\\]]");function rT(t,e,n){if(e.search(CL)>=0)throw Cy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yw(...e.split("."))._internalPath}catch{throw Cy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cy(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${r}`),o&&(d+=` in document ${s}`),d+=")"),new qe(be.INVALID_ARGUMENT,l+t+d)}function TL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NL extends sT{data(){return super.data()}}function Jw(t,e){return typeof e=="string"?rT(t,e):e instanceof Yw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}class iT extends Zw{}function PL(t,e,...n){let r=[];e instanceof Zw&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((d=>d instanceof t_)).length,l=i.filter((d=>d instanceof e_)).length;if(o>1||o>0&&l>0)throw new qe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class e_ extends iT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=this._parse(e);return oT(e._query,n),new $d(e.firestore,e.converter,Xx(e._query,n))}_parse(e){const n=Z6(e.firestore);return(function(i,o,l,d,p,m,y){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new qe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){F4(y,m);const C=[];for(const k of y)C.push(V4(d,i,k));v={arrayValue:{values:C}}}else v=V4(d,i,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||F4(y,m),v=SL(l,o,y,m==="in"||m==="not-in");return gr.create(p,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class t_ extends Zw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ro.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const d of l)oT(o,d),o=Xx(o,d)})(e._query,n),new $d(e.firestore,e.converter,Xx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n_ extends iT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n_(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new qe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new qe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nm(i,o)})(e._query,this._field,this._direction);return new $d(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new If(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function RL(t,e="asc"){const n=e,r=Jw("orderBy",t);return n_._create(r,n)}function V4(t,e,n){if(typeof(n=Ma(n))=="string"){if(n==="")throw new qe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r6(e)&&n.indexOf("/")!==-1)throw new qe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vn.fromString(n));if(!at.isDocumentKey(r))throw new qe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t4(t,new at(r))}if(n instanceof zr)return t4(t,n._key);throw new qe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${t1(n)}.`)}function F4(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(t,e){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new qe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AL{convertValue(e,n="none"){switch(iu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fd(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[yy].arrayValue)==null?void 0:s.values)==null?void 0:i.map((o=>rr(o.doubleValue)));return new Aa(n)}convertGeoPoint(e){return new Ra(rr(e.latitude),rr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Em(e));default:return null}}convertTimestamp(e){const n=ru(e);return new wn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vn.fromString(e);qt(T6(r),9688,{name:e});const s=new Cm(r.get(1),r.get(3)),i=new at(r.popFirst(5));return s.isEqual(n)||Il(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class h0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lf extends sT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Y0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lf._jsonSchemaVersion="firestore/documentSnapshot/1.0",lf._jsonSchema={type:yr("string",lf._jsonSchemaVersion),bundleSource:yr("string","DocumentSnapshot"),bundleName:yr("string"),bundle:yr("string")};class Y0 extends lf{data(e={}){return super.data(e)}}class cf{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new h0(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Y0(this._firestore,this._userDataWriter,r.key,r,new h0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const d=new Y0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new h0(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const d=new Y0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new h0(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return l.type!==0&&(p=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),m=o.indexOf(l.doc.key)),{type:jL(l.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:t})}}cf._jsonSchemaVersion="firestore/querySnapshot/1.0",cf._jsonSchema={type:yr("string",cf._jsonSchemaVersion),bundleSource:yr("string","QuerySnapshot"),bundleName:yr("string"),bundle:yr("string")};class DL extends AL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,n)}}function ML(t){t=py(t,$d);const e=py(t.firestore,Kw),n=X6(e),r=new DL(e);return kL(t._query),pL(n,t._query).then((s=>new cf(e,r,t,s)))}function aT(t,e){const n=py(t.firestore,Kw),r=gL(t),s=IL(t.converter,e);return OL(n,[bL(Z6(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kl.exists(!1))]).then((()=>r))}function OL(t,e){return(function(r,s){const i=new Jc;return r.asyncQueue.enqueueAndForget((async()=>eL(await hL(r),s,i))),i.promise})(X6(t),e)}(function(e,n=!0){(function(s){Pf=s})(CC),_m(new mf("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Kw(new vD(r.getProvider("auth-internal")),new _D(o,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new qe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cm(p.options.projectId,m)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Xc(US,$S,e),Xc(US,$S,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firebasestorage.googleapis.com",cT="storageBucket",LL=120*1e3,VL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Vd{constructor(e,n,r=0){super(Gv(e),`Firebase Storage: ${n} (${Gv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kn||(Kn={}));function Gv(t){return"storage/"+t}function r_(){const t="An unknown error occurred, please check the error payload for server response.";return new Yn(Kn.UNKNOWN,t)}function FL(t){return new Yn(Kn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zL(t){return new Yn(Kn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yn(Kn.UNAUTHENTICATED,t)}function UL(){return new Yn(Kn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $L(t){return new Yn(Kn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function HL(){return new Yn(Kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WL(){return new Yn(Kn.CANCELED,"User canceled the upload/download.")}function GL(t){return new Yn(Kn.INVALID_URL,"Invalid URL '"+t+"'.")}function qL(t){return new Yn(Kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KL(){return new Yn(Kn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cT+"' property when initializing the app?")}function YL(){return new Yn(Kn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XL(){return new Yn(Kn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QL(t){return new Yn(Kn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function l2(t){return new Yn(Kn.INVALID_ARGUMENT,t)}function uT(){return new Yn(Kn.APP_DELETED,"The Firebase app was deleted.")}function JL(t){return new Yn(Kn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lm(t,e){return new Yn(Kn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mp(t){throw new Yn(Kn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vi.makeFromUrl(e,n)}catch{return new vi(e,"")}if(r.path==="")return r;throw qL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),d={bucket:1,path:3};function p(V){V.path_=decodeURIComponent(V.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${m}/b/${s}/o${v}`,"i"),C={bucket:1,path:3},k=n===lT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",M=new RegExp(`^https?://${k}/${s}/${P}`,"i"),D=[{regex:l,indices:d,postModify:i},{regex:S,indices:C,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let V=0;V<D.length;V++){const G=D[V],J=G.regex.exec(e);if(J){const B=J[G.indices.bucket];let R=J[G.indices.path];R||(R=""),r=new vi(B,R),G.postModify(r);break}}if(r==null)throw GL(e);return r}}class ZL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function d(){return l===2}let p=!1;function m(...P){p||(p=!0,e.apply(null,P))}function y(P){s=setTimeout(()=>{s=null,t(S,d())},P)}function v(){i&&clearTimeout(i)}function S(P,...M){if(p){v();return}if(P){v(),m.call(null,P,...M);return}if(d()||o){v(),m.call(null,P,...M);return}r<64&&(r*=2);let D;l===1?(l=2,D=0):D=(r+Math.random())*1e3,y(D)}let C=!1;function k(P){C||(C=!0,v(),!p&&(s!==null?(P||(l=2),clearTimeout(s),y(0)):P||(l=1)))}return y(0),i=setTimeout(()=>{o=!0,k(!0)},n),k}function tV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){return t!==void 0}function rV(t){return typeof t=="object"&&!Array.isArray(t)}function s_(t){return typeof t=="string"||t instanceof String}function z4(t){return i_()&&t instanceof Blob}function i_(){return typeof Blob<"u"}function B4(t,e,n,r){if(r<e)throw l2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw l2(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Cd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cd||(Cd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,s,i,o,l,d,p,m,y,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new f0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const d=l.loaded,p=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Cd.NO_ERROR,d=i.getStatus();if(!l||sV(d,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===Cd.ABORT;r(!1,new f0(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new f0(p,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(l,l.getResponse());nV(d)?i(d):i()}catch(d){o(d)}else if(l!==null){const d=r_();d.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,d)):o(d)}else if(s.canceled){const d=this.appDelete_?uT():WL();o(d)}else{const d=HL();o(d)}};this.canceled_?n(!1,new f0(!1,null,!0)):this.backoffId_=eV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uV(t,e,n,r,s,i,o=!0,l=!1){const d=dT(t.urlParams),p=t.url+d,m=Object.assign({},t.headers);return lV(m,e),oV(m,n),aV(m,i),cV(m,r),new iV(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hV(...t){const e=dV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(i_())return new Blob(t);throw new Yn(Kn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(typeof atob>"u")throw QL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qv{constructor(e,n){this.data=e,this.contentType=n||null}}function mV(t,e){switch(t){case Ca.RAW:return new qv(hT(e));case Ca.BASE64:case Ca.BASE64URL:return new qv(fT(t,e));case Ca.DATA_URL:return new qv(yV(e),vV(e))}throw r_()}function hT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gV(t){let e;try{e=decodeURIComponent(t)}catch{throw lm(Ca.DATA_URL,"Malformed data URL.")}return hT(e)}function fT(t,e){switch(t){case Ca.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw lm(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ca.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw lm(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pV(e)}catch(s){throw s.message.includes("polyfill")?s:lm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class pT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lm(Ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=xV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function yV(t){const e=new pT(t);return e.base64?fT(Ca.BASE64,e.rest):gV(e.rest)}function vV(t){return new pT(t).contentType}function xV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){let r=0,s="";z4(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(z4(this.data_)){const r=this.data_,s=fV(r,e,n);return s===null?null:new Hc(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hc(r,!0)}}static getBlob(...e){if(i_()){const n=e.map(r=>r instanceof Hc?r.data_:r);return new Hc(hV.apply(null,n))}else{const n=e.map(o=>s_(o)?mV(Ca.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Hc(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){let e;try{e=JSON.parse(t)}catch{return null}return rV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _V(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){return e}class Ms{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||bV}}let p0=null;function SV(t){return!s_(t)||t.length<2?t:gT(t)}function yT(){if(p0)return p0;const t=[];t.push(new Ms("bucket")),t.push(new Ms("generation")),t.push(new Ms("metageneration")),t.push(new Ms("name","fullPath",!0));function e(i,o){return SV(o)}const n=new Ms("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ms("size");return s.xform=r,t.push(s),t.push(new Ms("timeCreated")),t.push(new Ms("updated")),t.push(new Ms("md5Hash",null,!0)),t.push(new Ms("cacheControl",null,!0)),t.push(new Ms("contentDisposition",null,!0)),t.push(new Ms("contentEncoding",null,!0)),t.push(new Ms("contentLanguage",null,!0)),t.push(new Ms("contentType",null,!0)),t.push(new Ms("metadata","customMetadata",!0)),p0=t,p0}function EV(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new vi(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function CV(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return EV(r,t),r}function vT(t,e,n){const r=mT(e);return r===null?null:CV(t,r,n)}function TV(t,e,n,r){const s=mT(e);if(s===null||!s_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(p=>{const m=t.bucket,y=t.fullPath,v="/b/"+o(m)+"/o/"+o(y),S=o_(v,n,r),C=dT({alt:"media",token:p});return S+C})[0]}function NV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class xT{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){if(!t)throw r_()}function kV(t,e){function n(r,s){const i=vT(t,s,e);return wT(i!==null),i}return n}function PV(t,e){function n(r,s){const i=vT(t,s,e);return wT(i!==null),TV(i,s,t.host,t._protocol)}return n}function _T(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=UL():s=BL():n.getStatus()===402?s=zL(t.bucket):n.getStatus()===403?s=$L(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function RV(t){const e=_T(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=FL(t.path)),i.serverResponse=s.serverResponse,i}return n}function AV(t,e,n){const r=e.fullServerUrl(),s=o_(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new xT(s,i,PV(t,n),o);return l.errorHandler=RV(e),l}function IV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IV(null,e)),r}function DV(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let D="";for(let V=0;V<2;V++)D=D+Math.random().toString().slice(2);return D}const d=l();o["Content-Type"]="multipart/related; boundary="+d;const p=jV(e,r,s),m=NV(p,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,v=`\r
--`+d+"--",S=Hc.getBlob(y,r,v);if(S===null)throw YL();const C={name:p.fullPath},k=o_(i,t.host,t._protocol),P="POST",M=t.maxUploadRetryTime,j=new xT(k,P,kV(t,n),M);return j.urlParams=C,j.headers=o,j.body=S.uploadData(),j.errorHandler=_T(e),j}class MV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Mp("cannot .send() more than once");if(Qm(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OV extends MV{initXhr(){this.xhr_.responseType="text"}}function bT(){return new OV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this._service=e,n instanceof vi?this._location=n:this._location=vi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ad(e,n)}get root(){const e=new vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gT(this._location.path)}get storage(){return this._service}get parent(){const e=wV(this._location.path);if(e===null)return null;const n=new vi(this._location.bucket,e);return new Ad(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JL(e)}}function LV(t,e,n){t._throwIfRoot("uploadBytes");const r=DV(t.storage,t._location,yT(),new Hc(e,!0),n);return t.storage.makeRequestWithTokens(r,bT).then(s=>({metadata:s,ref:t}))}function VV(t){t._throwIfRoot("getDownloadURL");const e=AV(t.storage,t._location,yT());return t.storage.makeRequestWithTokens(e,bT).then(n=>{if(n===null)throw XL();return n})}function FV(t,e){const n=_V(t._location.path,e),r=new vi(t._location.bucket,n);return new Ad(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){return/^[A-Za-z]+:\/\//.test(t)}function BV(t,e){return new Ad(t,e)}function ST(t,e){if(t instanceof a_){const n=t;if(n._bucket==null)throw KL();const r=new Ad(n,n._bucket);return e!=null?ST(r,e):r}else return e!==void 0?FV(t,e):t}function UV(t,e){if(e&&zV(e)){if(t instanceof a_)return BV(t,e);throw l2("To use ref(service, url), the first argument must be a Storage instance.")}else return ST(t,e)}function U4(t,e){const n=e==null?void 0:e[cT];return n==null?null:vi.makeFromBucketSpec(n,t)}function $V(t,e,n,r={}){t.host=`${e}:${n}`;const s=Qm(e);s&&(gC(`https://${t.host}/b`),vC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yC(i,t.app.options.projectId))}class a_{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=lT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LL,this._maxUploadRetryTime=VL,this._requests=new Set,s!=null?this._bucket=vi.makeFromBucketSpec(s,this._host):this._bucket=U4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,e):this._bucket=U4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(EC(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ad(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZL(uT());{const o=uV(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const $4="@firebase/storage",H4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="storage";function HV(t,e,n){return t=Ma(t),LV(t,e,n)}function WV(t){return t=Ma(t),VV(t)}function GV(t,e){return t=Ma(t),UV(t,e)}function qV(t=NC(),e){t=Ma(t);const r=SC(t,ET).getImmediate({identifier:e}),s=pC("storage");return s&&KV(r,...s),r}function KV(t,e,n,r={}){$V(t,e,n,r)}function YV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a_(n,r,s,e,CC)}function XV(){_m(new mf(ET,YV,"PUBLIC").setMultipleInstances(!0)),Xc($4,H4,""),Xc($4,H4,"esm2020")}XV();const QV={apiKey:"AIzaSyAT9QkoZv2hofTL0W7PAseK6iN5JOW8l-4",authDomain:"blocklick-a.firebaseapp.com",projectId:"blocklick-a",storageBucket:"blocklick-a.firebasestorage.app",messagingSenderId:"488846113620",appId:"1:488846113620:web:4953b6e278275b3e7fe6c1",measurementId:"G-T0322TNM7G"},CT=TC(QV),c2=yL(CT),JV=qV(CT),Zh={create:async t=>{try{const e={...t,created_date:new Date().toISOString(),status:"new",items:t.items||[]};return{id:(await aT(a2(c2,"orders"),e)).id,...e}}catch(e){throw console.error("Error creating order: ",e),e}},list:async()=>{try{const t=PL(a2(c2,"orders"),RL("created_date","desc"));return(await ML(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error(t),[]}}},xd={filter:async()=>[],create:async t=>await aT(a2(c2,"coupons"),t),list:async()=>[]},Rm={login:async()=>({id:"admin",email:"admin@test.com"}),current:async()=>null},cm={auth:{current:async()=>await Rm.current(),login:async(t,e)=>await Rm.login(t,e),logout:async()=>(console.log("Logged out"),!0)},entities:{Order:{},Coupon:{}},integrations:{Core:{UploadFile:async()=>console.log("Old upload called"),InvokeLLM:async()=>console.log("LLM not supported")}}};function Mn(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function W4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=W4(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():W4(t[s],null)}}}}function bt(...t){return b.useCallback(Hl(...t),t)}var ZV=Symbol.for("react.lazy"),Ty=mw[" use ".trim().toString()];function eF(t){return typeof t=="object"&&t!==null&&"then"in t}function TT(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ZV&&"_payload"in t&&eF(t._payload)}function NT(t){const e=nF(t),n=b.forwardRef((r,s)=>{let{children:i,...o}=r;TT(i)&&typeof Ty=="function"&&(i=Ty(i._payload));const l=b.Children.toArray(i),d=l.find(sF);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var tF=NT("Slot");function nF(t){const e=b.forwardRef((n,r)=>{let{children:s,...i}=n;if(TT(s)&&typeof Ty=="function"&&(s=Ty(s._payload)),b.isValidElement(s)){const o=oF(s),l=iF(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rF=Symbol("radix.slottable");function sF(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rF}function iF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function p1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kT(t))&&(r&&(r+=" "),r+=e);return r}const G4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q4=p1,rg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return q4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(p=>{const m=n==null?void 0:n[p],y=i==null?void 0:i[p];if(m===null)return null;const v=G4(m)||G4(y);return s[p][v]}),l=n&&Object.entries(n).reduce((p,m)=>{let[y,v]=m;return v===void 0||(p[y]=v),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:y,className:v,...S}=m;return Object.entries(S).every(C=>{let[k,P]=C;return Array.isArray(P)?P.includes({...i,...l}[k]):{...i,...l}[k]===P})?[...p,y,v]:p},[]);return q4(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)},aF=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},lF=(t,e)=>({classGroupId:t,validator:e}),PT=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ny="-",K4=[],cF="arbitrary..",uF=t=>{const e=hF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return dF(o);const l=o.split(Ny),d=l[0]===""&&l.length>1?1:0;return RT(l,d,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const d=r[o],p=n[o];return d?p?aF(p,d):d:p||K4}return n[o]||K4}}},RT=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const p=RT(t,e+1,i);if(p)return p}const o=n.validators;if(o===null)return;const l=e===0?t.join(Ny):t.slice(e).join(Ny),d=o.length;for(let p=0;p<d;p++){const m=o[p];if(m.validator(l))return m.classGroupId}},dF=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?cF+r:void 0})(),hF=t=>{const{theme:e,classGroups:n}=t;return fF(n,e)},fF=(t,e)=>{const n=PT();for(const r in t){const s=t[r];l_(s,n,r,e)}return n},l_=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];pF(o,e,n,r)}},pF=(t,e,n,r)=>{if(typeof t=="string"){mF(t,e,n);return}if(typeof t=="function"){gF(t,e,n,r);return}yF(t,e,n,r)},mF=(t,e,n)=>{const r=t===""?e:AT(e,t);r.classGroupId=n},gF=(t,e,n,r)=>{if(vF(t)){l_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(lF(n,t))},yF=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[l,d]=s[o];l_(d,AT(e,l),n,r)}},AT=(t,e)=>{let n=t;const r=e.split(Ny),s=r.length;for(let i=0;i<s;i++){const o=r[i];let l=n.nextPart.get(o);l||(l=PT(),n.nextPart.set(o,l)),n=l}return n},vF=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,xF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},u2="!",Y4=":",wF=[],X4=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),_F=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,l=0,d=0,p;const m=s.length;for(let k=0;k<m;k++){const P=s[k];if(o===0&&l===0){if(P===Y4){i.push(s.slice(d,k)),d=k+1;continue}if(P==="/"){p=k;continue}}P==="["?o++:P==="]"?o--:P==="("?l++:P===")"&&l--}const y=i.length===0?s:s.slice(d);let v=y,S=!1;y.endsWith(u2)?(v=y.slice(0,-1),S=!0):y.startsWith(u2)&&(v=y.slice(1),S=!0);const C=p&&p>d?p-d:void 0;return X4(i,S,v,C)};if(e){const s=e+Y4,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):X4(wF,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},bF=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",d=e.has(o);l||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},SF=t=>({cache:xF(t.cacheSize),parseClassName:_F(t),sortModifiers:bF(t),...uF(t)}),EF=/\s+/,CF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],l=t.trim().split(EF);let d="";for(let p=l.length-1;p>=0;p-=1){const m=l[p],{isExternal:y,modifiers:v,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:k}=n(m);if(y){d=m+(d.length>0?" "+d:d);continue}let P=!!k,M=r(P?C.substring(0,k):C);if(!M){if(!P){d=m+(d.length>0?" "+d:d);continue}if(M=r(C),!M){d=m+(d.length>0?" "+d:d);continue}P=!1}const j=v.length===0?"":v.length===1?v[0]:i(v).join(":"),D=S?j+u2:j,V=D+M;if(o.indexOf(V)>-1)continue;o.push(V);const G=s(M,P);for(let J=0;J<G.length;++J){const B=G[J];o.push(D+B)}d=m+(d.length>0?" "+d:d)}return d},TF=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=IT(n))&&(s&&(s+=" "),s+=r);return s},IT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IT(t[r]))&&(n&&(n+=" "),n+=e);return n},NF=(t,...e)=>{let n,r,s,i;const o=d=>{const p=e.reduce((m,y)=>y(m),t());return n=SF(p),r=n.cache.get,s=n.cache.set,i=l,l(d)},l=d=>{const p=r(d);if(p)return p;const m=CF(d,n);return s(d,m),m};return i=o,(...d)=>i(TF(...d))},kF=[],Er=t=>{const e=n=>n[t]||kF;return e.isThemeGetter=!0,e},jT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PF=/^\d+\/\d+$/,RF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uh=t=>PF.test(t),Pt=t=>!!t&&!Number.isNaN(Number(t)),Lc=t=>!!t&&Number.isInteger(Number(t)),Kv=t=>t.endsWith("%")&&Pt(t.slice(0,-1)),Sl=t=>RF.test(t),MF=()=>!0,OF=t=>AF.test(t)&&!IF.test(t),MT=()=>!1,LF=t=>jF.test(t),VF=t=>DF.test(t),FF=t=>!tt(t)&&!nt(t),zF=t=>Df(t,VT,MT),tt=t=>jT.test(t),fd=t=>Df(t,FT,OF),Yv=t=>Df(t,WF,Pt),Q4=t=>Df(t,OT,MT),BF=t=>Df(t,LT,VF),m0=t=>Df(t,zT,LF),nt=t=>DT.test(t),Op=t=>Mf(t,FT),UF=t=>Mf(t,GF),J4=t=>Mf(t,OT),$F=t=>Mf(t,VT),HF=t=>Mf(t,LT),g0=t=>Mf(t,zT,!0),Df=(t,e,n)=>{const r=jT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Mf=(t,e,n=!1)=>{const r=DT.exec(t);return r?r[1]?e(r[1]):n:!1},OT=t=>t==="position"||t==="percentage",LT=t=>t==="image"||t==="url",VT=t=>t==="length"||t==="size"||t==="bg-size",FT=t=>t==="length",WF=t=>t==="number",GF=t=>t==="family-name",zT=t=>t==="shadow",qF=()=>{const t=Er("color"),e=Er("font"),n=Er("text"),r=Er("font-weight"),s=Er("tracking"),i=Er("leading"),o=Er("breakpoint"),l=Er("container"),d=Er("spacing"),p=Er("radius"),m=Er("shadow"),y=Er("inset-shadow"),v=Er("text-shadow"),S=Er("drop-shadow"),C=Er("blur"),k=Er("perspective"),P=Er("aspect"),M=Er("ease"),j=Er("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],G=()=>[...V(),nt,tt],J=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],R=()=>[nt,tt,d],F=()=>[Uh,"full","auto",...R()],z=()=>[Lc,"none","subgrid",nt,tt],H=()=>["auto",{span:["full",Lc,nt,tt]},Lc,nt,tt],$=()=>[Lc,"auto",nt,tt],U=()=>["auto","min","max","fr",nt,tt],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...R()],ne=()=>[Uh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],K=()=>[t,nt,tt],te=()=>[...V(),J4,Q4,{position:[nt,tt]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",$F,zF,{size:[nt,tt]}],re=()=>[Kv,Op,fd],_e=()=>["","none","full",p,nt,tt],ke=()=>["",Pt,Op,fd],Je=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Pt,Kv,J4,Q4],Ce=()=>["","none",C,nt,tt],je=()=>["none",Pt,nt,tt],Xe=()=>["none",Pt,nt,tt],Ae=()=>[Pt,nt,tt],ze=()=>[Uh,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sl],breakpoint:[Sl],color:[MF],container:[Sl],"drop-shadow":[Sl],ease:["in","out","in-out"],font:[FF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sl],shadow:[Sl],spacing:["px",Pt],text:[Sl],"text-shadow":[Sl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uh,tt,nt,P]}],container:["container"],columns:[{columns:[Pt,tt,nt,l]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:G()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Lc,"auto",nt,tt]}],basis:[{basis:[Uh,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Uh,"auto","initial","none",tt]}],grow:[{grow:["",Pt,nt,tt]}],shrink:[{shrink:["",Pt,nt,tt]}],order:[{order:[Lc,"first","last","none",nt,tt]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[l,"screen",...ne()]}],"min-w":[{"min-w":[l,"screen","none",...ne()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,Op,fd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,nt,Yv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kv,tt]}],"font-family":[{font:[UF,tt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,nt,tt]}],"line-clamp":[{"line-clamp":[Pt,"none",nt,Yv]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",nt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",nt,fd]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Pt,"auto",nt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lc,nt,tt],radial:["",nt,tt],conic:[Lc,nt,tt]},HF,BF]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:ke()}],"border-w-x":[{"border-x":ke()}],"border-w-y":[{"border-y":ke()}],"border-w-s":[{"border-s":ke()}],"border-w-e":[{"border-e":ke()}],"border-w-t":[{"border-t":ke()}],"border-w-r":[{"border-r":ke()}],"border-w-b":[{"border-b":ke()}],"border-w-l":[{"border-l":ke()}],"divide-x":[{"divide-x":ke()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ke()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Je(),"hidden","none"]}],"divide-style":[{divide:[...Je(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,nt,tt]}],"outline-w":[{outline:["",Pt,Op,fd]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,g0,m0]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",y,g0,m0]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ke()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Pt,fd]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ke()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",v,g0,m0]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Pt,nt,tt]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[nt,tt]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,tt]}],filter:[{filter:["","none",nt,tt]}],blur:[{blur:Ce()}],brightness:[{brightness:[Pt,nt,tt]}],contrast:[{contrast:[Pt,nt,tt]}],"drop-shadow":[{"drop-shadow":["","none",S,g0,m0]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Pt,nt,tt]}],"hue-rotate":[{"hue-rotate":[Pt,nt,tt]}],invert:[{invert:["",Pt,nt,tt]}],saturate:[{saturate:[Pt,nt,tt]}],sepia:[{sepia:["",Pt,nt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,tt]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,nt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,nt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,nt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,nt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Pt,nt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,nt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,nt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,nt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",nt,tt]}],ease:[{ease:["linear","initial",M,nt,tt]}],delay:[{delay:[Pt,nt,tt]}],animate:[{animate:["none",j,nt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,nt,tt]}],"perspective-origin":[{"perspective-origin":G()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[nt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:G()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,tt]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Pt,Op,fd,Yv]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c_=NF(qF);function lt(...t){return c_(p1(t))}const KF=rg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ke=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?tF:"button";return h.jsx(o,{className:lt(KF({variant:e,size:n,className:t})),ref:i,...s})});Ke.displayName="Button";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},d)=>b.createElement("svg",{ref:d,...XF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BT("lucide",s),...l},[...o.map(([p,m])=>b.createElement(p,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(QF,{ref:i,iconNode:e,className:BT(`lucide-${YF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],Z4=Be("Accessibility",JF);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ez=Be("ArrowDown",ZF);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m1=Be("ArrowLeft",tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ky=Be("ArrowRight",nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sz=Be("ArrowUp",rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oz=Be("BookOpen",iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["rect",{x:"8",y:"8",width:"8",height:"8",rx:"2",key:"yj20xf"}],["path",{d:"M4 10a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2",key:"1ltk23"}],["path",{d:"M14 20a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2",key:"1q24h9"}]],lz=Be("BringToFront",az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],UT=Be("Calendar",cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],g1=Be("Camera",uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hz=Be("ChartColumn",dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Of=Be("Check",fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u_=Be("ChevronDown",pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gz=Be("ChevronRight",mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vz=Be("ChevronUp",yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Am=Be("CircleAlert",xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ls=Be("CircleCheckBig",wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bz=Be("CircleX",_z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$T=Be("Circle",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],d2=Be("Clock",Ez);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Tz=Be("CloudUpload",Cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]],kz=Be("Contrast",Nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],HT=Be("CreditCard",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],h2=Be("DollarSign",Rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Py=Be("Download",Az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WT=Be("Eye",Iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Dz=Be("Filter",jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],e5=Be("Gift",Mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Lz=Be("GripVertical",Oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Fz=Be("Heart",Vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],d_=Be("House",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sg=Be("Image",Bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$z=Be("Layers",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Wz=Be("Link",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vs=Be("LoaderCircle",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Kz=Be("LogOut",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]],h_=Be("Magnet",Yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Qz=Be("Mail",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Zz=Be("MessageCircle",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M5 12h14",key:"1ays0h"}]],tB=Be("Minus",eB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],rB=Be("Monitor",nB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ko=Be("Package",sB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],oB=Be("PanelsTopLeft",iB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],lB=Be("Pause",aB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],uB=Be("PenLine",cB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hB=Be("Pen",dB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],t5=Be("Percent",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],mB=Be("Phone",pB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],GT=Be("Plus",gB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],eu=Be("RectangleHorizontal",yB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xB=Be("RotateCcw",vB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],f_=Be("Ruler",wB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bB=Be("Save",_B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],EB=Be("Search",SB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}],["path",{d:"M7 14v1a2 2 0 0 0 2 2h1",key:"pao6x6"}],["path",{d:"M14 7h1a2 2 0 0 1 2 2v1",key:"19tdru"}]],TB=Be("SendToBack",CB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n5=Be("ShieldCheck",NB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],y1=Be("ShoppingBag",kB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ig=Be("ShoppingCart",PB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],AB=Be("Smartphone",RB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jB=Be("Sparkles",IB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qT=Be("Square",DB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],KT=Be("Star",MB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],LB=Be("Sticker",OB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],X0=Be("Tag",VB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],y0=Be("Ticket",FB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Td=Be("Trash2",zB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ry=Be("TrendingUp",BB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$B=Be("TriangleAlert",UB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],WB=Be("Trophy",HB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],YT=Be("Type",GB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],KB=Be("Upload",qB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f2=Be("User",YB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],QB=Be("Users",XB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Id=Be("X",JB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eU=Be("Zap",ZB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],nU=Be("ZoomIn",tU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sU=Be("ZoomOut",rU);function We(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function iU(t,e){const n=b.createContext(e),r=i=>{const{children:o,...l}=i,d=b.useMemo(()=>l,Object.values(l));return h.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function jo(t,e=[]){let n=[];function r(i,o){const l=b.createContext(o),d=n.length;n=[...n,o];const p=y=>{var M;const{scope:v,children:S,...C}=y,k=((M=v==null?void 0:v[t])==null?void 0:M[d])||l,P=b.useMemo(()=>C,Object.values(C));return h.jsx(k.Provider,{value:P,children:S})};p.displayName=i+"Provider";function m(y,v){var k;const S=((k=v==null?void 0:v[t])==null?void 0:k[d])||l,C=b.useContext(S);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${y}\` must be used within \`${i}\``)}return[p,m]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(l){const d=(l==null?void 0:l[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return s.scopeName=t,[r,oU(s,...e)]}function oU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:d,scopeName:p})=>{const y=d(i)[`__scope${p}`];return{...l,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var is=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},aU=mw[" useId ".trim().toString()]||(()=>{}),lU=0;function Pl(t){const[e,n]=b.useState(aU());return is(()=>{n(r=>r??String(lU++))},[t]),e?`radix-${e}`:""}var cU=mw[" useInsertionEffect ".trim().toString()]||is;function lu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=uU({defaultProp:e,onChange:n}),l=t!==void 0,d=l?t:s;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==l&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const p=b.useCallback(m=>{var y;if(l){const v=dU(m)?m(t):m;v!==t&&((y=o.current)==null||y.call(o,v))}else i(m)},[l,t,i,o]);return[d,p]}function uU({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return cU(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function dU(t){return typeof t=="function"}function hU(t){const e=fU(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),d=l.find(mU);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function fU(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=yU(s),l=gU(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pU=Symbol("radix.slottable");function mU(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pU}function gU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=vU.reduce((t,e)=>{const n=hU(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function XT(t,e){t&&Xm.flushSync(()=>t.dispatchEvent(e))}function rs(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xU(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wU="DismissableLayer",p2="dismissableLayer.update",_U="dismissableLayer.pointerDownOutside",bU="dismissableLayer.focusOutside",r5,QT=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v1=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=t,p=b.useContext(QT),[m,y]=b.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=b.useState({}),C=bt(e,B=>y(B)),k=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=k.indexOf(P),j=m?k.indexOf(m):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,V=j>=M,G=CU(B=>{const R=B.target,F=[...p.branches].some(z=>z.contains(R));!V||F||(s==null||s(B),o==null||o(B),B.defaultPrevented||l==null||l())},v),J=TU(B=>{const R=B.target;[...p.branches].some(z=>z.contains(R))||(i==null||i(B),o==null||o(B),B.defaultPrevented||l==null||l())},v);return xU(B=>{j===p.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},v),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(r5=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),s5(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=r5)}},[m,v,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),s5())},[m,p]),b.useEffect(()=>{const B=()=>S({});return document.addEventListener(p2,B),()=>document.removeEventListener(p2,B)},[]),h.jsx(ft.div,{...d,ref:C,style:{pointerEvents:D?V?"auto":"none":void 0,...t.style},onFocusCapture:We(t.onFocusCapture,J.onFocusCapture),onBlurCapture:We(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:We(t.onPointerDownCapture,G.onPointerDownCapture)})});v1.displayName=wU;var SU="DismissableLayerBranch",EU=b.forwardRef((t,e)=>{const n=b.useContext(QT),r=b.useRef(null),s=bt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(ft.div,{...t,ref:s})});EU.displayName=SU;function CU(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){JT(_U,n,p,{discrete:!0})};const p={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function TU(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&JT(bU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s5(){const t=new CustomEvent(p2);document.dispatchEvent(t)}function JT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XT(s,i):s.dispatchEvent(i)}var Xv="focusScope.autoFocusOnMount",Qv="focusScope.autoFocusOnUnmount",i5={bubbles:!1,cancelable:!0},NU="FocusScope",x1=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,d]=b.useState(null),p=rs(s),m=rs(i),y=b.useRef(null),v=bt(e,k=>d(k)),S=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let k=function(D){if(S.paused||!l)return;const V=D.target;l.contains(V)?y.current=V:zc(y.current,{select:!0})},P=function(D){if(S.paused||!l)return;const V=D.relatedTarget;V!==null&&(l.contains(V)||zc(y.current,{select:!0}))},M=function(D){if(document.activeElement===document.body)for(const G of D)G.removedNodes.length>0&&zc(l)};document.addEventListener("focusin",k),document.addEventListener("focusout",P);const j=new MutationObserver(M);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",P),j.disconnect()}}},[r,l,S.paused]),b.useEffect(()=>{if(l){a5.add(S);const k=document.activeElement;if(!l.contains(k)){const M=new CustomEvent(Xv,i5);l.addEventListener(Xv,p),l.dispatchEvent(M),M.defaultPrevented||(kU(jU(ZT(l)),{select:!0}),document.activeElement===k&&zc(l))}return()=>{l.removeEventListener(Xv,p),setTimeout(()=>{const M=new CustomEvent(Qv,i5);l.addEventListener(Qv,m),l.dispatchEvent(M),M.defaultPrevented||zc(k??document.body,{select:!0}),l.removeEventListener(Qv,m),a5.remove(S)},0)}}},[l,p,m,S]);const C=b.useCallback(k=>{if(!n&&!r||S.paused)return;const P=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,M=document.activeElement;if(P&&M){const j=k.currentTarget,[D,V]=PU(j);D&&V?!k.shiftKey&&M===V?(k.preventDefault(),n&&zc(D,{select:!0})):k.shiftKey&&M===D&&(k.preventDefault(),n&&zc(V,{select:!0})):M===j&&k.preventDefault()}},[n,r,S.paused]);return h.jsx(ft.div,{tabIndex:-1,...o,ref:v,onKeyDown:C})});x1.displayName=NU;function kU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zc(r,{select:e}),document.activeElement!==n)return}function PU(t){const e=ZT(t),n=o5(e,t),r=o5(e.reverse(),t);return[n,r]}function ZT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o5(t,e){for(const n of t)if(!RU(n,{upTo:e}))return n}function RU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AU(t){return t instanceof HTMLInputElement&&"select"in t}function zc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&AU(t)&&e&&t.select()}}var a5=IU();function IU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=l5(t,e),t.unshift(e)},remove(e){var n;t=l5(t,e),(n=t[0])==null||n.resume()}}}function l5(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jU(t){return t.filter(e=>e.tagName!=="A")}var DU="Portal",w1=b.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=b.useState(!1);is(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?V7.createPortal(h.jsx(ft.div,{...r,ref:e}),o):null});w1.displayName=DU;function MU(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var _i=t=>{const{present:e,children:n}=t,r=OU(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=bt(r.ref,LU(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};_i.displayName="Presence";function OU(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[l,d]=MU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=v0(r.current);i.current=l==="mounted"?p:"none"},[l]),is(()=>{const p=r.current,m=s.current;if(m!==t){const v=i.current,S=v0(p);t?d("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(m&&v!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),is(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=S=>{const k=v0(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&k&&(d("ANIMATION_END"),!s.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},v=S=>{S.target===e&&(i.current=v0(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function v0(t){return(t==null?void 0:t.animationName)||"none"}function LU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jv=0;function p_(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c5()),document.body.insertAdjacentElement("beforeend",t[1]??c5()),Jv++,()=>{Jv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jv--}},[])}function c5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ba=function(){return ba=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ba.apply(this,arguments)};function eN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Q0="right-scroll-bar-position",J0="width-before-scroll-bar",FU="with-scroll-bars-hidden",zU="--removed-body-scroll-bar-size";function Zv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function BU(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var UU=typeof window<"u"?b.useLayoutEffect:b.useEffect,u5=new WeakMap;function $U(t,e){var n=BU(null,function(r){return t.forEach(function(s){return Zv(s,r)})});return UU(function(){var r=u5.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Zv(l,null)}),i.forEach(function(l){s.has(l)||Zv(l,o)})}u5.set(n,t)},[t]),n}function HU(t){return t}function WU(t,e){e===void 0&&(e=HU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var d=function(){var m=o;o=[],m.forEach(i)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(m){o.push(m),p()},filter:function(m){return o=o.filter(m),n}}}};return s}function GU(t){t===void 0&&(t={});var e=WU(null);return e.options=ba({async:!0,ssr:!1},t),e}var tN=function(t){var e=t.sideCar,n=eN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,ba({},n))};tN.isSideCarExport=!0;function qU(t,e){return t.useMedium(e),tN}var nN=GU(),ex=function(){},_1=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:ex,onWheelCapture:ex,onTouchMoveCapture:ex}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,d=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,v=t.sideCar,S=t.noRelative,C=t.noIsolation,k=t.inert,P=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,D=t.gapMode,V=eN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=v,J=$U([n,e]),B=ba(ba({},V),s);return b.createElement(b.Fragment,null,m&&b.createElement(G,{sideCar:nN,removeScrollBar:p,shards:y,noRelative:S,noIsolation:C,inert:k,setCallbacks:i,allowPinchZoom:!!P,lockRef:n,gapMode:D}),o?b.cloneElement(b.Children.only(l),ba(ba({},B),{ref:J})):b.createElement(j,ba({},B,{className:d,ref:J}),l))});_1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_1.classNames={fullWidth:J0,zeroRight:Q0};var KU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KU();return e&&t.setAttribute("nonce",e),t}function XU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function QU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=YU())&&(XU(e,n),QU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZU=function(){var t=JU();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rN=function(){var t=ZU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e$={left:0,top:0,right:0,gap:0},tx=function(t){return parseInt(t||"",10)||0},t$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[tx(n),tx(r),tx(s)]},n$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e$;var e=t$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r$=rN(),uf="data-scroll-locked",s$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(uf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Q0,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(J0,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Q0," .").concat(Q0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(J0," .").concat(J0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uf,`] {
    `).concat(zU,": ").concat(l,`px;
  }
`)},d5=function(){var t=parseInt(document.body.getAttribute(uf)||"0",10);return isFinite(t)?t:0},i$=function(){b.useEffect(function(){return document.body.setAttribute(uf,(d5()+1).toString()),function(){var t=d5()-1;t<=0?document.body.removeAttribute(uf):document.body.setAttribute(uf,t.toString())}},[])},o$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i$();var i=b.useMemo(function(){return n$(s)},[s]);return b.createElement(r$,{styles:s$(i,!e,s,n?"":"!important")})},m2=!1;if(typeof window<"u")try{var x0=Object.defineProperty({},"passive",{get:function(){return m2=!0,!0}});window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{m2=!1}var $h=m2?{passive:!1}:!1,a$=function(t){return t.tagName==="TEXTAREA"},sN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a$(t)&&n[e]==="visible")},l$=function(t){return sN(t,"overflowY")},c$=function(t){return sN(t,"overflowX")},h5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=iN(t,r);if(s){var i=oN(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iN=function(t,e){return t==="v"?l$(e):c$(e)},oN=function(t,e){return t==="v"?u$(e):d$(e)},h$=function(t,e){return t==="h"&&e==="rtl"?-1:1},f$=function(t,e,n,r,s){var i=h$(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,d=e.contains(l),p=!1,m=o>0,y=0,v=0;do{if(!l)break;var S=oN(t,l),C=S[0],k=S[1],P=S[2],M=k-P-i*C;(C||M)&&iN(t,l)&&(y+=M,v+=C);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&l!==document.body||d&&(e.contains(l)||e===l));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(p=!0),p},w0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f5=function(t){return[t.deltaX,t.deltaY]},p5=function(t){return t&&"current"in t?t.current:t},p$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g$=0,Hh=[];function y$(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(g$++)[0],i=b.useState(rN)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var k=VU([t.lockRef.current],(t.shards||[]).map(p5),!0).filter(Boolean);return k.forEach(function(P){return P.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(k,P){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!o.current.allowPinchZoom;var M=w0(k),j=n.current,D="deltaX"in k?k.deltaX:j[0]-M[0],V="deltaY"in k?k.deltaY:j[1]-M[1],G,J=k.target,B=Math.abs(D)>Math.abs(V)?"h":"v";if("touches"in k&&B==="h"&&J.type==="range")return!1;var R=window.getSelection(),F=R&&R.anchorNode,z=F?F===J||F.contains(J):!1;if(z)return!1;var H=h5(B,J);if(!H)return!0;if(H?G=B:(G=B==="v"?"h":"v",H=h5(B,J)),!H)return!1;if(!r.current&&"changedTouches"in k&&(D||V)&&(r.current=G),!G)return!0;var $=r.current||G;return f$($,P,k,$==="h"?D:V)},[]),d=b.useCallback(function(k){var P=k;if(!(!Hh.length||Hh[Hh.length-1]!==i)){var M="deltaY"in P?f5(P):w0(P),j=e.current.filter(function(G){return G.name===P.type&&(G.target===P.target||P.target===G.shadowParent)&&p$(G.delta,M)})[0];if(j&&j.should){P.cancelable&&P.preventDefault();return}if(!j){var D=(o.current.shards||[]).map(p5).filter(Boolean).filter(function(G){return G.contains(P.target)}),V=D.length>0?l(P,D[0]):!o.current.noIsolation;V&&P.cancelable&&P.preventDefault()}}},[]),p=b.useCallback(function(k,P,M,j){var D={name:k,delta:P,target:M,should:j,shadowParent:v$(M)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(V){return V!==D})},1)},[]),m=b.useCallback(function(k){n.current=w0(k),r.current=void 0},[]),y=b.useCallback(function(k){p(k.type,f5(k),k.target,l(k,t.lockRef.current))},[]),v=b.useCallback(function(k){p(k.type,w0(k),k.target,l(k,t.lockRef.current))},[]);b.useEffect(function(){return Hh.push(i),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",d,$h),document.addEventListener("touchmove",d,$h),document.addEventListener("touchstart",m,$h),function(){Hh=Hh.filter(function(k){return k!==i}),document.removeEventListener("wheel",d,$h),document.removeEventListener("touchmove",d,$h),document.removeEventListener("touchstart",m,$h)}},[]);var S=t.removeScrollBar,C=t.inert;return b.createElement(b.Fragment,null,C?b.createElement(i,{styles:m$(s)}):null,S?b.createElement(o$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function v$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x$=qU(nN,y$);var b1=b.forwardRef(function(t,e){return b.createElement(_1,ba({},t,{ref:e,sideCar:x$}))});b1.classNames=_1.classNames;var w$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wh=new WeakMap,_0=new WeakMap,b0={},nx=0,aN=function(t){return t&&(t.host||aN(t.parentNode))},_$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},b$=function(t,e,n,r){var s=_$(e,Array.isArray(t)?t:[t]);b0[n]||(b0[n]=new WeakMap);var i=b0[n],o=[],l=new Set,d=new Set(s),p=function(y){!y||l.has(y)||(l.add(y),p(y.parentNode))};s.forEach(p);var m=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(v){if(l.has(v))m(v);else try{var S=v.getAttribute(r),C=S!==null&&S!=="false",k=(Wh.get(v)||0)+1,P=(i.get(v)||0)+1;Wh.set(v,k),i.set(v,P),o.push(v),k===1&&C&&_0.set(v,!0),P===1&&v.setAttribute(n,"true"),C||v.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",v,M)}})};return m(e),l.clear(),nx++,function(){o.forEach(function(y){var v=Wh.get(y)-1,S=i.get(y)-1;Wh.set(y,v),i.set(y,S),v||(_0.has(y)||y.removeAttribute(r),_0.delete(y)),S||y.removeAttribute(n)}),nx--,nx||(Wh=new WeakMap,Wh=new WeakMap,_0=new WeakMap,b0={})}},m_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=w$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),b$(r,s,n,"aria-hidden")):function(){return null}};function S$(t){const e=E$(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),d=l.find(T$);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function E$(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=k$(s),l=N$(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var C$=Symbol("radix.slottable");function T$(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===C$}function N$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function k$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var S1="Dialog",[lN]=jo(S1),[P$,Do]=lN(S1),cN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=b.useRef(null),d=b.useRef(null),[p,m]=lu({prop:r,defaultProp:s??!1,onChange:i,caller:S1});return h.jsx(P$,{scope:e,triggerRef:l,contentRef:d,contentId:Pl(),titleId:Pl(),descriptionId:Pl(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:o,children:n})};cN.displayName=S1;var uN="DialogTrigger",dN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Do(uN,n),i=bt(e,s.triggerRef);return h.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":v_(s.open),...r,ref:i,onClick:We(t.onClick,s.onOpenToggle)})});dN.displayName=uN;var g_="DialogPortal",[R$,hN]=lN(g_,{forceMount:void 0}),fN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Do(g_,e);return h.jsx(R$,{scope:e,forceMount:n,children:b.Children.map(r,o=>h.jsx(_i,{present:n||i.open,children:h.jsx(w1,{asChild:!0,container:s,children:o})}))})};fN.displayName=g_;var Ay="DialogOverlay",pN=b.forwardRef((t,e)=>{const n=hN(Ay,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Do(Ay,t.__scopeDialog);return i.modal?h.jsx(_i,{present:r||i.open,children:h.jsx(I$,{...s,ref:e})}):null});pN.displayName=Ay;var A$=S$("DialogOverlay.RemoveScroll"),I$=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Do(Ay,n);return h.jsx(b1,{as:A$,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(ft.div,{"data-state":v_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),jd="DialogContent",mN=b.forwardRef((t,e)=>{const n=hN(jd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Do(jd,t.__scopeDialog);return h.jsx(_i,{present:r||i.open,children:i.modal?h.jsx(j$,{...s,ref:e}):h.jsx(D$,{...s,ref:e})})});mN.displayName=jd;var j$=b.forwardRef((t,e)=>{const n=Do(jd,t.__scopeDialog),r=b.useRef(null),s=bt(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return m_(i)},[]),h.jsx(gN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:We(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:We(t.onFocusOutside,i=>i.preventDefault())})}),D$=b.forwardRef((t,e)=>{const n=Do(jd,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return h.jsx(gN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,p;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((p=n.triggerRef.current)==null?void 0:p.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gN=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Do(jd,n),d=b.useRef(null),p=bt(e,d);return p_(),h.jsxs(h.Fragment,{children:[h.jsx(x1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(v1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":v_(l.open),...o,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(M$,{titleId:l.titleId}),h.jsx(L$,{contentRef:d,descriptionId:l.descriptionId})]})]})}),y_="DialogTitle",yN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Do(y_,n);return h.jsx(ft.h2,{id:s.titleId,...r,ref:e})});yN.displayName=y_;var vN="DialogDescription",xN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Do(vN,n);return h.jsx(ft.p,{id:s.descriptionId,...r,ref:e})});xN.displayName=vN;var wN="DialogClose",_N=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Do(wN,n);return h.jsx(ft.button,{type:"button",...r,ref:e,onClick:We(t.onClick,()=>s.onOpenChange(!1))})});_N.displayName=wN;function v_(t){return t?"open":"closed"}var bN="DialogTitleWarning",[Roe,SN]=iU(bN,{contentName:jd,titleName:y_,docsSlug:"dialog"}),M$=({titleId:t})=>{const e=SN(bN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},O$="DialogDescriptionWarning",L$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SN(O$).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},V$=cN,F$=dN,z$=fN,EN=pN,CN=mN,TN=yN,NN=xN,B$=_N;const cu=V$,U$=F$,$$=z$,kN=b.forwardRef(({className:t,...e},n)=>h.jsx(EN,{ref:n,className:lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kN.displayName=EN.displayName;const Dl=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs($$,{children:[h.jsx(kN,{}),h.jsxs(CN,{ref:r,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(B$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Id,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dl.displayName=CN.displayName;const Ml=({className:t,...e})=>h.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ml.displayName="DialogHeader";const x_=({className:t,...e})=>h.jsx("div",{className:lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});x_.displayName="DialogFooter";const Ol=b.forwardRef(({className:t,...e},n)=>h.jsx(TN,{ref:n,className:lt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ol.displayName=TN.displayName;const PN=b.forwardRef(({className:t,...e},n)=>h.jsx(NN,{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));PN.displayName=NN.displayName;const sr=b.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:lt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));sr.displayName="Input";var H$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W$=H$.reduce((t,e)=>{const n=NT(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),G$="Label",RN=b.forwardRef((t,e)=>h.jsx(W$.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RN.displayName=G$;var AN=RN;const q$=rg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dn=b.forwardRef(({className:t,...e},n)=>h.jsx(AN,{ref:n,className:lt(q$(),t),...e}));Dn.displayName=AN.displayName;const IN=b.createContext(),Lf=()=>{const t=b.useContext(IN);if(!t)throw new Error("useCart must be used within a CartProvider");return t},K$=({children:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!1);b.useEffect(()=>{try{const v=localStorage.getItem("blockclick_cart");if(v){const C=JSON.parse(v).filter(k=>k&&k.type&&k.size&&typeof k.price=="number"&&k.image_url&&!k.image_url.startsWith("blob:"));n(C)}}catch(v){console.error("Error loading cart:",v),localStorage.removeItem("blockclick_cart")}},[]);const i=b.useCallback(v=>{try{if(v.length===0){localStorage.removeItem("blockclick_cart");return}const S=v.map(C=>({id:C.id,type:C.type,size:C.size,price:parseFloat(C.price)||0,quantity:parseInt(C.quantity)||1,added_at:C.added_at,image_url:C.image_url}));localStorage.setItem("blockclick_cart",JSON.stringify(S))}catch(S){console.error("Failed to save cart:",S)}},[]);b.useEffect(()=>{const v=setTimeout(()=>{i(e)},100);return()=>clearTimeout(v)},[e,i]);const o=b.useCallback(v=>{if(!v.image_url||v.image_url.startsWith("blob:"))return console.error("Cannot add item without valid server URL"),null;const S={...v,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,added_at:new Date().toISOString(),price:parseFloat(v.price)||0,quantity:parseInt(v.quantity)||1};return n(C=>[...C,S]),S},[]),l=b.useCallback(v=>{n(S=>S.filter(C=>C.id!==v))},[]),d=b.useCallback(()=>{n([]),localStorage.removeItem("blockclick_cart")},[]),p=b.useCallback(()=>e.reduce((v,S)=>{const C=parseFloat(S.price)||0,k=parseInt(S.quantity)||1;if(S.type==="bookmark"){const P=S.images?S.images.length:2;return v+C*P}return v+C*k},0),[e]),m=b.useCallback(()=>e.length,[e]),y=b.useCallback((v,S)=>{n(C=>C.map(k=>k.id===v?{...k,...S,price:parseFloat(S.price||k.price)||0,quantity:parseInt(S.quantity||k.quantity)||1}:k))},[]);return h.jsx(IN.Provider,{value:{cartItems:e,addToCart:o,removeFromCart:l,clearCart:d,getTotalPrice:p,getTotalItems:m,updateCartItem:y,isLoading:r},children:t})},w_=b.createContext({});function __(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const b_=typeof window<"u",jN=b_?b.useLayoutEffect:b.useEffect,E1=b.createContext(null);function S_(t,e){t.indexOf(e)===-1&&t.push(e)}function E_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ll=(t,e,n)=>n>e?e:n<t?t:n;let C_=()=>{};const Vl={},DN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MN(t){return typeof t=="object"&&t!==null}const ON=t=>/^0[^.\s]+$/u.test(t);function T_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hi=t=>t,Y$=(t,e)=>n=>e(t(n)),og=(...t)=>t.reduce(Y$),Im=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class N_{constructor(){this.subscriptions=[]}add(e){return S_(this.subscriptions,e),()=>E_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ia=t=>t*1e3,$i=t=>t/1e3;function LN(t,e){return e?t*(1e3/e):0}const VN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X$=1e-7,Q$=12;function J$(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=VN(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>X$&&++l<Q$);return o}function ag(t,e,n,r){if(t===e&&n===r)return Hi;const s=i=>J$(i,0,1,t,n);return i=>i===0||i===1?i:VN(s(i),e,r)}const FN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zN=t=>e=>1-t(1-e),BN=ag(.33,1.53,.69,.99),k_=zN(BN),UN=FN(k_),$N=t=>(t*=2)<1?.5*k_(t):.5*(2-Math.pow(2,-10*(t-1))),P_=t=>1-Math.sin(Math.acos(t)),HN=zN(P_),WN=FN(P_),Z$=ag(.42,0,1,1),eH=ag(0,0,.58,1),GN=ag(.42,0,.58,1),tH=t=>Array.isArray(t)&&typeof t[0]!="number",qN=t=>Array.isArray(t)&&typeof t[0]=="number",nH={linear:Hi,easeIn:Z$,easeInOut:GN,easeOut:eH,circIn:P_,circInOut:WN,circOut:HN,backIn:k_,backInOut:UN,backOut:BN,anticipate:$N},rH=t=>typeof t=="string",m5=t=>{if(qN(t)){C_(t.length===4);const[e,n,r,s]=t;return ag(e,n,r,s)}else if(rH(t))return nH[t];return t},S0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sH(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(p.schedule(m),t()),m(l)}const p={schedule:(m,y=!1,v=!1)=>{const C=v&&s?n:r;return y&&o.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,i&&(i=!1,p.process(m))}};return p}const iH=40;function KN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=S0.reduce((D,V)=>(D[V]=sH(i),D),{}),{setup:l,read:d,resolveKeyframes:p,preUpdate:m,update:y,preRender:v,render:S,postRender:C}=o,k=()=>{const D=Vl.useManualTiming?s.timestamp:performance.now();n=!1,Vl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,iH),1)),s.timestamp=D,s.isProcessing=!0,l.process(s),d.process(s),p.process(s),m.process(s),y.process(s),v.process(s),S.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(k))},P=()=>{n=!0,r=!0,s.isProcessing||t(k)};return{schedule:S0.reduce((D,V)=>{const G=o[V];return D[V]=(J,B=!1,R=!1)=>(n||P(),G.schedule(J,B,R)),D},{}),cancel:D=>{for(let V=0;V<S0.length;V++)o[S0[V]].cancel(D)},state:s,steps:o}}const{schedule:Nn,cancel:uu,state:Zr,steps:rx}=KN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hi,!0);let Z0;function oH(){Z0=void 0}const ei={now:()=>(Z0===void 0&&ei.set(Zr.isProcessing||Vl.useManualTiming?Zr.timestamp:performance.now()),Z0),set:t=>{Z0=t,queueMicrotask(oH)}},YN=t=>e=>typeof e=="string"&&e.startsWith(t),XN=YN("--"),aH=YN("var(--"),R_=t=>aH(t)?lH.test(t.split("/*")[0].trim()):!1,lH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jm={...Vf,transform:t=>Ll(0,1,t)},E0={...Vf,default:1},um=t=>Math.round(t*1e5)/1e5,A_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cH(t){return t==null}const uH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I_=(t,e)=>n=>!!(typeof n=="string"&&uH.test(n)&&n.startsWith(t)||e&&!cH(n)&&Object.prototype.hasOwnProperty.call(n,e)),QN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(A_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dH=t=>Ll(0,255,t),sx={...Vf,transform:t=>Math.round(dH(t))},_d={test:I_("rgb","red"),parse:QN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sx.transform(t)+", "+sx.transform(e)+", "+sx.transform(n)+", "+um(jm.transform(r))+")"};function hH(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const g2={test:I_("#"),parse:hH,transform:_d.transform},lg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bc=lg("deg"),ja=lg("%"),pt=lg("px"),fH=lg("vh"),pH=lg("vw"),g5={...ja,parse:t=>ja.parse(t)/100,transform:t=>ja.transform(t*100)},ef={test:I_("hsl","hue"),parse:QN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ja.transform(um(e))+", "+ja.transform(um(n))+", "+um(jm.transform(r))+")"},pr={test:t=>_d.test(t)||g2.test(t)||ef.test(t),parse:t=>_d.test(t)?_d.parse(t):ef.test(t)?ef.parse(t):g2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_d.transform(t):ef.transform(t),getAnimatableNone:t=>{const e=pr.parse(t);return e.alpha=0,pr.transform(e)}},mH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gH(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(A_))==null?void 0:e.length)||0)+(((n=t.match(mH))==null?void 0:n.length)||0)>0}const JN="number",ZN="color",yH="var",vH="var(",y5="${}",xH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(xH,d=>(pr.test(d)?(r.color.push(i),s.push(ZN),n.push(pr.parse(d))):d.startsWith(vH)?(r.var.push(i),s.push(yH),n.push(d)):(r.number.push(i),s.push(JN),n.push(parseFloat(d))),++i,y5)).split(y5);return{values:n,split:l,indexes:r,types:s}}function ek(t){return Dm(t).values}function tk(t){const{split:e,types:n}=Dm(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===JN?i+=um(s[o]):l===ZN?i+=pr.transform(s[o]):i+=s[o]}return i}}const wH=t=>typeof t=="number"?0:pr.test(t)?pr.getAnimatableNone(t):t;function _H(t){const e=ek(t);return tk(t)(e.map(wH))}const du={test:gH,parse:ek,createTransformer:tk,getAnimatableNone:_H};function ix(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,d=2*n-l;s=ix(d,l,t+1/3),i=ix(d,l,t),o=ix(d,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Iy(t,e){return n=>n>0?e:t}const On=(t,e,n)=>t+(e-t)*n,ox=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},SH=[g2,_d,ef],EH=t=>SH.find(e=>e.test(t));function v5(t){const e=EH(t);if(!e)return!1;let n=e.parse(t);return e===ef&&(n=bH(n)),n}const x5=(t,e)=>{const n=v5(t),r=v5(e);if(!n||!r)return Iy(t,e);const s={...n};return i=>(s.red=ox(n.red,r.red,i),s.green=ox(n.green,r.green,i),s.blue=ox(n.blue,r.blue,i),s.alpha=On(n.alpha,r.alpha,i),_d.transform(s))},y2=new Set(["none","hidden"]);function CH(t,e){return y2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TH(t,e){return n=>On(t,e,n)}function j_(t){return typeof t=="number"?TH:typeof t=="string"?R_(t)?Iy:pr.test(t)?x5:PH:Array.isArray(t)?nk:typeof t=="object"?pr.test(t)?x5:NH:Iy}function nk(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>j_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function NH(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=j_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function kH(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],l=t.values[o]??0;n[s]=l,r[i]++}return n}const PH=(t,e)=>{const n=du.createTransformer(e),r=Dm(t),s=Dm(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?y2.has(t)&&!s.values.length||y2.has(e)&&!r.values.length?CH(t,e):og(nk(kH(r,s),s.values),n):Iy(t,e)};function rk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?On(t,e,n):j_(t)(t,e)}const RH=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nn.update(e,n),stop:()=>uu(e),now:()=>Zr.isProcessing?Zr.timestamp:ei.now()}},sk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},jy=2e4;function D_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jy;)e+=n,r=t.next(e);return e>=jy?1/0:e}function AH(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(D_(r),jy);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:$i(s)}}const IH=5;function ik(t,e,n){const r=Math.max(e-IH,0);return LN(n-t(r),e-r)}const qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ax=.001;function jH({duration:t=qn.duration,bounce:e=qn.bounce,velocity:n=qn.velocity,mass:r=qn.mass}){let s,i,o=1-e;o=Ll(qn.minDamping,qn.maxDamping,o),t=Ll(qn.minDuration,qn.maxDuration,$i(t)),o<1?(s=p=>{const m=p*o,y=m*t,v=m-n,S=v2(p,o),C=Math.exp(-y);return ax-v/S*C},i=p=>{const y=p*o*t,v=y*n+n,S=Math.pow(o,2)*Math.pow(p,2)*t,C=Math.exp(-y),k=v2(Math.pow(p,2),o);return(-s(p)+ax>0?-1:1)*((v-S)*C)/k}):(s=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-ax+m*y},i=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const l=5/t,d=MH(s,i,l);if(t=Ia(t),isNaN(d))return{stiffness:qn.stiffness,damping:qn.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:o*2*Math.sqrt(r*p),duration:t}}}const DH=12;function MH(t,e,n){let r=n;for(let s=1;s<DH;s++)r=r-t(r)/e(r);return r}function v2(t,e){return t*Math.sqrt(1-e*e)}const OH=["duration","bounce"],LH=["stiffness","damping","mass"];function w5(t,e){return e.some(n=>t[n]!==void 0)}function VH(t){let e={velocity:qn.velocity,stiffness:qn.stiffness,damping:qn.damping,mass:qn.mass,isResolvedFromDuration:!1,...t};if(!w5(t,LH)&&w5(t,OH))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ll(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:qn.mass,stiffness:s,damping:i}}else{const n=jH(t);e={...e,...n,mass:qn.mass},e.isResolvedFromDuration=!0}return e}function Dy(t=qn.visualDuration,e=qn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:p,mass:m,duration:y,velocity:v,isResolvedFromDuration:S}=VH({...n,velocity:-$i(n.velocity||0)}),C=v||0,k=p/(2*Math.sqrt(d*m)),P=o-i,M=$i(Math.sqrt(d/m)),j=Math.abs(P)<5;r||(r=j?qn.restSpeed.granular:qn.restSpeed.default),s||(s=j?qn.restDelta.granular:qn.restDelta.default);let D;if(k<1){const G=v2(M,k);D=J=>{const B=Math.exp(-k*M*J);return o-B*((C+k*M*P)/G*Math.sin(G*J)+P*Math.cos(G*J))}}else if(k===1)D=G=>o-Math.exp(-M*G)*(P+(C+M*P)*G);else{const G=M*Math.sqrt(k*k-1);D=J=>{const B=Math.exp(-k*M*J),R=Math.min(G*J,300);return o-B*((C+k*M*P)*Math.sinh(R)+G*P*Math.cosh(R))/G}}const V={calculatedDuration:S&&y||null,next:G=>{const J=D(G);if(S)l.done=G>=y;else{let B=G===0?C:0;k<1&&(B=G===0?Ia(C):ik(D,G,J));const R=Math.abs(B)<=r,F=Math.abs(o-J)<=s;l.done=R&&F}return l.value=l.done?o:J,l},toString:()=>{const G=Math.min(D_(V),jy),J=sk(B=>V.next(G*B).value,G,30);return G+"ms "+J},toTransition:()=>{}};return V}Dy.applyToOptions=t=>{const e=AH(t,100,Dy);return t.ease=e.ease,t.duration=Ia(e.duration),t.type="keyframes",t};function x2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:p=.5,restSpeed:m}){const y=t[0],v={done:!1,value:y},S=R=>l!==void 0&&R<l||d!==void 0&&R>d,C=R=>l===void 0?d:d===void 0||Math.abs(l-R)<Math.abs(d-R)?l:d;let k=n*e;const P=y+k,M=o===void 0?P:o(P);M!==P&&(k=M-y);const j=R=>-k*Math.exp(-R/r),D=R=>M+j(R),V=R=>{const F=j(R),z=D(R);v.done=Math.abs(F)<=p,v.value=v.done?M:z};let G,J;const B=R=>{S(v.value)&&(G=R,J=Dy({keyframes:[v.value,C(v.value)],velocity:ik(D,R,v.value),damping:s,stiffness:i,restDelta:p,restSpeed:m}))};return B(0),{calculatedDuration:null,next:R=>{let F=!1;return!J&&G===void 0&&(F=!0,V(R),B(R)),G!==void 0&&R>=G?J.next(R-G):(!F&&V(R),v)}}}function FH(t,e,n){const r=[],s=n||Vl.mix||rk,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Hi:e;l=og(d,l)}r.push(l)}return r}function zH(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(C_(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=FH(e,r,s),d=l.length,p=m=>{if(o&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const v=Im(t[y],t[y+1],m);return l[y](v)};return n?m=>p(Ll(t[0],t[i-1],m)):p}function BH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Im(0,e,r);t.push(On(n,1,s))}}function UH(t){const e=[0];return BH(e,t.length-1),e}function $H(t,e){return t.map(n=>n*e)}function HH(t,e){return t.map(()=>e||GN).splice(0,t.length-1)}function dm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=tH(r)?r.map(m5):m5(r),i={done:!1,value:e[0]},o=$H(n&&n.length===e.length?n:UH(e),t),l=zH(o,e,{ease:Array.isArray(s)?s:HH(e,s)});return{calculatedDuration:t,next:d=>(i.value=l(d),i.done=d>=t,i)}}const WH=t=>t!==null;function M_(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(WH),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const GH={decay:x2,inertia:x2,tween:dm,keyframes:dm,spring:Dy};function ok(t){typeof t.type=="string"&&(t.type=GH[t.type])}class O_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qH=t=>t/100;class L_ extends O_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ok(e);const{type:n=dm,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const d=n||dm;d!==dm&&typeof l[0]!="number"&&(this.mixKeyframes=og(qH,rk(l[0],l[1])),l=[0,100]);const p=d({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=D_(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:S,type:C,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,V=r;if(y){const R=Math.min(this.currentTime,s)/l;let F=Math.floor(R),z=R%1;!z&&R>=1&&(z=1),z===1&&F--,F=Math.min(F,y+1),!!(F%2)&&(v==="reverse"?(z=1-z,S&&(z-=S/l)):v==="mirror"&&(V=o)),D=Ll(0,1,z)*l}const G=j?{done:!1,value:m[0]}:V.next(D);i&&(G.value=i(G.value));let{done:J}=G;!j&&d!==null&&(J=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return B&&C!==x2&&(G.value=M_(m,this.options,P,this.speed)),k&&k(G.value),B&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return $i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$i(e)}get time(){return $i(this.currentTime)}set time(e){var n;e=Ia(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ei.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$i(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=RH,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function KH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bd=t=>t*180/Math.PI,w2=t=>{const e=bd(Math.atan2(t[1],t[0]));return _2(e)},YH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:w2,rotateZ:w2,skewX:t=>bd(Math.atan(t[1])),skewY:t=>bd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_2=t=>(t=t%360,t<0&&(t+=360),t),_5=w2,b5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b5,scaleY:S5,scale:t=>(b5(t)+S5(t))/2,rotateX:t=>_2(bd(Math.atan2(t[6],t[5]))),rotateY:t=>_2(bd(Math.atan2(-t[2],t[0]))),rotateZ:_5,rotate:_5,skewX:t=>bd(Math.atan(t[4])),skewY:t=>bd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function b2(t){return t.includes("scale")?1:0}function S2(t,e){if(!t||t==="none")return b2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=XH,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YH,s=l}if(!s)return b2(e);const i=r[e],o=s[1].split(",").map(JH);return typeof i=="function"?i(o):o[i]}const QH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return S2(n,e)};function JH(t){return parseFloat(t.trim())}const Ff=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zf=new Set(Ff),E5=t=>t===Vf||t===pt,ZH=new Set(["x","y","z"]),eW=Ff.filter(t=>!ZH.has(t));function tW(t){const e=[];return eW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Nd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>S2(e,"x"),y:(t,{transform:e})=>S2(e,"y")};Nd.translateX=Nd.x;Nd.translateY=Nd.y;const kd=new Set;let E2=!1,C2=!1,T2=!1;function ak(){if(C2){const t=Array.from(kd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=tW(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}C2=!1,E2=!1,kd.forEach(t=>t.complete(T2)),kd.clear()}function lk(){kd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(C2=!0)})}function nW(){T2=!0,lk(),ak(),T2=!1}class V_{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(kd.add(this),E2||(E2=!0,Nn.read(lk),Nn.resolveKeyframes(ak))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}KH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),kd.delete(this)}cancel(){this.state==="scheduled"&&(kd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rW=t=>t.startsWith("--");function sW(t,e,n){rW(e)?t.style.setProperty(e,n):t.style[e]=n}const iW=T_(()=>window.ScrollTimeline!==void 0),oW={};function aW(t,e){const n=T_(t);return()=>oW[e]??n()}const ck=aW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,C5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kp([0,.65,.55,1]),circOut:Kp([.55,0,1,.45]),backIn:Kp([.31,.01,.66,-.59]),backOut:Kp([.33,1.53,.69,.99])};function uk(t,e){if(t)return typeof t=="function"?ck()?sk(t,e):"ease-out":qN(t)?Kp(t):Array.isArray(t)?t.map(n=>uk(n,e)||C5.easeOut):C5[t]}function lW(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:d}={},p=void 0){const m={[e]:n};d&&(m.offset=d);const y=uk(l,s);Array.isArray(y)&&(m.easing=y);const v={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(m,v)}function dk(t){return typeof t=="function"&&"applyToOptions"in t}function cW({type:t,...e}){return dk(t)&&ck()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uW extends O_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,C_(typeof e.type!="string");const p=cW(e);this.animation=lW(n,r,s,p,i),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=M_(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):sW(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$i(e)}get time(){return $i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ia(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&iW()?(this.animation.timeline=e,Hi):n(this)}}const hk={anticipate:$N,backInOut:UN,circInOut:WN};function dW(t){return t in hk}function hW(t){typeof t.ease=="string"&&dW(t.ease)&&(t.ease=hk[t.ease])}const T5=10;class fW extends uW{constructor(e){hW(e),ok(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new L_({...o,autoplay:!1}),d=Ia(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-T5).value,l.sample(d).value,T5),l.stop()}}const N5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(du.test(t)||t==="0")&&!t.startsWith("url("));function pW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mW(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=N5(s,e),l=N5(i,e);return!o||!l?!1:pW(t)||(n==="spring"||dk(n))&&r}function N2(t){t.duration=0,t.type="keyframes"}const gW=new Set(["opacity","clipPath","filter","transform"]),yW=T_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vW(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return yW()&&n&&gW.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const xW=40;class wW extends O_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:d,motionValue:p,element:m,...y}){var C;super(),this.stop=()=>{var k,P;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=ei.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:d,motionValue:p,element:m,...y},S=(m==null?void 0:m.KeyframeResolver)||V_;this.keyframeResolver=new S(l,(k,P,M)=>this.onKeyframesResolved(k,P,v,!M),d,p,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:d,isHandoff:p,onUpdate:m}=r;this.resolvedAt=ei.now(),mW(e,i,o,l)||((Vl.instantAnimations||!d)&&(m==null||m(M_(e,r,n))),e[0]=e[e.length-1],N2(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>xW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&vW(v)?new fW({...v,element:v.motionValue.owner.current}):new L_(v);S.finished.then(()=>this.notifyFinished()).catch(Hi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _W=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bW(t){const e=_W.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function fk(t,e,n=1){const[r,s]=bW(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return DN(o)?parseFloat(o):o}return R_(s)?fk(s,e,n+1):s}function F_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pk=new Set(["width","height","top","left","right","bottom",...Ff]),SW={test:t=>t==="auto",parse:t=>t},mk=t=>e=>e.test(t),gk=[Vf,pt,ja,Bc,pH,fH,SW],k5=t=>gk.find(mk(t));function EW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ON(t):!0}const CW=new Set(["brightness","contrast","saturate","opacity"]);function TW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(A_)||[];if(!r)return t;const s=n.replace(r,"");let i=CW.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const NW=/\b([a-z-]*)\(.*?\)/gu,k2={...du,getAnimatableNone:t=>{const e=t.match(NW);return e?e.map(TW).join(" "):t}},P5={...Vf,transform:Math.round},kW={rotate:Bc,rotateX:Bc,rotateY:Bc,rotateZ:Bc,scale:E0,scaleX:E0,scaleY:E0,scaleZ:E0,skew:Bc,skewX:Bc,skewY:Bc,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:jm,originX:g5,originY:g5,originZ:pt},z_={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...kW,zIndex:P5,fillOpacity:jm,strokeOpacity:jm,numOctaves:P5},PW={...z_,color:pr,backgroundColor:pr,outlineColor:pr,fill:pr,stroke:pr,borderColor:pr,borderTopColor:pr,borderRightColor:pr,borderBottomColor:pr,borderLeftColor:pr,filter:k2,WebkitFilter:k2},yk=t=>PW[t];function vk(t,e){let n=yk(t);return n!==k2&&(n=du),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RW=new Set(["auto","none","0"]);function AW(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!RW.has(i)&&Dm(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=vk(n,s)}class IW extends V_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),R_(p))){const m=fk(p,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!pk.has(r)||e.length!==2)return;const[s,i]=e,o=k5(s),l=k5(i);if(o!==l)if(E5(o)&&E5(l))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Nd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||EW(e[s]))&&r.push(s);r.length&&AW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Nd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function jW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const xk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wk(t){return MN(t)&&"offsetHeight"in t}const R5=30,DW=t=>!isNaN(parseFloat(t));class MW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=ei.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ei.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new N_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R5);return LN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bf(t,e){return new MW(t,e)}const{schedule:B_}=KN(queueMicrotask,!1),_o={x:!1,y:!1};function _k(){return _o.x||_o.y}function OW(t){return t==="x"||t==="y"?_o[t]?null:(_o[t]=!0,()=>{_o[t]=!1}):_o.x||_o.y?null:(_o.x=_o.y=!0,()=>{_o.x=_o.y=!1})}function bk(t,e){const n=jW(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function A5(t){return!(t.pointerType==="touch"||_k())}function LW(t,e,n={}){const[r,s,i]=bk(t,n),o=l=>{if(!A5(l))return;const{target:d}=l,p=e(d,l);if(typeof p!="function"||!d)return;const m=y=>{A5(y)&&(p(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Sk=(t,e)=>e?t===e?!0:Sk(t,e.parentElement):!1,U_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FW(t){return VW.has(t.tagName)||t.tabIndex!==-1}const ey=new WeakSet;function I5(t){return e=>{e.key==="Enter"&&t(e)}}function lx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=I5(()=>{if(ey.has(n))return;lx(n,"down");const s=I5(()=>{lx(n,"up")}),i=()=>lx(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function j5(t){return U_(t)&&!_k()}function BW(t,e,n={}){const[r,s,i]=bk(t,n),o=l=>{const d=l.currentTarget;if(!j5(l))return;ey.add(d);const p=e(d,l),m=(S,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),ey.has(d)&&ey.delete(d),j5(S)&&typeof p=="function"&&p(S,{success:C})},y=S=>{m(S,d===window||d===document||n.useGlobalTarget||Sk(d,S.target))},v=S=>{m(S,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),wk(l)&&(l.addEventListener("focus",p=>zW(p,s)),!FW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Ek(t){return MN(t)&&"ownerSVGElement"in t}function UW(t){return Ek(t)&&t.tagName==="svg"}const ys=t=>!!(t&&t.getVelocity),$W=[...gk,pr,du],HW=t=>$W.find(mk(t)),$_=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function D5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WW(...t){return e=>{let n=!1;const r=t.map(s=>{const i=D5(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():D5(t[s],null)}}}}function GW(...t){return b.useCallback(WW(...t),t)}class qW extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=wk(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KW({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext($_),d=GW(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:v,right:S}=o.current;if(e||!i.current||!p||!m)return;const C=n==="left"?`left: ${v}`:`right: ${S}`;i.current.dataset.motionPopId=s;const k=document.createElement("style");l&&(k.nonce=l);const P=r??document.head;return P.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${C}px !important;
            top: ${y}px !important;
          }
        `),()=>{P.contains(k)&&P.removeChild(k)}},[e]),h.jsx(qW,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:d})})}const YW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:d})=>{const p=__(XW),m=b.useId();let y=!0,v=b.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:S=>{p.set(S,!0);for(const C of p.values())if(!C)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return i&&y&&(v={...v}),b.useMemo(()=>{p.forEach((S,C)=>p.set(C,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(KW,{isPresent:n,anchorX:l,root:d,children:t})),h.jsx(E1.Provider,{value:v,children:t})};function XW(){return new Map}function Ck(t=!0){const e=b.useContext(E1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const C0=t=>t.key||"";function M5(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const mu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:d})=>{const[p,m]=Ck(o),y=b.useMemo(()=>M5(t),[t]),v=o&&!p?[]:y.map(C0),S=b.useRef(!0),C=b.useRef(y),k=__(()=>new Map),[P,M]=b.useState(y),[j,D]=b.useState(y);jN(()=>{S.current=!1,C.current=y;for(let J=0;J<j.length;J++){const B=C0(j[J]);v.includes(B)?k.delete(B):k.get(B)!==!0&&k.set(B,!1)}},[j,v.length,v.join("-")]);const V=[];if(y!==P){let J=[...y];for(let B=0;B<j.length;B++){const R=j[B],F=C0(R);v.includes(F)||(J.splice(B,0,R),V.push(R))}return i==="wait"&&V.length&&(J=V),D(M5(J)),M(y),null}const{forceRender:G}=b.useContext(w_);return h.jsx(h.Fragment,{children:j.map(J=>{const B=C0(J),R=o&&!p?!1:y===j||v.includes(B),F=()=>{if(k.has(B))k.set(B,!0);else return;let z=!0;k.forEach(H=>{H||(z=!1)}),z&&(G==null||G(),D(C.current),o&&(m==null||m()),r&&r())};return h.jsx(YW,{isPresent:R,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:d,onExitComplete:R?void 0:F,anchorX:l,children:J},B)})})},Tk=b.createContext({strict:!1}),O5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sf={};for(const t in O5)Sf[t]={isEnabled:e=>O5[t].some(n=>!!e[n])};function QW(t){for(const e in t)Sf[e]={...Sf[e],...t[e]}}const JW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function My(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JW.has(t)}let Nk=t=>!My(t);function ZW(t){typeof t=="function"&&(Nk=e=>e.startsWith("on")?!My(e):t(e))}try{ZW(require("@emotion/is-prop-valid").default)}catch{}function eG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Nk(s)||n===!0&&My(s)||!e&&!My(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const C1=b.createContext({});function T1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mm(t){return typeof t=="string"||Array.isArray(t)}const H_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W_=["initial",...H_];function N1(t){return T1(t.animate)||W_.some(e=>Mm(t[e]))}function kk(t){return!!(N1(t)||t.variants)}function tG(t,e){if(N1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mm(n)?n:void 0,animate:Mm(r)?r:void 0}}return t.inherit!==!1?e:{}}function nG(t){const{initial:e,animate:n}=tG(t,b.useContext(C1));return b.useMemo(()=>({initial:e,animate:n}),[L5(e),L5(n)])}function L5(t){return Array.isArray(t)?t.join(" "):t}function V5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=V5(t,e.target.x),r=V5(t,e.target.y);return`${n}% ${r}%`}},rG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=du.parse(t);if(s.length>5)return r;const i=du.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,d=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=d;const p=On(l,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),i(s)}},P2={borderRadius:{...Lp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lp,borderTopRightRadius:Lp,borderBottomLeftRadius:Lp,borderBottomRightRadius:Lp,boxShadow:rG};function Pk(t,{layout:e,layoutId:n}){return zf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P2[t]||t==="opacity")}const sG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iG=Ff.length;function oG(t,e,n){let r="",s=!0;for(let i=0;i<iG;i++){const o=Ff[i],l=t[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const p=xk(l,z_[o]);if(!d){s=!1;const m=sG[o]||o;r+=`${m}(${p}) `}n&&(e[o]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function G_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const d in e){const p=e[d];if(zf.has(d)){o=!0;continue}else if(XN(d)){s[d]=p;continue}else{const m=xk(p,z_[d]);d.startsWith("origin")?(l=!0,i[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=oG(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:p="50%",originZ:m=0}=i;r.transformOrigin=`${d} ${p} ${m}`}}const q_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rk(t,e,n){for(const r in e)!ys(e[r])&&!Pk(r,n)&&(t[r]=e[r])}function aG({transformTemplate:t},e){return b.useMemo(()=>{const n=q_();return G_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lG(t,e){const n=t.style||{},r={};return Rk(r,n,t),Object.assign(r,aG(t,e)),r}function cG(t,e){const n={},r=lG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uG={offset:"stroke-dashoffset",array:"stroke-dasharray"},dG={offset:"strokeDashoffset",array:"strokeDasharray"};function hG(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?uG:dG;t[i.offset]=pt.transform(-r);const o=pt.transform(e),l=pt.transform(n);t[i.array]=`${o} ${l}`}function Ak(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},d,p,m){if(G_(t,l,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&hG(y,s,i,o,!1)}const Ik=()=>({...q_(),attrs:{}}),jk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fG(t,e,n,r){const s=b.useMemo(()=>{const i=Ik();return Ak(i,e,jk(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Rk(i,t.style,t),s.style={...i,...s.style}}return s}const pG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K_(t){return typeof t!="string"||t.includes("-")?!1:!!(pG.indexOf(t)>-1||/[A-Z]/u.test(t))}function mG(t,e,n,{latestValues:r},s,i=!1){const l=(K_(t)?fG:cG)(e,r,s,t),d=eG(e,typeof t=="string",i),p=t!==b.Fragment?{...d,...l,ref:n}:{},{children:m}=e,y=b.useMemo(()=>ys(m)?m.get():m,[m]);return b.createElement(t,{...p,children:y})}function F5(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Y_(t,e,n,r){if(typeof e=="function"){const[s,i]=F5(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=F5(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ty(t){return ys(t)?t.get():t}function gG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:yG(n,r,s,t),renderState:e()}}function yG(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=ty(i[v]);let{initial:o,animate:l}=t;const d=N1(t),p=kk(t);e&&p&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const y=m?l:o;if(y&&typeof y!="boolean"&&!T1(y)){const v=Array.isArray(y)?y:[y];for(let S=0;S<v.length;S++){const C=Y_(t,v[S]);if(C){const{transitionEnd:k,transition:P,...M}=C;for(const j in M){let D=M[j];if(Array.isArray(D)){const V=m?D.length-1:0;D=D[V]}D!==null&&(s[j]=D)}for(const j in k)s[j]=k[j]}}}return s}const Dk=t=>(e,n)=>{const r=b.useContext(C1),s=b.useContext(E1),i=()=>gG(t,e,r,s);return n?i():__(i)};function X_(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(ys(r[o])||e.style&&ys(e.style[o])||Pk(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const vG=Dk({scrapeMotionValuesFromProps:X_,createRenderState:q_});function Mk(t,e,n){const r=X_(t,e,n);for(const s in t)if(ys(t[s])||ys(e[s])){const i=Ff.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const xG=Dk({scrapeMotionValuesFromProps:Mk,createRenderState:Ik}),wG=Symbol.for("motionComponentSymbol");function tf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _G(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tf(n)&&(n.current=r))},[e])}const Q_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bG="framerAppearId",Ok="data-"+Q_(bG),Lk=b.createContext({});function SG(t,e,n,r,s){var k,P;const{visualElement:i}=b.useContext(C1),o=b.useContext(Tk),l=b.useContext(E1),d=b.useContext($_).reducedMotion,p=b.useRef(null);r=r||o.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,y=b.useContext(Lk);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&EG(p.current,n,s,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{m&&v.current&&m.update(n,l)});const S=n[Ok],C=b.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,S)));return jN(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,S)}),C.current=!1),m.enteringChildren=void 0)}),m}function EG(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vk(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&tf(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:p})}function Vk(t){if(t)return t.options.allowProjection!==!1?t.projection:Vk(t.parent)}function cx(t,{forwardMotionProps:e=!1}={},n,r){n&&QW(n);const s=K_(t)?xG:vG;function i(l,d){let p;const m={...b.useContext($_),...l,layoutId:CG(l)},{isStatic:y}=m,v=nG(l),S=s(l,y);if(!y&&b_){TG();const C=NG(m);p=C.MeasureLayout,v.visualElement=SG(t,S,m,r,C.ProjectionNode)}return h.jsxs(C1.Provider,{value:v,children:[p&&v.visualElement?h.jsx(p,{visualElement:v.visualElement,...m}):null,mG(t,l,_G(S,v.visualElement,d),S,y,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[wG]=t,o}function CG({layoutId:t}){const e=b.useContext(w_).id;return e&&t!==void 0?e+"-"+t:t}function TG(t,e){b.useContext(Tk).strict}function NG(t){const{drag:e,layout:n}=Sf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kG(t,e){if(typeof Proxy>"u")return cx;const n=new Map,r=(i,o)=>cx(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,cx(o,void 0,t,e)),n.get(o))})}function Fk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ux(t){return t===void 0||t===1}function R2({scale:t,scaleX:e,scaleY:n}){return!ux(t)||!ux(e)||!ux(n)}function yd(t){return R2(t)||zk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zk(t){return z5(t.x)||z5(t.y)}function z5(t){return t&&t!=="0%"}function Oy(t,e,n){const r=t-n,s=e*r;return n+s}function B5(t,e,n,r,s){return s!==void 0&&(t=Oy(t,s,r)),Oy(t,n,r)+e}function A2(t,e=0,n=1,r,s){t.min=B5(t.min,e,n,r,s),t.max=B5(t.max,e,n,r,s)}function Bk(t,{x:e,y:n}){A2(t.x,e.translate,e.scale,e.originPoint),A2(t.y,n.translate,n.scale,n.originPoint)}const U5=.999999999999,$5=1.0000000000001;function AG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Bk(t,o)),r&&yd(i.latestValues)&&rf(t,i.latestValues))}e.x<$5&&e.x>U5&&(e.x=1),e.y<$5&&e.y>U5&&(e.y=1)}function nf(t,e){t.min=t.min+e,t.max=t.max+e}function H5(t,e,n,r,s=.5){const i=On(t.min,t.max,s);A2(t,e,n,i,r)}function rf(t,e){H5(t.x,e.x,e.scaleX,e.scale,e.originX),H5(t.y,e.y,e.scaleY,e.scale,e.originY)}function Uk(t,e){return Fk(RG(t.getBoundingClientRect(),e))}function IG(t,e,n){const r=Uk(t,n),{scroll:s}=e;return s&&(nf(r.x,s.offset.x),nf(r.y,s.offset.y)),r}const W5=()=>({translate:0,scale:1,origin:0,originPoint:0}),sf=()=>({x:W5(),y:W5()}),G5=()=>({min:0,max:0}),Cr=()=>({x:G5(),y:G5()}),I2={current:null},$k={current:!1};function jG(){if($k.current=!0,!!b_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I2.current=t.matches;t.addEventListener("change",e),e()}else I2.current=!1}const DG=new WeakMap;function MG(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ys(s))t.addValue(r,s);else if(ys(i))t.addValue(r,bf(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,bf(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const q5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ei.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Nn.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=N1(n),this.isVariantNode=kk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const S=y[v];d[v]!==void 0&&ys(S)&&S.set(d[v])}}mount(e){var n;this.current=e,DG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),$k.current||jG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I2.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),uu(this.notifyUpdate),uu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zf.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sf){const n=Sf[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<q5.length;r++){const s=q5[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=MG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DN(r)||ON(r))?r=parseFloat(r):!HW(r)&&du.test(n)&&(r=vk(e,n)),this.setBaseTarget(e,ys(r)?r.get():r)),ys(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Y_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ys(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new N_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){B_.render(this.render)}}class Hk extends OG{constructor(){super(...arguments),this.KeyframeResolver=IW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ys(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wk(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function LG(t){return window.getComputedStyle(t)}class VG extends Hk{constructor(){super(...arguments),this.type="html",this.renderInstance=Wk}readValueFromInstance(e,n){var r;if(zf.has(n))return(r=this.projection)!=null&&r.isProjecting?b2(n):QH(e,n);{const s=LG(e),i=(XN(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Uk(e,n)}build(e,n,r){G_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return X_(e,n,r)}}const Gk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FG(t,e,n,r){Wk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Gk.has(s)?s:Q_(s),e.attrs[s])}class zG extends Hk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zf.has(n)){const r=yk(n);return r&&r.default||0}return n=Gk.has(n)?n:Q_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Mk(e,n,r)}build(e,n,r){Ak(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){FG(e,n,r,s)}mount(e){this.isSVGTag=jk(e.tagName),super.mount(e)}}const BG=(t,e)=>K_(t)?new zG(e):new VG(e,{allowProjection:t!==b.Fragment});function df(t,e,n){const r=t.getProps();return Y_(r,e,n!==void 0?n:r.custom,t)}const j2=t=>Array.isArray(t);function UG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bf(n))}function $G(t){return j2(t)?t[t.length-1]||0:t}function HG(t,e){const n=df(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=$G(i[o]);UG(t,o,l)}}function WG(t){return!!(ys(t)&&t.add)}function D2(t,e){const n=t.getValue("willChange");if(WG(n))return n.add(e);if(!n&&Vl.WillChange){const r=new Vl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function qk(t){return t.props[Ok]}const GG=t=>t!==null;function qG(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(GG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const KG={type:"spring",stiffness:500,damping:25,restSpeed:10},YG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XG={type:"keyframes",duration:.8},QG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JG=(t,{keyframes:e})=>e.length>2?XG:zf.has(t)?t.startsWith("scale")?YG(e[1]):KG:QG;function ZG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const J_=(t,e,n,r={},s,i)=>o=>{const l=F_(r,t)||{},d=l.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ia(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-p,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};ZG(l)||Object.assign(m,JG(t,m)),m.duration&&(m.duration=Ia(m.duration)),m.repeatDelay&&(m.repeatDelay=Ia(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(N2(m),m.delay===0&&(y=!0)),(Vl.instantAnimations||Vl.skipAnimations)&&(y=!0,N2(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,y&&!i&&e.get()!==void 0){const v=qG(m.keyframes,l);if(v!==void 0){Nn.update(()=>{m.onUpdate(v),m.onComplete()});return}}return l.isSync?new L_(m):new wW(m)};function eq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Kk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const y=t.getValue(m,t.latestValues[m]??null),v=l[m];if(v===void 0||p&&eq(p,m))continue;const S={delay:n,...F_(i||{},m)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===C&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const M=qk(t);if(M){const j=window.MotionHandoffAnimation(M,m,Nn);j!==null&&(S.startTime=j,k=!0)}}D2(t,m),y.start(J_(m,y,v,t.shouldReduceMotion&&pk.has(m)?{type:!1}:S,t,k));const P=y.animation;P&&d.push(P)}return o&&Promise.all(d).then(()=>{Nn.update(()=>{o&&HG(t,o)})}),d}function Yk(t,e,n,r=0,s=1){const i=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function M2(t,e,n={}){var d;const r=df(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Kk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=s;return tq(t,e,p,m,y,v,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[p,m]=l==="beforeChildren"?[i,o]:[o,i];return p().then(()=>m())}else return Promise.all([i(),o(n.delay)])}function tq(t,e,n=0,r=0,s=0,i=1,o){const l=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),l.push(M2(d,e,{...o,delay:n+(typeof r=="function"?0:r)+Yk(t.variantChildren,d,r,s,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(l)}function nq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>M2(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=M2(t,e,n);else{const s=typeof e=="function"?df(t,e,n.custom):e;r=Promise.all(Kk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Xk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rq=W_.length;function Qk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Qk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rq;n++){const r=W_[n],s=t.props[r];(Mm(s)||s===!1)&&(e[r]=s)}return e}const sq=[...H_].reverse(),iq=H_.length;function oq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nq(t,n,r)))}function aq(t){let e=oq(t),n=K5(),r=!0;const s=d=>(p,m)=>{var v;const y=df(t,m,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:S,transitionEnd:C,...k}=y;p={...p,...k,...C}}return p};function i(d){e=d(t)}function o(d){const{props:p}=t,m=Qk(t.parent)||{},y=[],v=new Set;let S={},C=1/0;for(let P=0;P<iq;P++){const M=sq[P],j=n[M],D=p[M]!==void 0?p[M]:m[M],V=Mm(D),G=M===d?j.isActive:null;G===!1&&(C=P);let J=D===m[M]&&D!==p[M]&&V;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),j.protectedKeys={...S},!j.isActive&&G===null||!D&&!j.prevProp||T1(D)||typeof D=="boolean")continue;const B=lq(j.prevProp,D);let R=B||M===d&&j.isActive&&!J&&V||P>C&&V,F=!1;const z=Array.isArray(D)?D:[D];let H=z.reduce(s(M),{});G===!1&&(H={});const{prevResolvedValues:$={}}=j,U={...$,...H},ie=ne=>{R=!0,v.has(ne)&&(F=!0,v.delete(ne)),j.needsAnimating[ne]=!0;const K=t.getValue(ne);K&&(K.liveStyle=!1)};for(const ne in U){const K=H[ne],te=$[ne];if(S.hasOwnProperty(ne))continue;let Q=!1;j2(K)&&j2(te)?Q=!Xk(K,te):Q=K!==te,Q?K!=null?ie(ne):v.add(ne):K!==void 0&&v.has(ne)?ie(ne):j.protectedKeys[ne]=!0}j.prevProp=D,j.prevResolvedValues=H,j.isActive&&(S={...S,...H}),r&&t.blockInitialAnimation&&(R=!1);const de=J&&B;R&&(!de||F)&&y.push(...z.map(ne=>{const K={type:M};if(typeof ne=="string"&&r&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,Q=df(te,ne);if(te.enteringChildren&&Q){const{delayChildren:q}=Q.transition||{};K.delay=Yk(te.enteringChildren,t,q)}}return{animation:ne,options:K}}))}if(v.size){const P={};if(typeof p.initial!="boolean"){const M=df(t,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(P.transition=M.transition)}v.forEach(M=>{const j=t.getBaseTarget(M),D=t.getValue(M);D&&(D.liveStyle=!0),P[M]=j??null}),y.push({animation:P})}let k=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(y):Promise.resolve()}function l(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(d,p)}),n[d].isActive=p;const m=o(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=K5()}}}function lq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xk(e,t):!1}function pd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K5(){return{animate:pd(!0),whileInView:pd(),whileHover:pd(),whileTap:pd(),whileDrag:pd(),whileFocus:pd(),exit:pd()}}class gu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cq extends gu{constructor(e){super(e),e.animationState||(e.animationState=aq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();T1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uq=0;class dq extends gu{constructor(){super(...arguments),this.id=uq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hq={animation:{Feature:cq},exit:{Feature:dq}};function Om(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function cg(t){return{point:{x:t.pageX,y:t.pageY}}}const fq=t=>e=>U_(e)&&t(e,cg(e));function hm(t,e,n,r){return Om(t,e,fq(n),r)}const Jk=1e-4,pq=1-Jk,mq=1+Jk,Zk=.01,gq=0-Zk,yq=0+Zk;function Vs(t){return t.max-t.min}function vq(t,e,n){return Math.abs(t-e)<=n}function Y5(t,e,n,r=.5){t.origin=r,t.originPoint=On(e.min,e.max,t.origin),t.scale=Vs(n)/Vs(e),t.translate=On(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pq&&t.scale<=mq||isNaN(t.scale))&&(t.scale=1),(t.translate>=gq&&t.translate<=yq||isNaN(t.translate))&&(t.translate=0)}function fm(t,e,n,r){Y5(t.x,e.x,n.x,r?r.originX:void 0),Y5(t.y,e.y,n.y,r?r.originY:void 0)}function X5(t,e,n){t.min=n.min+e.min,t.max=t.min+Vs(e)}function xq(t,e,n){X5(t.x,e.x,n.x),X5(t.y,e.y,n.y)}function Q5(t,e,n){t.min=e.min-n.min,t.max=t.min+Vs(e)}function Ly(t,e,n){Q5(t.x,e.x,n.x),Q5(t.y,e.y,n.y)}function Fi(t){return[t("x"),t("y")]}const eP=({current:t})=>t?t.ownerDocument.defaultView:null,J5=(t,e)=>Math.abs(t-e);function wq(t,e){const n=J5(t.x,e.x),r=J5(t.y,e.y);return Math.sqrt(n**2+r**2)}class tP{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hx(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=wq(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:k}=v,{timestamp:P}=Zr;this.history.push({...k,timestamp:P});const{onStart:M,onMove:j}=this.handlers;S||(M&&M(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=dx(S,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=hx(v.type==="pointercancel"?this.lastMoveEventInfo:dx(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,M),k&&k(v,M)},!U_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=cg(e),d=dx(l,this.transformPagePoint),{point:p}=d,{timestamp:m}=Zr;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,hx(d,this.history)),this.removeListeners=og(hm(this.contextWindow,"pointermove",this.handlePointerMove),hm(this.contextWindow,"pointerup",this.handlePointerUp),hm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uu(this.updatePoint)}}function dx(t,e){return e?{point:e(t.point)}:t}function Z5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hx({point:t},e){return{point:t,delta:Z5(t,nP(e)),offset:Z5(t,_q(e)),velocity:bq(e,.1)}}function _q(t){return t[0]}function nP(t){return t[t.length-1]}function bq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=nP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ia(e)));)n--;if(!r)return{x:0,y:0};const i=$i(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?On(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?On(n,t,r.max):Math.min(t,n)),t}function e3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Eq(t,{top:e,left:n,bottom:r,right:s}){return{x:e3(t.x,n,s),y:e3(t.y,e,r)}}function t3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cq(t,e){return{x:t3(t.x,e.x),y:t3(t.y,e.y)}}function Tq(t,e){let n=.5;const r=Vs(t),s=Vs(e);return s>r?n=Im(e.min,e.max-r,t.min):r>s&&(n=Im(t.min,t.max-s,e.min)),Ll(0,1,n)}function Nq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const O2=.35;function kq(t=O2){return t===!1?t=0:t===!0&&(t=O2),{x:n3(t,"left","right"),y:n3(t,"top","bottom")}}function n3(t,e,n){return{min:r3(t,e),max:r3(t,n)}}function r3(t,e){return typeof t=="number"?t:t[e]||0}const Pq=new WeakMap;class Rq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cg(y).point)},o=(y,v)=>{const{drag:S,dragPropagation:C,onDragStart:k}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OW(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(M=>{let j=this.getAxisMotionValue(M).get()||0;if(ja.test(j)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[M];V&&(j=Vs(V)*(parseFloat(j)/100))}}this.originPoint[M]=j}),k&&Nn.postRender(()=>k(y,v)),D2(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:k,onDrag:P}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:M}=v;if(C&&this.currentDirection===null){this.currentDirection=Aq(M),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),P&&P(y,v)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Fi(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new tP(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:eP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Nn.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!T0(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Sq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&tf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Eq(r.layoutBox,e):this.constraints=!1,this.elastic=kq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Nq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tf(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=IG(r,s.root,this.visualElement.getTransformPagePoint());let o=Cq(s.layout.layoutBox,i);if(n){const l=n(PG(o));this.hasMutatedConstraints=!!l,l&&(o=Fk(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},p=Fi(m=>{if(!T0(m,n,this.currentDirection))return;let y=d&&d[m]||{};o&&(y={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...i,...y};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return D2(this.visualElement,e),r.start(J_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fi(n=>{const{drag:r}=this.getProps();if(!T0(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-On(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();s[o]=Tq({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fi(o=>{if(!T0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:d,max:p}=this.constraints[o];l.set(On(d,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;Pq.set(this.visualElement,this);const e=this.visualElement.current,n=hm(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();tf(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nn.read(r);const o=Om(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fi(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=O2,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function T0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Aq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Iq extends gu{constructor(e){super(e),this.removeGroupControls=Hi,this.removeListeners=Hi,this.controls=new Rq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const s3=t=>(e,n)=>{t&&Nn.postRender(()=>t(e,n))};class jq extends gu{constructor(){super(...arguments),this.removePointerDownListener=Hi}onPointerDown(e){this.session=new tP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:s3(e),onStart:s3(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Nn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fx=!1;class Dq extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),fx&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,fx=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Nn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),B_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;fx=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rP(t){const[e,n]=Ck(),r=b.useContext(w_);return h.jsx(Dq,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(Lk),isPresent:e,safeToRemove:n})}function Mq(t,e,n){const r=ys(t)?t:bf(t);return r.start(J_("",r,e,n)),r.animation}const Oq=(t,e)=>t.depth-e.depth;class Lq{constructor(){this.children=[],this.isDirty=!1}add(e){S_(this.children,e),this.isDirty=!0}remove(e){E_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oq),this.isDirty=!1,this.children.forEach(e)}}function Vq(t,e){const n=ei.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(uu(r),t(i-e))};return Nn.setup(r,!0),()=>uu(r)}const sP=["TopLeft","TopRight","BottomLeft","BottomRight"],Fq=sP.length,i3=t=>typeof t=="string"?parseFloat(t):t,o3=t=>typeof t=="number"||pt.test(t);function zq(t,e,n,r,s,i){s?(t.opacity=On(0,n.opacity??1,Bq(r)),t.opacityExit=On(e.opacity??1,0,Uq(r))):i&&(t.opacity=On(e.opacity??1,n.opacity??1,r));for(let o=0;o<Fq;o++){const l=`border${sP[o]}Radius`;let d=a3(e,l),p=a3(n,l);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||o3(d)===o3(p)?(t[l]=Math.max(On(i3(d),i3(p),r),0),(ja.test(p)||ja.test(d))&&(t[l]+="%")):t[l]=p}(e.rotate||n.rotate)&&(t.rotate=On(e.rotate||0,n.rotate||0,r))}function a3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bq=iP(0,.5,HN),Uq=iP(.5,.95,Hi);function iP(t,e,n){return r=>r<t?0:r>e?1:n(Im(t,e,r))}function l3(t,e){t.min=e.min,t.max=e.max}function xo(t,e){l3(t.x,e.x),l3(t.y,e.y)}function c3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function u3(t,e,n,r,s){return t-=e,t=Oy(t,1/n,r),s!==void 0&&(t=Oy(t,1/s,r)),t}function $q(t,e=0,n=1,r=.5,s,i=t,o=t){if(ja.test(e)&&(e=parseFloat(e),e=On(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=On(i.min,i.max,r);t===i&&(l-=e),t.min=u3(t.min,e,n,l,s),t.max=u3(t.max,e,n,l,s)}function d3(t,e,[n,r,s],i,o){$q(t,e[n],e[r],e[s],e.scale,i,o)}const Hq=["x","scaleX","originX"],Wq=["y","scaleY","originY"];function h3(t,e,n,r){d3(t.x,e,Hq,n?n.x:void 0,r?r.x:void 0),d3(t.y,e,Wq,n?n.y:void 0,r?r.y:void 0)}function f3(t){return t.translate===0&&t.scale===1}function oP(t){return f3(t.x)&&f3(t.y)}function p3(t,e){return t.min===e.min&&t.max===e.max}function Gq(t,e){return p3(t.x,e.x)&&p3(t.y,e.y)}function m3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aP(t,e){return m3(t.x,e.x)&&m3(t.y,e.y)}function g3(t){return Vs(t.x)/Vs(t.y)}function y3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qq{constructor(){this.members=[]}add(e){S_(this.members,e),e.scheduleRender()}remove(e){if(E_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kq(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:v,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const px=["","X","Y","Z"],Yq=1e3;let Xq=0;function mx(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function lP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&lP(r)}function cP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Xq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zq),this.nodes.forEach(rK),this.nodes.forEach(sK),this.nodes.forEach(eK)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lq)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ek(o)&&!UW(o),this.instance=o;const{layoutId:l,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let m,y=0;const v=()=>this.root.updateBlockedByResize=!1;Nn.read(()=>{y=window.innerWidth}),t(o,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,m&&m(),m=Vq(v,250),ny.hasAnimatedSinceResize&&(ny.hasAnimatedSinceResize=!1,this.nodes.forEach(w3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&p&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||cK,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=p.getProps(),M=!this.targetLayout||!aP(this.targetLayout,S),j=!y&&v;if(this.options.layoutRoot||this.resumeFrom||j||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...F_(C,"layout"),onPlay:k,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,j)}else y||w3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(x3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nK),this.nodes.forEach(Qq),this.nodes.forEach(Jq)):this.nodes.forEach(x3),this.clearAllSnapshots();const l=ei.now();Zr.delta=Ll(0,1e3/60,l-Zr.timestamp),Zr.timestamp=l,Zr.isProcessing=!0,rx.update.process(Zr),rx.preRender.process(Zr),rx.render.process(Zr),Zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,B_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tK),this.sharedNodes.forEach(oK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vs(this.snapshot.measuredBox.x)&&!Vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oP(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(l||yd(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),uK(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:o}=this.options;if(!o)return Cr();const l=o.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(dK))){const{scroll:m}=this.root;m&&(nf(l.x,m.offset.x),nf(l.y,m.offset.y))}return l}removeElementScroll(o){var d;const l=Cr();if(xo(l,o),(d=this.scroll)!=null&&d.wasRoot)return l;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&xo(l,o),nf(l.x,y.offset.x),nf(l.y,y.offset.y))}return l}applyTransform(o,l=!1){const d=Cr();xo(d,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&rf(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),yd(m.latestValues)&&rf(d,m.latestValues)}return yd(this.latestValues)&&rf(d,this.latestValues),d}removeTransform(o){const l=Cr();xo(l,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!yd(p.latestValues))continue;R2(p.latestValues)&&p.updateSnapshot();const m=Cr(),y=p.measurePageBox();xo(m,y),h3(l,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return yd(this.latestValues)&&h3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var S;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=Zr.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),Bk(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||R2(this.parent.latestValues)||zk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Ly(this.relativeTargetOrigin,l,d),xo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zr.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;xo(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;AG(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Cr());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c3(this.prevProjectionDelta.x,this.projectionDelta.x),c3(this.prevProjectionDelta.y,this.projectionDelta.y)),fm(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!y3(this.projectionDelta.x,this.prevProjectionDelta.x)||!y3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sf(),this.projectionDelta=sf(),this.projectionDeltaWithTransform=sf()}setAnimationOrigin(o,l=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},y=sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Cr(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,k=S!==C,P=this.getStack(),M=!P||P.members.length<=1,j=!!(k&&!M&&this.options.crossfade===!0&&!this.path.some(lK));this.animationProgress=0;let D;this.mixTargetDelta=V=>{const G=V/1e3;_3(y.x,o.x,G),_3(y.y,o.y,G),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ly(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aK(this.relativeTarget,this.relativeTargetOrigin,v,G),D&&Gq(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Cr()),xo(D,this.relativeTarget)),k&&(this.animationValues=m,zq(m,p,this.latestValues,G,j,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,d,p;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(uu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{ny.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bf(0)),this.currentAnimation=Mq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:p,latestValues:m}=o;if(!(!l||!d||!p)){if(this!==o&&this.layout&&p&&uP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Cr();const y=Vs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+y;const v=Vs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+v}xo(l,d),rf(l,m),fm(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qq),this.sharedNodes.get(o).add(l);const p=l.options.initialPromotionConfig;l.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const p={};d.z&&mx("z",o,p,this.animationValues);for(let m=0;m<px.length;m++)mx(`rotate${px[m]}`,o,p,this.animationValues),mx(`skew${px[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ty(l==null?void 0:l.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ty(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!yd(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=Kq(this.projectionDeltaWithTransform,this.treeScale,m);d&&(y=d(m,y)),o.transform=y;const{x:v,y:S}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,p.animationValues?o.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in P2){if(m[C]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:M}=P2[C],j=y==="none"?m[C]:k(m[C],p);if(P){const D=P.length;for(let V=0;V<D;V++)o[P[V]]=j}else M?this.options.visualElement.renderState.vars[C]=j:o[C]=j}this.options.layoutId&&(o.pointerEvents=p===this?ty(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(v3),this.root.sharedNodes.clear()}}}function Qq(t){t.updateLayout()}function Jq(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Fi(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],S=Vs(v);v.min=r[y].min,v.max=v.min+S}):uP(i,e.layoutBox,r)&&Fi(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],S=Vs(r[y]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const l=sf();fm(l,r,e.layoutBox);const d=sf();o?fm(d,t.applyTransform(s,!0),e.measuredBox):fm(d,r,e.layoutBox);const p=!oP(l);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const C=Cr();Ly(C,e.layoutBox,v.layoutBox);const k=Cr();Ly(k,r,S.layoutBox),aP(C,k)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tK(t){t.clearSnapshot()}function v3(t){t.clearMeasurements()}function x3(t){t.isLayoutDirty=!1}function nK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rK(t){t.resolveTargetDelta()}function sK(t){t.calcProjection()}function iK(t){t.resetSkewAndRotation()}function oK(t){t.removeLeadSnapshot()}function _3(t,e,n){t.translate=On(e.translate,0,n),t.scale=On(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function b3(t,e,n,r){t.min=On(e.min,n.min,r),t.max=On(e.max,n.max,r)}function aK(t,e,n,r){b3(t.x,e.x,n.x,r),b3(t.y,e.y,n.y,r)}function lK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cK={duration:.45,ease:[.4,0,.1,1]},S3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),E3=S3("applewebkit/")&&!S3("chrome/")?Math.round:Hi;function C3(t){t.min=E3(t.min),t.max=E3(t.max)}function uK(t){C3(t.x),C3(t.y)}function uP(t,e,n){return t==="position"||t==="preserve-aspect"&&!vq(g3(e),g3(n),.2)}function dK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hK=cP({attachResizeListener:(t,e)=>Om(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gx={current:void 0},dP=cP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gx.current){const t=new hK({});t.mount(window),t.setOptions({layoutScroll:!0}),gx.current=t}return gx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fK={pan:{Feature:jq},drag:{Feature:Iq,ProjectionNode:dP,MeasureLayout:rP}};function T3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Nn.postRender(()=>i(e,cg(e)))}class pK extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=LW(e,(n,r)=>(T3(this.node,r,"Start"),s=>T3(this.node,s,"End"))))}unmount(){}}class mK extends gu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=og(Om(this.node.current,"focus",()=>this.onFocus()),Om(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Nn.postRender(()=>i(e,cg(e)))}class gK extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=BW(e,(n,r)=>(N3(this.node,r,"Start"),(s,{success:i})=>N3(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const L2=new WeakMap,yx=new WeakMap,yK=t=>{const e=L2.get(t.target);e&&e(t)},vK=t=>{t.forEach(yK)};function xK({root:t,...e}){const n=t||document;yx.has(n)||yx.set(n,{});const r=yx.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(vK,{root:t,...e})),r[s]}function wK(t,e,n){const r=xK(e);return L2.set(t,n),r.observe(t),()=>{L2.delete(t),r.unobserve(t)}}const _K={some:0,all:1};class bK extends gu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_K[s]},l=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,i&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=p?m:y;v&&v(d)};return wK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SK(e,n))&&this.startObserver()}unmount(){}}function SK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EK={inView:{Feature:bK},tap:{Feature:gK},focus:{Feature:mK},hover:{Feature:pK}},CK={layout:{ProjectionNode:dP,MeasureLayout:rP}},TK={...hq,...EK,...fK,...CK},Ee=kG(TK,BG);function NK(){const{getTotalItems:t}=Lf(),[e,n]=b.useState(0),[r,s]=b.useState(0);b.useEffect(()=>{const o=t();s(e),n(o)},[t()]);const i=e>r;return h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(mr,{to:Mn("Cart"),children:h.jsxs(Ke,{variant:"ghost",className:"flex items-center gap-2 text-slate-600 hover:bg-amber-100 hover:text-amber-700 relative group rounded-full px-4",children:[h.jsxs(Ee.div,{whileHover:{scale:1.1,rotate:[0,-10,10,0]},whileTap:{scale:.95},className:"relative",animate:i?{scale:[1,1.3,1],rotate:[0,-15,15,0]}:{},transition:{duration:.5},children:[h.jsx(y1,{className:"h-5 w-5"}),h.jsx(mu,{children:e>0&&h.jsx(Ee.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-2 -right-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-lg ring-2 ring-white",children:e})})]}),h.jsx("span",{className:"hidden sm:inline font-medium",children:" "})]})})})}let kK={data:""},PK=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||kK},RK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AK=/\/\*[^]*?\*\/|  +/g,k3=/\n+/g,Wc=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Wc(o,i):i+"{"+Wc(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Wc(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Wc.p?Wc.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},El={},hP=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+hP(t[n]);return e}return t},IK=(t,e,n,r,s)=>{let i=hP(t),o=El[i]||(El[i]=(d=>{let p=0,m=11;for(;p<d.length;)m=101*m+d.charCodeAt(p++)>>>0;return"go"+m})(i));if(!El[o]){let d=i!==t?t:(p=>{let m,y,v=[{}];for(;m=RK.exec(p.replace(AK,""));)m[4]?v.shift():m[3]?(y=m[3].replace(k3," ").trim(),v.unshift(v[0][y]=v[0][y]||{})):v[0][m[1]]=m[2].replace(k3," ").trim();return v[0]})(t);El[o]=Wc(s?{["@keyframes "+o]:d}:d,n?"":"."+o)}let l=n&&El.g?El.g:null;return n&&(El.g=El[o]),((d,p,m,y)=>{y?p.data=p.data.replace(y,d):p.data.indexOf(d)===-1&&(p.data=m?d+p.data:p.data+d)})(El[o],e,r,l),o},jK=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":Wc(l,""):l===!1?"":l}return r+s+(o??"")},"");function k1(t){let e=this||{},n=t.call?t(e.p):t;return IK(n.unshift?n.raw?jK(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,PK(e.target),e.g,e.o,e.k)}let fP,V2,F2;k1.bind({g:1});let Fl=k1.bind({k:1});function DK(t,e,n,r){Wc.p=e,fP=t,V2=n,F2=r}function yu(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),d=l.className||s.className;n.p=Object.assign({theme:V2&&V2()},l),n.o=/ *go\d+/.test(d),l.className=k1.apply(n,r)+(d?" "+d:"");let p=t;return t[0]&&(p=l.as||t,delete l.as),F2&&p[0]&&F2(l),fP(p,l)}return s}}var MK=t=>typeof t=="function",Vy=(t,e)=>MK(t)?t(e):t,OK=(()=>{let t=0;return()=>(++t).toString()})(),pP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),LK=20,Z_="default",mP=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return mP(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},ry=[],gP={toasts:[],pausedAt:void 0,settings:{toastLimit:LK}},Ta={},yP=(t,e=Z_)=>{Ta[e]=mP(Ta[e]||gP,t),ry.forEach(([n,r])=>{n===e&&r(Ta[e])})},vP=t=>Object.keys(Ta).forEach(e=>yP(t,e)),VK=t=>Object.keys(Ta).find(e=>Ta[e].toasts.some(n=>n.id===t)),P1=(t=Z_)=>e=>{yP(e,t)},FK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zK=(t={},e=Z_)=>{let[n,r]=b.useState(Ta[e]||gP),s=b.useRef(Ta[e]);b.useEffect(()=>(s.current!==Ta[e]&&r(Ta[e]),ry.push([e,r]),()=>{let o=ry.findIndex(([l])=>l===e);o>-1&&ry.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var l,d,p;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||FK[o.type],style:{...t.style,...(p=t[o.type])==null?void 0:p.style,...o.style}}});return{...n,toasts:i}},BK=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||OK()}),ug=t=>(e,n)=>{let r=BK(e,t,n);return P1(r.toasterId||VK(r.id))({type:2,toast:r}),r.id},Tr=(t,e)=>ug("blank")(t,e);Tr.error=ug("error");Tr.success=ug("success");Tr.loading=ug("loading");Tr.custom=ug("custom");Tr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?P1(e)(n):vP(n)};Tr.dismissAll=t=>Tr.dismiss(void 0,t);Tr.remove=(t,e)=>{let n={type:4,toastId:t};e?P1(e)(n):vP(n)};Tr.removeAll=t=>Tr.remove(void 0,t);Tr.promise=(t,e,n)=>{let r=Tr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Vy(e.success,s):void 0;return i?Tr.success(i,{id:r,...n,...n==null?void 0:n.success}):Tr.dismiss(r),s}).catch(s=>{let i=e.error?Vy(e.error,s):void 0;i?Tr.error(i,{id:r,...n,...n==null?void 0:n.error}):Tr.dismiss(r)}),t};var UK=1e3,$K=(t,e="default")=>{let{toasts:n,pausedAt:r}=zK(t,e),s=b.useRef(new Map).current,i=b.useCallback((y,v=UK)=>{if(s.has(y))return;let S=setTimeout(()=>{s.delete(y),o({type:4,toastId:y})},v);s.set(y,S)},[]);b.useEffect(()=>{if(r)return;let y=Date.now(),v=n.map(S=>{if(S.duration===1/0)return;let C=(S.duration||0)+S.pauseDuration-(y-S.createdAt);if(C<0){S.visible&&Tr.dismiss(S.id);return}return setTimeout(()=>Tr.dismiss(S.id,e),C)});return()=>{v.forEach(S=>S&&clearTimeout(S))}},[n,r,e]);let o=b.useCallback(P1(e),[e]),l=b.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=b.useCallback((y,v)=>{o({type:1,toast:{id:y,height:v}})},[o]),p=b.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=b.useCallback((y,v)=>{let{reverseOrder:S=!1,gutter:C=8,defaultPosition:k}=v||{},P=n.filter(D=>(D.position||k)===(y.position||k)&&D.height),M=P.findIndex(D=>D.id===y.id),j=P.filter((D,V)=>V<M&&D.visible).length;return P.filter(D=>D.visible).slice(...S?[j+1]:[0,j]).reduce((D,V)=>D+(V.height||0)+C,0)},[n]);return b.useEffect(()=>{n.forEach(y=>{if(y.dismissed)i(y.id,y.removeDelay);else{let v=s.get(y.id);v&&(clearTimeout(v),s.delete(y.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:d,startPause:l,endPause:p,calculateOffset:m}}},HK=Fl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WK=Fl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GK=Fl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qK=yu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${GK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KK=Fl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,YK=yu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${KK} 1s linear infinite;
`,XK=Fl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,QK=Fl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JK=yu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${QK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ZK=yu("div")`
  position: absolute;
`,eY=yu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tY=Fl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nY=yu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tY} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rY=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(nY,null,e):e:n==="blank"?null:b.createElement(eY,null,b.createElement(YK,{...r}),n!=="loading"&&b.createElement(ZK,null,n==="error"?b.createElement(qK,{...r}):b.createElement(JK,{...r})))},sY=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iY=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oY="0%{opacity:0;} 100%{opacity:1;}",aY="0%{opacity:1;} 100%{opacity:0;}",lY=yu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cY=yu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uY=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=pP()?[oY,aY]:[sY(n),iY(n)];return{animation:e?`${Fl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dY=b.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?uY(t.position||e||"top-center",t.visible):{opacity:0},i=b.createElement(rY,{toast:t}),o=b.createElement(cY,{...t.ariaProps},Vy(t.message,t));return b.createElement(lY,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});DK(b.createElement);var hY=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;r(t,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:i,className:e,style:n},s)},fY=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},pY=k1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,N0=16,z2=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:p}=$K(n,i);return b.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:N0,left:N0,right:N0,bottom:N0,pointerEvents:"none",...o},className:l,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(m=>{let y=m.position||e,v=p.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),S=fY(y,v);return b.createElement(hY,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?pY:"",style:S},m.type==="custom"?Vy(m.message,m):s?s(m):b.createElement(dY,{toast:m,position:y}))}))},gi=Tr;function mY(){const[t,e]=b.useState(!1),[n,r]=b.useState(!0),[s,i]=b.useState({fontSize:100,highContrast:!1,highlightLinks:!1,pauseAnimations:!1,readingMode:!1,keyboardNav:!0,cursorSize:"normal"});b.useEffect(()=>{const S=localStorage.getItem("accessibility-settings");if(S)try{i(JSON.parse(S))}catch(k){console.error("Failed to load accessibility settings:",k)}sessionStorage.getItem("accessibility-button-hidden")&&r(!1)},[]);const o=S=>{S.stopPropagation(),r(!1),sessionStorage.setItem("accessibility-button-hidden","true")};b.useEffect(()=>{localStorage.setItem("accessibility-settings",JSON.stringify(s)),l()},[s]);const l=()=>{const S=document.documentElement;S.style.fontSize=`${s.fontSize}%`,s.highContrast?S.classList.add("high-contrast"):S.classList.remove("high-contrast"),s.highlightLinks?S.classList.add("highlight-links"):S.classList.remove("highlight-links"),s.pauseAnimations?S.classList.add("pause-animations"):S.classList.remove("pause-animations"),s.readingMode?S.classList.add("reading-mode"):S.classList.remove("reading-mode"),S.setAttribute("data-cursor-size",s.cursorSize)},d=()=>{i(S=>({...S,fontSize:Math.min(S.fontSize+10,150)}))},p=()=>{i(S=>({...S,fontSize:Math.max(S.fontSize-10,80)}))},m=S=>{i(C=>({...C,[S]:!C[S]}))},y=()=>{i({fontSize:100,highContrast:!1,highlightLinks:!1,pauseAnimations:!1,readingMode:!1,keyboardNav:!0,cursorSize:"normal"})},v=S=>{i(C=>({...C,cursorSize:S}))};return h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        /*   */
        .high-contrast {
          filter: contrast(150%) brightness(1.1);
        }
        
        .high-contrast * {
          border-color: #000 !important;
        }

        /*   */
        .highlight-links a {
          background-color: #ffff00 !important;
          color: #000 !important;
          text-decoration: underline !important;
          padding: 2px 4px !important;
        }

        /*   */
        .pause-animations *,
        .pause-animations *::before,
        .pause-animations *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }

        /*   */
        .reading-mode {
          line-height: 1.8 !important;
          letter-spacing: 0.05em !important;
        }

        .reading-mode p {
          margin-bottom: 1.5em !important;
        }

        /*   */
        [data-cursor-size="large"] * {
          cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M2 2 L2 28 L12 20 L16 28 L20 26 L16 18 L26 18 Z" fill="black" stroke="white" stroke-width="1"/></svg>') 0 0, auto !important;
        }

        [data-cursor-size="xlarge"] * {
          cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path d="M3 3 L3 42 L18 30 L24 42 L30 39 L24 27 L39 27 Z" fill="black" stroke="white" stroke-width="2"/></svg>') 0 0, auto !important;
        }

        /* focus visible */
        *:focus-visible {
          outline: 3px solid #0066cc !important;
          outline-offset: 2px !important;
        }

        /*    */
        .accessibility-button {
          position: fixed;
          left: 20px;
          top: 50%;
          transform: translateY(-50%);
          z-index: 9999;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        @media (max-width: 768px) {
          .accessibility-button {
            bottom: 20px;
            top: auto;
            left: 20px;
            transform: none;
          }
        }
      `}),h.jsx(mu,{children:n&&h.jsx(Ee.div,{className:"accessibility-button group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20,scale:.8},transition:{delay:1},children:h.jsxs("div",{className:"relative",children:[h.jsx(Ke,{onClick:()=>e(!0),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-transform hover:scale-105","aria-label":"  ",title:" ",children:h.jsx(Z4,{className:"h-5 w-5"})}),h.jsx("button",{onClick:o,className:"absolute -top-1 -right-1 bg-slate-500 hover:bg-slate-600 text-white rounded-full w-4 h-4 flex items-center justify-center shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",title:" ",children:h.jsx(Id,{className:"h-2.5 w-2.5"})})]})})}),h.jsx(cu,{open:t,onOpenChange:e,children:h.jsxs(Dl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[h.jsx(Ml,{children:h.jsxs(Ol,{className:"text-2xl font-bold flex items-center gap-3",children:[h.jsx(Z4,{className:"h-6 w-6 text-blue-600"}),h.jsx("span",{children:"  -  5568"})]})}),h.jsxs("div",{className:"space-y-6 py-4",children:[h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:"        5568     AA.        ."})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[h.jsx(YT,{className:"h-5 w-5 text-blue-600"}),h.jsx("span",{children:" "})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs(Ke,{onClick:p,disabled:s.fontSize<=80,variant:"outline",className:"flex items-center gap-2","aria-label":" ",children:[h.jsx(sU,{className:"h-4 w-4"}),h.jsx("span",{children:""})]}),h.jsx("div",{className:"flex-1 text-center",children:h.jsxs("span",{className:"text-lg font-semibold",children:[s.fontSize,"%"]})}),h.jsxs(Ke,{onClick:d,disabled:s.fontSize>=150,variant:"outline",className:"flex items-center gap-2","aria-label":" ",children:[h.jsx(nU,{className:"h-4 w-4"}),h.jsx("span",{children:""})]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold",children:" "}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsx("button",{onClick:()=>m("highContrast"),className:`p-4 rounded-lg border-2 transition-all text-right ${s.highContrast?"bg-blue-100 border-blue-500":"bg-white border-slate-200 hover:border-slate-300"}`,"aria-pressed":s.highContrast,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(kz,{className:"h-5 w-5 text-slate-700"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800",children:" "}),h.jsx("p",{className:"text-xs text-slate-600",children:"  "})]})]})}),h.jsx("button",{onClick:()=>m("highlightLinks"),className:`p-4 rounded-lg border-2 transition-all text-right ${s.highlightLinks?"bg-blue-100 border-blue-500":"bg-white border-slate-200 hover:border-slate-300"}`,"aria-pressed":s.highlightLinks,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Wz,{className:"h-5 w-5 text-slate-700"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800",children:" "}),h.jsx("p",{className:"text-xs text-slate-600",children:"   "})]})]})}),h.jsx("button",{onClick:()=>m("pauseAnimations"),className:`p-4 rounded-lg border-2 transition-all text-right ${s.pauseAnimations?"bg-blue-100 border-blue-500":"bg-white border-slate-200 hover:border-slate-300"}`,"aria-pressed":s.pauseAnimations,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(lB,{className:"h-5 w-5 text-slate-700"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800",children:" "}),h.jsx("p",{className:"text-xs text-slate-600",children:"  "})]})]})}),h.jsx("button",{onClick:()=>m("readingMode"),className:`p-4 rounded-lg border-2 transition-all text-right ${s.readingMode?"bg-blue-100 border-blue-500":"bg-white border-slate-200 hover:border-slate-300"}`,"aria-pressed":s.readingMode,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(oz,{className:"h-5 w-5 text-slate-700"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800",children:" "}),h.jsx("p",{className:"text-xs text-slate-600",children:"  "})]})]})})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[h.jsx(WT,{className:"h-5 w-5 text-blue-600"}),h.jsx("span",{children:"  "})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ke,{onClick:()=>v("normal"),variant:s.cursorSize==="normal"?"default":"outline",className:"flex-1",children:""}),h.jsx(Ke,{onClick:()=>v("large"),variant:s.cursorSize==="large"?"default":"outline",className:"flex-1",children:""}),h.jsx(Ke,{onClick:()=>v("xlarge"),variant:s.cursorSize==="xlarge"?"default":"outline",className:"flex-1",children:" "})]})]}),h.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-3",children:" "}),h.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:" "}),h.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-300 rounded text-xs",children:"Tab"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:" "}),h.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-300 rounded text-xs",children:"Shift + Tab"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:" "}),h.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-300 rounded text-xs",children:"Enter / Space"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:" "}),h.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-300 rounded text-xs",children:"Esc"})]})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[h.jsxs(Ke,{onClick:y,variant:"outline",className:"flex-1 flex items-center justify-center gap-2",children:[h.jsx(xB,{className:"h-4 w-4"}),h.jsx("span",{children:" "})]}),h.jsx(Ke,{onClick:()=>e(!1),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:h.jsx("span",{children:""})})]}),h.jsxs("div",{className:"text-center text-sm text-slate-600 pt-4 border-t border-slate-200",children:[h.jsx("p",{children:"  ?"}),h.jsx("a",{href:"mailto:blocklick1@gmail.com",className:"text-blue-600 hover:underline font-semibold",children:" : blocklick1@gmail.com"})]})]})]})})]})}function P3(t){const e=gY(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),d=l.find(vY);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function gY(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=wY(s),l=xY(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yY=Symbol("radix.slottable");function vY(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yY}function xY(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function R1(t){const e=t+"CollectionProvider",[n,r]=jo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=k=>{const{scope:P,children:M}=k,j=Et.useRef(null),D=Et.useRef(new Map).current;return h.jsx(s,{scope:P,itemMap:D,collectionRef:j,children:M})};o.displayName=e;const l=t+"CollectionSlot",d=P3(l),p=Et.forwardRef((k,P)=>{const{scope:M,children:j}=k,D=i(l,M),V=bt(P,D.collectionRef);return h.jsx(d,{ref:V,children:j})});p.displayName=l;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=P3(m),S=Et.forwardRef((k,P)=>{const{scope:M,children:j,...D}=k,V=Et.useRef(null),G=bt(P,V),J=i(m,M);return Et.useEffect(()=>(J.itemMap.set(V,{ref:V,...D}),()=>void J.itemMap.delete(V))),h.jsx(v,{[y]:"",ref:G,children:j})});S.displayName=m;function C(k){const P=i(t+"CollectionConsumer",k);return Et.useCallback(()=>{const j=P.collectionRef.current;if(!j)return[];const D=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(P.itemMap.values()).sort((J,B)=>D.indexOf(J.ref.current)-D.indexOf(B.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:o,Slot:p,ItemSlot:S},C,r]}var _Y=b.createContext(void 0);function dg(t){const e=b.useContext(_Y);return t||e||"ltr"}const bY=["top","right","bottom","left"],hu=Math.min,mi=Math.max,Fy=Math.round,k0=Math.floor,Da=t=>({x:t,y:t}),SY={left:"right",right:"left",bottom:"top",top:"bottom"},EY={start:"end",end:"start"};function B2(t,e,n){return mi(t,hu(e,n))}function zl(t,e){return typeof t=="function"?t(e):t}function Bl(t){return t.split("-")[0]}function Bf(t){return t.split("-")[1]}function eb(t){return t==="x"?"y":"x"}function tb(t){return t==="y"?"height":"width"}const CY=new Set(["top","bottom"]);function Na(t){return CY.has(Bl(t))?"y":"x"}function nb(t){return eb(Na(t))}function TY(t,e,n){n===void 0&&(n=!1);const r=Bf(t),s=nb(t),i=tb(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=zy(o)),[o,zy(o)]}function NY(t){const e=zy(t);return[U2(t),e,U2(e)]}function U2(t){return t.replace(/start|end/g,e=>EY[e])}const R3=["left","right"],A3=["right","left"],kY=["top","bottom"],PY=["bottom","top"];function RY(t,e,n){switch(t){case"top":case"bottom":return n?e?A3:R3:e?R3:A3;case"left":case"right":return e?kY:PY;default:return[]}}function AY(t,e,n,r){const s=Bf(t);let i=RY(Bl(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(U2)))),i}function zy(t){return t.replace(/left|right|bottom|top/g,e=>SY[e])}function IY(t){return{top:0,right:0,bottom:0,left:0,...t}}function xP(t){return typeof t!="number"?IY(t):{top:t,right:t,bottom:t,left:t}}function By(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function I3(t,e,n){let{reference:r,floating:s}=t;const i=Na(e),o=nb(e),l=tb(o),d=Bl(e),p=i==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,v=r[l]/2-s[l]/2;let S;switch(d){case"top":S={x:m,y:r.y-s.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y};break;case"left":S={x:r.x-s.width,y};break;default:S={x:r.x,y:r.y}}switch(Bf(e)){case"start":S[o]-=v*(n&&p?-1:1);break;case"end":S[o]+=v*(n&&p?-1:1);break}return S}const jY=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let p=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=I3(p,r,d),v=r,S={},C=0;for(let k=0;k<l.length;k++){const{name:P,fn:M}=l[k],{x:j,y:D,data:V,reset:G}=await M({x:m,y,initialPlacement:r,placement:v,strategy:s,middlewareData:S,rects:p,platform:o,elements:{reference:t,floating:e}});m=j??m,y=D??y,S={...S,[P]:{...S[P],...V}},G&&C<=50&&(C++,typeof G=="object"&&(G.placement&&(v=G.placement),G.rects&&(p=G.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):G.rects),{x:m,y}=I3(p,v,d)),k=-1)}return{x:m,y,placement:v,strategy:s,middlewareData:S}};async function Lm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:S=0}=zl(e,t),C=xP(S),P=l[v?y==="floating"?"reference":"floating":y],M=By(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(P)))==null||n?P:P.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:p,rootBoundary:m,strategy:d})),j=y==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),V=await(i.isElement==null?void 0:i.isElement(D))?await(i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},G=By(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:D,strategy:d}):j);return{top:(M.top-G.top+C.top)/V.y,bottom:(G.bottom-M.bottom+C.bottom)/V.y,left:(M.left-G.left+C.left)/V.x,right:(G.right-M.right+C.right)/V.x}}const DY=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:d}=e,{element:p,padding:m=0}=zl(t,e)||{};if(p==null)return{};const y=xP(m),v={x:n,y:r},S=nb(s),C=tb(S),k=await o.getDimensions(p),P=S==="y",M=P?"top":"left",j=P?"bottom":"right",D=P?"clientHeight":"clientWidth",V=i.reference[C]+i.reference[S]-v[S]-i.floating[C],G=v[S]-i.reference[S],J=await(o.getOffsetParent==null?void 0:o.getOffsetParent(p));let B=J?J[D]:0;(!B||!await(o.isElement==null?void 0:o.isElement(J)))&&(B=l.floating[D]||i.floating[C]);const R=V/2-G/2,F=B/2-k[C]/2-1,z=hu(y[M],F),H=hu(y[j],F),$=z,U=B-k[C]-H,ie=B/2-k[C]/2+R,de=B2($,ie,U),ue=!d.arrow&&Bf(s)!=null&&ie!==de&&i.reference[C]/2-(ie<$?z:H)-k[C]/2<0,ne=ue?ie<$?ie-$:ie-U:0;return{[S]:v[S]+ne,data:{[S]:de,centerOffset:ie-de-ne,...ue&&{alignmentOffset:ne}},reset:ue}}}),MY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...P}=zl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const M=Bl(s),j=Na(l),D=Bl(l)===l,V=await(d.isRTL==null?void 0:d.isRTL(p.floating)),G=v||(D||!k?[zy(l)]:NY(l)),J=C!=="none";!v&&J&&G.push(...AY(l,k,C,V));const B=[l,...G],R=await Lm(e,P),F=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&F.push(R[M]),y){const ie=TY(s,o,V);F.push(R[ie[0]],R[ie[1]])}if(z=[...z,{placement:s,overflows:F}],!F.every(ie=>ie<=0)){var H,$;const ie=(((H=i.flip)==null?void 0:H.index)||0)+1,de=B[ie];if(de&&(!(y==="alignment"?j!==Na(de):!1)||z.every(K=>Na(K.placement)===j?K.overflows[0]>0:!0)))return{data:{index:ie,overflows:z},reset:{placement:de}};let ue=($=z.filter(ne=>ne.overflows[0]<=0).sort((ne,K)=>ne.overflows[1]-K.overflows[1])[0])==null?void 0:$.placement;if(!ue)switch(S){case"bestFit":{var U;const ne=(U=z.filter(K=>{if(J){const te=Na(K.placement);return te===j||te==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(te=>te>0).reduce((te,Q)=>te+Q,0)]).sort((K,te)=>K[1]-te[1])[0])==null?void 0:U[0];ne&&(ue=ne);break}case"initialPlacement":ue=l;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}};function j3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function D3(t){return bY.some(e=>t[e]>=0)}const OY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zl(t,e);switch(r){case"referenceHidden":{const i=await Lm(e,{...s,elementContext:"reference"}),o=j3(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:D3(o)}}}case"escaped":{const i=await Lm(e,{...s,altBoundary:!0}),o=j3(i,n.floating);return{data:{escapedOffsets:o,escaped:D3(o)}}}default:return{}}}}},wP=new Set(["left","top"]);async function LY(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Bl(n),l=Bf(n),d=Na(n)==="y",p=wP.has(o)?-1:1,m=i&&d?-1:1,y=zl(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return l&&typeof C=="number"&&(S=l==="end"?C*-1:C),d?{x:S*m,y:v*p}:{x:v*p,y:S*m}}const VY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,d=await LY(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},FY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:P=>{let{x:M,y:j}=P;return{x:M,y:j}}},...d}=zl(t,e),p={x:n,y:r},m=await Lm(e,d),y=Na(Bl(s)),v=eb(y);let S=p[v],C=p[y];if(i){const P=v==="y"?"top":"left",M=v==="y"?"bottom":"right",j=S+m[P],D=S-m[M];S=B2(j,S,D)}if(o){const P=y==="y"?"top":"left",M=y==="y"?"bottom":"right",j=C+m[P],D=C-m[M];C=B2(j,C,D)}const k=l.fn({...e,[v]:S,[y]:C});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[v]:i,[y]:o}}}}}},zY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:d=!0,crossAxis:p=!0}=zl(t,e),m={x:n,y:r},y=Na(s),v=eb(y);let S=m[v],C=m[y];const k=zl(l,e),P=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(d){const D=v==="y"?"height":"width",V=i.reference[v]-i.floating[D]+P.mainAxis,G=i.reference[v]+i.reference[D]-P.mainAxis;S<V?S=V:S>G&&(S=G)}if(p){var M,j;const D=v==="y"?"width":"height",V=wP.has(Bl(s)),G=i.reference[y]-i.floating[D]+(V&&((M=o.offset)==null?void 0:M[y])||0)+(V?0:P.crossAxis),J=i.reference[y]+i.reference[D]+(V?0:((j=o.offset)==null?void 0:j[y])||0)-(V?P.crossAxis:0);C<G?C=G:C>J&&(C=J)}return{[v]:S,[y]:C}}}},BY=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:d=()=>{},...p}=zl(t,e),m=await Lm(e,p),y=Bl(s),v=Bf(s),S=Na(s)==="y",{width:C,height:k}=i.floating;let P,M;y==="top"||y==="bottom"?(P=y,M=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(M=y,P=v==="end"?"top":"bottom");const j=k-m.top-m.bottom,D=C-m.left-m.right,V=hu(k-m[P],j),G=hu(C-m[M],D),J=!e.middlewareData.shift;let B=V,R=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(B=j),J&&!v){const z=mi(m.left,0),H=mi(m.right,0),$=mi(m.top,0),U=mi(m.bottom,0);S?R=C-2*(z!==0||H!==0?z+H:mi(m.left,m.right)):B=k-2*($!==0||U!==0?$+U:mi(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:B});const F=await o.getDimensions(l.floating);return C!==F.width||k!==F.height?{reset:{rects:!0}}:{}}}};function A1(){return typeof window<"u"}function Uf(t){return _P(t)?(t.nodeName||"").toLowerCase():"#document"}function xi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Va(t){var e;return(e=(_P(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _P(t){return A1()?t instanceof Node||t instanceof xi(t).Node:!1}function Ao(t){return A1()?t instanceof Element||t instanceof xi(t).Element:!1}function La(t){return A1()?t instanceof HTMLElement||t instanceof xi(t).HTMLElement:!1}function M3(t){return!A1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xi(t).ShadowRoot}const UY=new Set(["inline","contents"]);function hg(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Io(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!UY.has(s)}const $Y=new Set(["table","td","th"]);function HY(t){return $Y.has(Uf(t))}const WY=[":popover-open",":modal"];function I1(t){return WY.some(e=>{try{return t.matches(e)}catch{return!1}})}const GY=["transform","translate","scale","rotate","perspective"],qY=["transform","translate","scale","rotate","perspective","filter"],KY=["paint","layout","strict","content"];function rb(t){const e=sb(),n=Ao(t)?Io(t):t;return GY.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||qY.some(r=>(n.willChange||"").includes(r))||KY.some(r=>(n.contain||"").includes(r))}function YY(t){let e=fu(t);for(;La(e)&&!Ef(e);){if(rb(e))return e;if(I1(e))return null;e=fu(e)}return null}function sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XY=new Set(["html","body","#document"]);function Ef(t){return XY.has(Uf(t))}function Io(t){return xi(t).getComputedStyle(t)}function j1(t){return Ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fu(t){if(Uf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M3(t)&&t.host||Va(t);return M3(e)?e.host:e}function bP(t){const e=fu(t);return Ef(e)?t.ownerDocument?t.ownerDocument.body:t.body:La(e)&&hg(e)?e:bP(e)}function Vm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xi(s);if(i){const l=$2(o);return e.concat(o,o.visualViewport||[],hg(s)?s:[],l&&n?Vm(l):[])}return e.concat(s,Vm(s,[],n))}function $2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SP(t){const e=Io(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=La(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Fy(n)!==i||Fy(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function ib(t){return Ao(t)?t:t.contextElement}function hf(t){const e=ib(t);if(!La(e))return Da(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=SP(e);let o=(i?Fy(n.width):n.width)/r,l=(i?Fy(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const QY=Da(0);function EP(t){const e=xi(t);return!sb()||!e.visualViewport?QY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JY(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xi(t)?!1:e}function Dd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ib(t);let o=Da(1);e&&(r?Ao(r)&&(o=hf(r)):o=hf(t));const l=JY(i,n,r)?EP(i):Da(0);let d=(s.left+l.x)/o.x,p=(s.top+l.y)/o.y,m=s.width/o.x,y=s.height/o.y;if(i){const v=xi(i),S=r&&Ao(r)?xi(r):r;let C=v,k=$2(C);for(;k&&r&&S!==C;){const P=hf(k),M=k.getBoundingClientRect(),j=Io(k),D=M.left+(k.clientLeft+parseFloat(j.paddingLeft))*P.x,V=M.top+(k.clientTop+parseFloat(j.paddingTop))*P.y;d*=P.x,p*=P.y,m*=P.x,y*=P.y,d+=D,p+=V,C=xi(k),k=$2(C)}}return By({width:m,height:y,x:d,y:p})}function D1(t,e){const n=j1(t).scrollLeft;return e?e.left+n:Dd(Va(t)).left+n}function CP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-D1(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function ZY(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Va(r),l=e?I1(e.floating):!1;if(r===o||l&&i)return n;let d={scrollLeft:0,scrollTop:0},p=Da(1);const m=Da(0),y=La(r);if((y||!y&&!i)&&((Uf(r)!=="body"||hg(o))&&(d=j1(r)),La(r))){const S=Dd(r);p=hf(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const v=o&&!y&&!i?CP(o,d):Da(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+m.x+v.x,y:n.y*p.y-d.scrollTop*p.y+m.y+v.y}}function eX(t){return Array.from(t.getClientRects())}function tX(t){const e=Va(t),n=j1(t),r=t.ownerDocument.body,s=mi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+D1(t);const l=-n.scrollTop;return Io(r).direction==="rtl"&&(o+=mi(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const O3=25;function nX(t,e){const n=xi(t),r=Va(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,d=0;if(s){i=s.width,o=s.height;const m=sb();(!m||m&&e==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}const p=D1(r);if(p<=0){const m=r.ownerDocument,y=m.body,v=getComputedStyle(y),S=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-S);C<=O3&&(i-=C)}else p<=O3&&(i+=p);return{width:i,height:o,x:l,y:d}}const rX=new Set(["absolute","fixed"]);function sX(t,e){const n=Dd(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=La(t)?hf(t):Da(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,d=s*i.x,p=r*i.y;return{width:o,height:l,x:d,y:p}}function L3(t,e,n){let r;if(e==="viewport")r=nX(t,n);else if(e==="document")r=tX(Va(t));else if(Ao(e))r=sX(e,n);else{const s=EP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return By(r)}function TP(t,e){const n=fu(t);return n===e||!Ao(n)||Ef(n)?!1:Io(n).position==="fixed"||TP(n,e)}function iX(t,e){const n=e.get(t);if(n)return n;let r=Vm(t,[],!1).filter(l=>Ao(l)&&Uf(l)!=="body"),s=null;const i=Io(t).position==="fixed";let o=i?fu(t):t;for(;Ao(o)&&!Ef(o);){const l=Io(o),d=rb(o);!d&&l.position==="fixed"&&(s=null),(i?!d&&!s:!d&&l.position==="static"&&!!s&&rX.has(s.position)||hg(o)&&!d&&TP(t,o))?r=r.filter(m=>m!==o):s=l,o=fu(o)}return e.set(t,r),r}function oX(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?I1(e)?[]:iX(e,this._c):[].concat(n),r],l=o[0],d=o.reduce((p,m)=>{const y=L3(e,m,s);return p.top=mi(y.top,p.top),p.right=hu(y.right,p.right),p.bottom=hu(y.bottom,p.bottom),p.left=mi(y.left,p.left),p},L3(e,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function aX(t){const{width:e,height:n}=SP(t);return{width:e,height:n}}function lX(t,e,n){const r=La(e),s=Va(e),i=n==="fixed",o=Dd(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const d=Da(0);function p(){d.x=D1(s)}if(r||!r&&!i)if((Uf(e)!=="body"||hg(s))&&(l=j1(e)),r){const S=Dd(e,!0,i,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else s&&p();i&&!r&&s&&p();const m=s&&!r&&!i?CP(s,l):Da(0),y=o.left+l.scrollLeft-d.x-m.x,v=o.top+l.scrollTop-d.y-m.y;return{x:y,y:v,width:o.width,height:o.height}}function vx(t){return Io(t).position==="static"}function V3(t,e){if(!La(t)||Io(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Va(t)===n&&(n=n.ownerDocument.body),n}function NP(t,e){const n=xi(t);if(I1(t))return n;if(!La(t)){let s=fu(t);for(;s&&!Ef(s);){if(Ao(s)&&!vx(s))return s;s=fu(s)}return n}let r=V3(t,e);for(;r&&HY(r)&&vx(r);)r=V3(r,e);return r&&Ef(r)&&vx(r)&&!rb(r)?n:r||YY(t)||n}const cX=async function(t){const e=this.getOffsetParent||NP,n=this.getDimensions,r=await n(t.floating);return{reference:lX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uX(t){return Io(t).direction==="rtl"}const dX={convertOffsetParentRelativeRectToViewportRelativeRect:ZY,getDocumentElement:Va,getClippingRect:oX,getOffsetParent:NP,getElementRects:cX,getClientRects:eX,getDimensions:aX,getScale:hf,isElement:Ao,isRTL:uX};function kP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hX(t,e){let n=null,r;const s=Va(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const p=t.getBoundingClientRect(),{left:m,top:y,width:v,height:S}=p;if(l||e(),!v||!S)return;const C=k0(y),k=k0(s.clientWidth-(m+v)),P=k0(s.clientHeight-(y+S)),M=k0(m),D={rootMargin:-C+"px "+-k+"px "+-P+"px "+-M+"px",threshold:mi(0,hu(1,d))||1};let V=!0;function G(J){const B=J[0].intersectionRatio;if(B!==d){if(!V)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!kP(p,t.getBoundingClientRect())&&o(),V=!1}try{n=new IntersectionObserver(G,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(G,D)}n.observe(t)}return o(!0),i}function fX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=ib(t),m=s||i?[...p?Vm(p):[],...Vm(e)]:[];m.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),i&&M.addEventListener("resize",n)});const y=p&&l?hX(p,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(M=>{let[j]=M;j&&j.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var D;(D=S)==null||D.observe(e)})),n()}),p&&!d&&S.observe(p),S.observe(e));let C,k=d?Dd(t):null;d&&P();function P(){const M=Dd(t);k&&!kP(k,M)&&n(),k=M,C=requestAnimationFrame(P)}return n(),()=>{var M;m.forEach(j=>{s&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),y==null||y(),(M=S)==null||M.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const pX=VY,mX=FY,gX=MY,yX=BY,vX=OY,F3=DY,xX=zY,wX=(t,e,n)=>{const r=new Map,s={platform:dX,...n},i={...s.platform,_c:r};return jY(t,e,{...s,platform:i})};var _X=typeof document<"u",bX=function(){},sy=_X?b.useLayoutEffect:bX;function Uy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uy(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Uy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function PP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z3(t,e){const n=PP(t);return Math.round(e*n)/n}function xx(t){const e=b.useRef(t);return sy(()=>{e.current=t}),e}function SX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=b.useState(r);Uy(v,r)||S(r);const[C,k]=b.useState(null),[P,M]=b.useState(null),j=b.useCallback(K=>{K!==J.current&&(J.current=K,k(K))},[]),D=b.useCallback(K=>{K!==B.current&&(B.current=K,M(K))},[]),V=i||C,G=o||P,J=b.useRef(null),B=b.useRef(null),R=b.useRef(m),F=d!=null,z=xx(d),H=xx(s),$=xx(p),U=b.useCallback(()=>{if(!J.current||!B.current)return;const K={placement:e,strategy:n,middleware:v};H.current&&(K.platform=H.current),wX(J.current,B.current,K).then(te=>{const Q={...te,isPositioned:$.current!==!1};ie.current&&!Uy(R.current,Q)&&(R.current=Q,Xm.flushSync(()=>{y(Q)}))})},[v,e,n,H,$]);sy(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,y(K=>({...K,isPositioned:!1})))},[p]);const ie=b.useRef(!1);sy(()=>(ie.current=!0,()=>{ie.current=!1}),[]),sy(()=>{if(V&&(J.current=V),G&&(B.current=G),V&&G){if(z.current)return z.current(V,G,U);U()}},[V,G,U,z,F]);const de=b.useMemo(()=>({reference:J,floating:B,setReference:j,setFloating:D}),[j,D]),ue=b.useMemo(()=>({reference:V,floating:G}),[V,G]),ne=b.useMemo(()=>{const K={position:n,left:0,top:0};if(!ue.floating)return K;const te=z3(ue.floating,m.x),Q=z3(ue.floating,m.y);return l?{...K,transform:"translate("+te+"px, "+Q+"px)",...PP(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:Q}},[n,l,ue.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:U,refs:de,elements:ue,floatingStyles:ne}),[m,U,de,ue,ne])}const EX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?F3({element:r.current,padding:s}).fn(n):{}:r?F3({element:r,padding:s}).fn(n):{}}}},CX=(t,e)=>({...pX(t),options:[t,e]}),TX=(t,e)=>({...mX(t),options:[t,e]}),NX=(t,e)=>({...xX(t),options:[t,e]}),kX=(t,e)=>({...gX(t),options:[t,e]}),PX=(t,e)=>({...yX(t),options:[t,e]}),RX=(t,e)=>({...vX(t),options:[t,e]}),AX=(t,e)=>({...EX(t),options:[t,e]});var IX="Arrow",RP=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(ft.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});RP.displayName=IX;var jX=RP;function M1(t){const[e,n]=b.useState(void 0);return is(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,p=Array.isArray(d)?d[0]:d;o=p.inlineSize,l=p.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ob="Popper",[AP,O1]=jo(ob),[DX,IP]=AP(ob),jP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return h.jsx(DX,{scope:e,anchor:r,onAnchorChange:s,children:n})};jP.displayName=ob;var DP="PopperAnchor",MP=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=IP(DP,n),o=b.useRef(null),l=bt(e,o),d=b.useRef(null);return b.useEffect(()=>{const p=d.current;d.current=(r==null?void 0:r.current)||o.current,p!==d.current&&i.onAnchorChange(d.current)}),r?null:h.jsx(ft.div,{...s,ref:l})});MP.displayName=DP;var ab="PopperContent",[MX,OX]=AP(ab),OP=b.forwardRef((t,e)=>{var xe,Ce,je,Xe,Ae,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:C,...k}=t,P=IP(ab,n),[M,j]=b.useState(null),D=bt(e,ot=>j(ot)),[V,G]=b.useState(null),J=M1(V),B=(J==null?void 0:J.width)??0,R=(J==null?void 0:J.height)??0,F=r+(i!=="center"?"-"+i:""),z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(p)?p:[p],$=H.length>0,U={padding:z,boundary:H.filter(VX),altBoundary:$},{refs:ie,floatingStyles:de,placement:ue,isPositioned:ne,middlewareData:K}=SX({strategy:"fixed",placement:F,whileElementsMounted:(...ot)=>fX(...ot,{animationFrame:S==="always"}),elements:{reference:P.anchor},middleware:[CX({mainAxis:s+R,alignmentAxis:o}),d&&TX({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?NX():void 0,...U}),d&&kX({...U}),PX({...U,apply:({elements:ot,rects:Ct,availableWidth:kn,availableHeight:zs})=>{const{width:xs,height:Ba}=Ct.reference,rn=ot.floating.style;rn.setProperty("--radix-popper-available-width",`${kn}px`),rn.setProperty("--radix-popper-available-height",`${zs}px`),rn.setProperty("--radix-popper-anchor-width",`${xs}px`),rn.setProperty("--radix-popper-anchor-height",`${Ba}px`)}}),V&&AX({element:V,padding:l}),FX({arrowWidth:B,arrowHeight:R}),v&&RX({strategy:"referenceHidden",...U})]}),[te,Q]=FP(ue),q=rs(C);is(()=>{ne&&(q==null||q())},[ne,q]);const re=(xe=K.arrow)==null?void 0:xe.x,_e=(Ce=K.arrow)==null?void 0:Ce.y,ke=((je=K.arrow)==null?void 0:je.centerOffset)!==0,[Je,Ue]=b.useState();return is(()=>{M&&Ue(window.getComputedStyle(M).zIndex)},[M]),h.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ne?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Xe=K.transformOrigin)==null?void 0:Xe.x,(Ae=K.transformOrigin)==null?void 0:Ae.y].join(" "),...((ze=K.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(MX,{scope:n,placedSide:te,onArrowChange:G,arrowX:re,arrowY:_e,shouldHideArrow:ke,children:h.jsx(ft.div,{"data-side":te,"data-align":Q,...k,ref:D,style:{...k.style,animation:ne?void 0:"none"}})})})});OP.displayName=ab;var LP="PopperArrow",LX={top:"bottom",right:"left",bottom:"top",left:"right"},VP=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=OX(LP,r),o=LX[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(jX,{...s,ref:n,style:{...s.style,display:"block"}})})});VP.displayName=LP;function VX(t){return t!==null}var FX=t=>({name:"transformOrigin",options:t,fn(e){var P,M,j;const{placement:n,rects:r,middlewareData:s}=e,o=((P=s.arrow)==null?void 0:P.centerOffset)!==0,l=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[p,m]=FP(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((M=s.arrow)==null?void 0:M.x)??0)+l/2,S=(((j=s.arrow)==null?void 0:j.y)??0)+d/2;let C="",k="";return p==="bottom"?(C=o?y:`${v}px`,k=`${-d}px`):p==="top"?(C=o?y:`${v}px`,k=`${r.floating.height+d}px`):p==="right"?(C=`${-d}px`,k=o?y:`${S}px`):p==="left"&&(C=`${r.floating.width+d}px`,k=o?y:`${S}px`),{data:{x:C,y:k}}}});function FP(t){const[e,n="center"]=t.split("-");return[e,n]}var zP=jP,BP=MP,UP=OP,$P=VP,wx="rovingFocusGroup.onEntryFocus",zX={bubbles:!1,cancelable:!0},fg="RovingFocusGroup",[H2,HP,BX]=R1(fg),[UX,WP]=jo(fg,[BX]),[$X,HX]=UX(fg),GP=b.forwardRef((t,e)=>h.jsx(H2.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(H2.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(WX,{...t,ref:e})})}));GP.displayName=fg;var WX=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,v=b.useRef(null),S=bt(e,v),C=dg(i),[k,P]=lu({prop:o,defaultProp:l??null,onChange:d,caller:fg}),[M,j]=b.useState(!1),D=rs(p),V=HP(n),G=b.useRef(!1),[J,B]=b.useState(0);return b.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(wx,D),()=>R.removeEventListener(wx,D)},[D]),h.jsx($X,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:k,onItemFocus:b.useCallback(R=>P(R),[P]),onItemShiftTab:b.useCallback(()=>j(!0),[]),onFocusableItemAdd:b.useCallback(()=>B(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>B(R=>R-1),[]),children:h.jsx(ft.div,{tabIndex:M||J===0?-1:0,"data-orientation":r,...y,ref:S,style:{outline:"none",...t.style},onMouseDown:We(t.onMouseDown,()=>{G.current=!0}),onFocus:We(t.onFocus,R=>{const F=!G.current;if(R.target===R.currentTarget&&F&&!M){const z=new CustomEvent(wx,zX);if(R.currentTarget.dispatchEvent(z),!z.defaultPrevented){const H=V().filter(ue=>ue.focusable),$=H.find(ue=>ue.active),U=H.find(ue=>ue.id===k),de=[$,U,...H].filter(Boolean).map(ue=>ue.ref.current);YP(de,m)}}G.current=!1}),onBlur:We(t.onBlur,()=>j(!1))})})}),qP="RovingFocusGroupItem",KP=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,d=Pl(),p=i||d,m=HX(qP,n),y=m.currentTabStopId===p,v=HP(n),{onFocusableItemAdd:S,onFocusableItemRemove:C,currentTabStopId:k}=m;return b.useEffect(()=>{if(r)return S(),()=>C()},[r,S,C]),h.jsx(H2.ItemSlot,{scope:n,id:p,focusable:r,active:s,children:h.jsx(ft.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...l,ref:e,onMouseDown:We(t.onMouseDown,P=>{r?m.onItemFocus(p):P.preventDefault()}),onFocus:We(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:We(t.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){m.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const M=KX(P,m.orientation,m.dir);if(M!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let D=v().filter(V=>V.focusable).map(V=>V.ref.current);if(M==="last")D.reverse();else if(M==="prev"||M==="next"){M==="prev"&&D.reverse();const V=D.indexOf(P.currentTarget);D=m.loop?YX(D,V+1):D.slice(V+1)}setTimeout(()=>YP(D))}}),children:typeof o=="function"?o({isCurrentTabStop:y,hasTabStop:k!=null}):o})})});KP.displayName=qP;var GX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KX(t,e,n){const r=qX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GX[r]}function YP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function YX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XX=GP,QX=KP;function JX(t){const e=ZX(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),d=l.find(tQ);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function ZX(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=rQ(s),l=nQ(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eQ=Symbol("radix.slottable");function tQ(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eQ}function nQ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function rQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var W2=["Enter"," "],sQ=["ArrowDown","PageUp","Home"],XP=["ArrowUp","PageDown","End"],iQ=[...sQ,...XP],oQ={ltr:[...W2,"ArrowRight"],rtl:[...W2,"ArrowLeft"]},aQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pg="Menu",[Fm,lQ,cQ]=R1(pg),[Hd,QP]=jo(pg,[cQ,O1,WP]),L1=O1(),JP=WP(),[uQ,Wd]=Hd(pg),[dQ,mg]=Hd(pg),ZP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,l=L1(e),[d,p]=b.useState(null),m=b.useRef(!1),y=rs(i),v=dg(s);return b.useEffect(()=>{const S=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),h.jsx(zP,{...l,children:h.jsx(uQ,{scope:e,open:n,onOpenChange:y,content:d,onContentChange:p,children:h.jsx(dQ,{scope:e,onClose:b.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:v,modal:o,children:r})})})};ZP.displayName=pg;var hQ="MenuAnchor",lb=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=L1(n);return h.jsx(BP,{...s,...r,ref:e})});lb.displayName=hQ;var cb="MenuPortal",[fQ,e8]=Hd(cb,{forceMount:void 0}),t8=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Wd(cb,e);return h.jsx(fQ,{scope:e,forceMount:n,children:h.jsx(_i,{present:n||i.open,children:h.jsx(w1,{asChild:!0,container:s,children:r})})})};t8.displayName=cb;var Wi="MenuContent",[pQ,ub]=Hd(Wi),n8=b.forwardRef((t,e)=>{const n=e8(Wi,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Wd(Wi,t.__scopeMenu),o=mg(Wi,t.__scopeMenu);return h.jsx(Fm.Provider,{scope:t.__scopeMenu,children:h.jsx(_i,{present:r||i.open,children:h.jsx(Fm.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(mQ,{...s,ref:e}):h.jsx(gQ,{...s,ref:e})})})})}),mQ=b.forwardRef((t,e)=>{const n=Wd(Wi,t.__scopeMenu),r=b.useRef(null),s=bt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return m_(i)},[]),h.jsx(db,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:We(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gQ=b.forwardRef((t,e)=>{const n=Wd(Wi,t.__scopeMenu);return h.jsx(db,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yQ=JX("MenuContent.ScrollLock"),db=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:S,disableOutsideScroll:C,...k}=t,P=Wd(Wi,n),M=mg(Wi,n),j=L1(n),D=JP(n),V=lQ(n),[G,J]=b.useState(null),B=b.useRef(null),R=bt(e,B,P.onContentChange),F=b.useRef(0),z=b.useRef(""),H=b.useRef(0),$=b.useRef(null),U=b.useRef("right"),ie=b.useRef(0),de=C?b1:b.Fragment,ue=C?{as:yQ,allowPinchZoom:!0}:void 0,ne=te=>{var xe,Ce;const Q=z.current+te,q=V().filter(je=>!je.disabled),re=document.activeElement,_e=(xe=q.find(je=>je.ref.current===re))==null?void 0:xe.textValue,ke=q.map(je=>je.textValue),Je=PQ(ke,Q,_e),Ue=(Ce=q.find(je=>je.textValue===Je))==null?void 0:Ce.ref.current;(function je(Xe){z.current=Xe,window.clearTimeout(F.current),Xe!==""&&(F.current=window.setTimeout(()=>je(""),1e3))})(Q),Ue&&setTimeout(()=>Ue.focus())};b.useEffect(()=>()=>window.clearTimeout(F.current),[]),p_();const K=b.useCallback(te=>{var q,re;return U.current===((q=$.current)==null?void 0:q.side)&&AQ(te,(re=$.current)==null?void 0:re.area)},[]);return h.jsx(pQ,{scope:n,searchRef:z,onItemEnter:b.useCallback(te=>{K(te)&&te.preventDefault()},[K]),onItemLeave:b.useCallback(te=>{var Q;K(te)||((Q=B.current)==null||Q.focus(),J(null))},[K]),onTriggerLeave:b.useCallback(te=>{K(te)&&te.preventDefault()},[K]),pointerGraceTimerRef:H,onPointerGraceIntentChange:b.useCallback(te=>{$.current=te},[]),children:h.jsx(de,{...ue,children:h.jsx(x1,{asChild:!0,trapped:s,onMountAutoFocus:We(i,te=>{var Q;te.preventDefault(),(Q=B.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(v1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:S,children:h.jsx(XX,{asChild:!0,...D,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:G,onCurrentTabStopIdChange:J,onEntryFocus:We(d,te=>{M.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(UP,{role:"menu","aria-orientation":"vertical","data-state":v8(P.open),"data-radix-menu-content":"",dir:M.dir,...j,...k,ref:R,style:{outline:"none",...k.style},onKeyDown:We(k.onKeyDown,te=>{const q=te.target.closest("[data-radix-menu-content]")===te.currentTarget,re=te.ctrlKey||te.altKey||te.metaKey,_e=te.key.length===1;q&&(te.key==="Tab"&&te.preventDefault(),!re&&_e&&ne(te.key));const ke=B.current;if(te.target!==ke||!iQ.includes(te.key))return;te.preventDefault();const Ue=V().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);XP.includes(te.key)&&Ue.reverse(),NQ(Ue)}),onBlur:We(t.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(F.current),z.current="")}),onPointerMove:We(t.onPointerMove,zm(te=>{const Q=te.target,q=ie.current!==te.clientX;if(te.currentTarget.contains(Q)&&q){const re=te.clientX>ie.current?"right":"left";U.current=re,ie.current=te.clientX}}))})})})})})})});n8.displayName=Wi;var vQ="MenuGroup",hb=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ft.div,{role:"group",...r,ref:e})});hb.displayName=vQ;var xQ="MenuLabel",r8=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ft.div,{...r,ref:e})});r8.displayName=xQ;var $y="MenuItem",B3="menu.itemSelect",V1=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=b.useRef(null),o=mg($y,t.__scopeMenu),l=ub($y,t.__scopeMenu),d=bt(e,i),p=b.useRef(!1),m=()=>{const y=i.current;if(!n&&y){const v=new CustomEvent(B3,{bubbles:!0,cancelable:!0});y.addEventListener(B3,S=>r==null?void 0:r(S),{once:!0}),XT(y,v),v.defaultPrevented?p.current=!1:o.onClose()}};return h.jsx(s8,{...s,ref:d,disabled:n,onClick:We(t.onClick,m),onPointerDown:y=>{var v;(v=t.onPointerDown)==null||v.call(t,y),p.current=!0},onPointerUp:We(t.onPointerUp,y=>{var v;p.current||(v=y.currentTarget)==null||v.click()}),onKeyDown:We(t.onKeyDown,y=>{const v=l.searchRef.current!=="";n||v&&y.key===" "||W2.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});V1.displayName=$y;var s8=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=ub($y,n),l=JP(n),d=b.useRef(null),p=bt(e,d),[m,y]=b.useState(!1),[v,S]=b.useState("");return b.useEffect(()=>{const C=d.current;C&&S((C.textContent??"").trim())},[i.children]),h.jsx(Fm.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:h.jsx(QX,{asChild:!0,...l,focusable:!r,children:h.jsx(ft.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:We(t.onPointerMove,zm(C=>{r?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(t.onPointerLeave,zm(C=>o.onItemLeave(C))),onFocus:We(t.onFocus,()=>y(!0)),onBlur:We(t.onBlur,()=>y(!1))})})})}),wQ="MenuCheckboxItem",i8=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(u8,{scope:t.__scopeMenu,checked:n,children:h.jsx(V1,{role:"menuitemcheckbox","aria-checked":Hy(n)?"mixed":n,...s,ref:e,"data-state":pb(n),onSelect:We(s.onSelect,()=>r==null?void 0:r(Hy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});i8.displayName=wQ;var o8="MenuRadioGroup",[_Q,bQ]=Hd(o8,{value:void 0,onValueChange:()=>{}}),a8=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=rs(r);return h.jsx(_Q,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(hb,{...s,ref:e})})});a8.displayName=o8;var l8="MenuRadioItem",c8=b.forwardRef((t,e)=>{const{value:n,...r}=t,s=bQ(l8,t.__scopeMenu),i=n===s.value;return h.jsx(u8,{scope:t.__scopeMenu,checked:i,children:h.jsx(V1,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":pb(i),onSelect:We(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});c8.displayName=l8;var fb="MenuItemIndicator",[u8,SQ]=Hd(fb,{checked:!1}),d8=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=SQ(fb,n);return h.jsx(_i,{present:r||Hy(i.checked)||i.checked===!0,children:h.jsx(ft.span,{...s,ref:e,"data-state":pb(i.checked)})})});d8.displayName=fb;var EQ="MenuSeparator",h8=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});h8.displayName=EQ;var CQ="MenuArrow",f8=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=L1(n);return h.jsx($P,{...s,...r,ref:e})});f8.displayName=CQ;var TQ="MenuSub",[Ioe,p8]=Hd(TQ),Yp="MenuSubTrigger",m8=b.forwardRef((t,e)=>{const n=Wd(Yp,t.__scopeMenu),r=mg(Yp,t.__scopeMenu),s=p8(Yp,t.__scopeMenu),i=ub(Yp,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,p={__scopeMenu:t.__scopeMenu},m=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>m,[m]),b.useEffect(()=>{const y=l.current;return()=>{window.clearTimeout(y),d(null)}},[l,d]),h.jsx(lb,{asChild:!0,...p,children:h.jsx(s8,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":v8(n.open),...t,ref:Hl(e,s.onTriggerChange),onClick:y=>{var v;(v=t.onClick)==null||v.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:We(t.onPointerMove,zm(y=>{i.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:We(t.onPointerLeave,zm(y=>{var S,C;m();const v=(S=n.content)==null?void 0:S.getBoundingClientRect();if(v){const k=(C=n.content)==null?void 0:C.dataset.side,P=k==="right",M=P?-5:5,j=v[P?"left":"right"],D=v[P?"right":"left"];i.onPointerGraceIntentChange({area:[{x:y.clientX+M,y:y.clientY},{x:j,y:v.top},{x:D,y:v.top},{x:D,y:v.bottom},{x:j,y:v.bottom}],side:k}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(y),y.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:We(t.onKeyDown,y=>{var S;const v=i.searchRef.current!=="";t.disabled||v&&y.key===" "||oQ[r.dir].includes(y.key)&&(n.onOpenChange(!0),(S=n.content)==null||S.focus(),y.preventDefault())})})})});m8.displayName=Yp;var g8="MenuSubContent",y8=b.forwardRef((t,e)=>{const n=e8(Wi,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Wd(Wi,t.__scopeMenu),o=mg(Wi,t.__scopeMenu),l=p8(g8,t.__scopeMenu),d=b.useRef(null),p=bt(e,d);return h.jsx(Fm.Provider,{scope:t.__scopeMenu,children:h.jsx(_i,{present:r||i.open,children:h.jsx(Fm.Slot,{scope:t.__scopeMenu,children:h.jsx(db,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:p,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;o.isUsingKeyboardRef.current&&((y=d.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:We(t.onFocusOutside,m=>{m.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:We(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:We(t.onKeyDown,m=>{var S;const y=m.currentTarget.contains(m.target),v=aQ[o.dir].includes(m.key);y&&v&&(i.onOpenChange(!1),(S=l.trigger)==null||S.focus(),m.preventDefault())})})})})})});y8.displayName=g8;function v8(t){return t?"open":"closed"}function Hy(t){return t==="indeterminate"}function pb(t){return Hy(t)?"indeterminate":t?"checked":"unchecked"}function NQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function PQ(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=kQ(t,Math.max(i,0));s.length===1&&(o=o.filter(p=>p!==n));const d=o.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function RQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],d=e[o],p=l.x,m=l.y,y=d.x,v=d.y;m>r!=v>r&&n<(y-p)*(r-m)/(v-m)+p&&(s=!s)}return s}function AQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return RQ(n,e)}function zm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var IQ=ZP,jQ=lb,DQ=t8,MQ=n8,OQ=hb,LQ=r8,VQ=V1,FQ=i8,zQ=a8,BQ=c8,UQ=d8,$Q=h8,HQ=f8,WQ=m8,GQ=y8,F1="DropdownMenu",[qQ]=jo(F1,[QP]),Fs=QP(),[KQ,x8]=qQ(F1),w8=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,d=Fs(e),p=b.useRef(null),[m,y]=lu({prop:s,defaultProp:i??!1,onChange:o,caller:F1});return h.jsx(KQ,{scope:e,triggerId:Pl(),triggerRef:p,contentId:Pl(),open:m,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(v=>!v),[y]),modal:l,children:h.jsx(IQ,{...d,open:m,onOpenChange:y,dir:r,modal:l,children:n})})};w8.displayName=F1;var _8="DropdownMenuTrigger",b8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=x8(_8,n),o=Fs(n);return h.jsx(jQ,{asChild:!0,...o,children:h.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Hl(e,i.triggerRef),onPointerDown:We(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:We(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});b8.displayName=_8;var YQ="DropdownMenuPortal",S8=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Fs(e);return h.jsx(DQ,{...r,...n})};S8.displayName=YQ;var E8="DropdownMenuContent",C8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=x8(E8,n),i=Fs(n),o=b.useRef(!1);return h.jsx(MQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:We(t.onCloseAutoFocus,l=>{var d;o.current||(d=s.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:We(t.onInteractOutside,l=>{const d=l.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,m=d.button===2||p;(!s.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C8.displayName=E8;var XQ="DropdownMenuGroup",QQ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(OQ,{...s,...r,ref:e})});QQ.displayName=XQ;var JQ="DropdownMenuLabel",T8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(LQ,{...s,...r,ref:e})});T8.displayName=JQ;var ZQ="DropdownMenuItem",N8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(VQ,{...s,...r,ref:e})});N8.displayName=ZQ;var eJ="DropdownMenuCheckboxItem",k8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(FQ,{...s,...r,ref:e})});k8.displayName=eJ;var tJ="DropdownMenuRadioGroup",nJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(zQ,{...s,...r,ref:e})});nJ.displayName=tJ;var rJ="DropdownMenuRadioItem",P8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(BQ,{...s,...r,ref:e})});P8.displayName=rJ;var sJ="DropdownMenuItemIndicator",R8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(UQ,{...s,...r,ref:e})});R8.displayName=sJ;var iJ="DropdownMenuSeparator",A8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx($Q,{...s,...r,ref:e})});A8.displayName=iJ;var oJ="DropdownMenuArrow",aJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(HQ,{...s,...r,ref:e})});aJ.displayName=oJ;var lJ="DropdownMenuSubTrigger",I8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(WQ,{...s,...r,ref:e})});I8.displayName=lJ;var cJ="DropdownMenuSubContent",j8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fs(n);return h.jsx(GQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j8.displayName=cJ;var uJ=w8,dJ=b8,hJ=S8,D8=C8,M8=T8,O8=N8,L8=k8,V8=P8,F8=R8,z8=A8,B8=I8,U8=j8;const fJ=uJ,pJ=dJ,mJ=b.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(B8,{ref:s,className:lt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(gz,{className:"ml-auto"})]}));mJ.displayName=B8.displayName;const gJ=b.forwardRef(({className:t,...e},n)=>h.jsx(U8,{ref:n,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));gJ.displayName=U8.displayName;const $8=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(hJ,{children:h.jsx(D8,{ref:r,sideOffset:e,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));$8.displayName=D8.displayName;const iy=b.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(O8,{ref:r,className:lt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));iy.displayName=O8.displayName;const yJ=b.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(L8,{ref:s,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(F8,{children:h.jsx(Of,{className:"h-4 w-4"})})}),e]}));yJ.displayName=L8.displayName;const vJ=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(V8,{ref:r,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(F8,{children:h.jsx($T,{className:"h-2 w-2 fill-current"})})}),e]}));vJ.displayName=V8.displayName;const xJ=b.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(M8,{ref:r,className:lt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xJ.displayName=M8.displayName;const wJ=b.forwardRef(({className:t,...e},n)=>h.jsx(z8,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",t),...e}));wJ.displayName=z8.displayName;const _J=["blocklick1@gmail.com","noamnissan10@gmail.com"];function bJ({children:t,currentPageName:e}){const[n,r]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(!1),[d,p]=b.useState(""),[m,y]=b.useState(""),[v,S]=b.useState(!1),C=$l();b.useEffect(()=>{const V=setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},50);return()=>clearTimeout(V)},[C.pathname]),b.useEffect(()=>{(async()=>{i(!0);try{const G=await cm.auth.me();r(G)}catch{r(null)}finally{i(!1)}})()},[C.key]),b.useEffect(()=>{let V=document.querySelector('meta[name="google-site-verification"]');V||(V=document.createElement("meta"),V.setAttribute("name","google-site-verification"),V.setAttribute("content","Se4FprioNk-bYKL-LikCgf7TV1ardvjaoIUkG1SbYGg"),document.getElementsByTagName("head")[0].appendChild(V)),[{property:"og:site_name",content:" -  "},{property:"og:type",content:"website"},{property:"og:locale",content:"he_IL"},{property:"og:url",content:"https://blocklick.base44.app"},{property:"og:title",content:" -   ,     "},{property:"og:description",content:"    -0.7,    .   ,   .  !"},{property:"og:image",content:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/a0d10edc6_LS20250728185756.png"},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:" -   ,   "},{name:"twitter:description",content:"    -0.7  .    .   ."}].forEach(R=>{let F=document.querySelector(`meta[${R.property?"property":"name"}="${R.property||R.name}"]`);F||(F=document.createElement("meta"),F.setAttribute(R.property?"property":"name",R.property||R.name),document.getElementsByTagName("head")[0].appendChild(F)),F.setAttribute("content",R.content)});let J=document.querySelector("#structured-data");J||(J=document.createElement("script"),J.setAttribute("type","application/ld+json"),J.setAttribute("id","structured-data"),document.getElementsByTagName("head")[0].appendChild(J));const B={"@context":"https://schema.org","@type":"LocalBusiness",name:"",alternateName:" ",description:"  ,   ,        .   -     ",telephone:"0504928189",email:"blocklick1@gmail.com",address:{"@type":"PostalAddress",streetAddress:" 4",addressLocality:" ",addressCountry:"IL"},geo:{"@type":"GeoCoordinates",latitude:"32.1689",longitude:"35.0818"},url:"https://blocklick.base44.app",priceRange:"",paymentAccepted:["Cash","Bit","PayBox"],currenciesAccepted:"ILS",openingHours:"Mo-Su 09:00-21:00",serviceArea:{"@type":"Place",name:""},hasOfferCatalog:{"@type":"OfferCatalog",name:" ",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Product",name:" ",description:"    "},price:"0.7",priceCurrency:"ILS"},{"@type":"Offer",itemOffered:{"@type":"Product",name:" ",description:"     "},price:"18",priceCurrency:"ILS"},{"@type":"Offer",itemOffered:{"@type":"Product",name:"",description:"   "},price:"2.5",priceCurrency:"ILS"}]}};J.textContent=JSON.stringify(B)},[]);const k=async()=>{await cm.auth.logout(),window.location.href=Mn("Home")},P=()=>{p(""),y(""),l(!0)},M=()=>{d==="Noam794166209"?(l(!1),cm.auth.redirectToLogin()):y("  .  .")},j=n&&_J.some(V=>V.toLowerCase()===n.email.toLowerCase()),D=e==="Home"||C.pathname==="/"||C.pathname==="/Home";return h.jsx(K$,{children:h.jsxs("div",{className:"min-h-screen bg-slate-50",dir:"rtl",children:[h.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
          
          body, *, .font-sans {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
            font-weight: 400;
          }

          h1, h2, h3, h4, h5, h6 {
            font-weight: 500 !important;
          }

          .font-bold {
            font-weight: 600 !important;
          }

          .font-semibold {
            font-weight: 500 !important;
          }

          .font-medium {
            font-weight: 500 !important;
          }

          html {
            scroll-behavior: auto !important;
          }

          *:focus {
            outline: 3px solid #3b82f6;
            outline-offset: 2px;
            border-radius: 4px;
          }

          button:focus,
          a:focus,
          input:focus,
          textarea:focus,
          select:focus {
            outline: 3px solid #3b82f6;
            outline-offset: 2px;
          }

          @media (prefers-contrast: high) {
            .bg-gradient-to-r {
              background: #000 !important;
              color: #fff !important;
            }
            
            .text-slate-600 {
              color: #000 !important;
            }
            
            .border-slate-200 {
              border-color: #000 !important;
            }
          }

          body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            letter-spacing: -0.01em;
          }

          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }

          .loading {
            animation: pulse 2s infinite;
          }

          * {
            will-change: auto;
          }

          img {
            content-visibility: auto;
          }

          @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
            }
          }

          @media (max-width: 768px) {
            .motion-reduce {
              transform: none !important;
              animation: none !important;
              transition: none !important;
            }
          }
        `}),h.jsx("header",{className:"bg-white/95 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:h.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center relative",children:[h.jsxs(mr,{to:Mn("Home"),className:"text-2xl font-bold text-slate-800 hover:text-amber-600 transition-colors flex items-center gap-2 z-10",children:[h.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/a0d10edc6_LS20250728185756.png",alt:"",className:"w-8 h-8 object-contain"}),""]}),h.jsxs("div",{className:"flex items-center gap-3 z-10",children:[h.jsxs(Ke,{onClick:()=>window.open("https://wa.me/9720504928189","_blank"),variant:"ghost",className:"flex items-center gap-2 text-slate-600 hover:bg-green-100 hover:text-green-700 rounded-full z-10",children:[h.jsx(Zz,{className:"h-5 w-5"}),h.jsx("span",{className:"hidden sm:inline",children:" "})]}),h.jsx("div",{className:"z-10",children:h.jsx(NK,{})}),s?h.jsx("div",{className:"w-8 h-8 flex items-center justify-center z-10",children:h.jsx(vs,{className:"h-5 w-5 animate-spin text-slate-400"})}):n?h.jsxs("div",{className:"flex items-center gap-3 z-10",children:[j&&h.jsxs(fJ,{children:[h.jsx(pJ,{asChild:!0,children:h.jsxs(Ke,{variant:"ghost",className:"flex items-center gap-2 text-slate-600 hover:bg-amber-100 hover:text-amber-700 rounded-full z-10",children:[h.jsx(n5,{className:"h-5 w-5"}),h.jsx("span",{className:"hidden sm:inline",children:""}),h.jsx(u_,{className:"h-4 w-4"})]})}),h.jsxs($8,{align:"end",className:"w-48 z-[60]",dir:"rtl",children:[h.jsx(iy,{asChild:!0,children:h.jsxs(mr,{to:Mn("AdminOrders"),className:"flex items-center gap-2 w-full",children:[h.jsx(n5,{className:"h-4 w-4"}),h.jsx("span",{children:" "})]})}),h.jsx(iy,{asChild:!0,children:h.jsxs(mr,{to:Mn("AdminCoupons"),className:"flex items-center gap-2 w-full",children:[h.jsx(X0,{className:"h-4 w-4"}),h.jsx("span",{children:" "})]})}),h.jsx(iy,{asChild:!0,children:h.jsxs(mr,{to:Mn("AdminAnalytics"),className:"flex items-center gap-2 w-full",children:[h.jsx(Ry,{className:"h-4 w-4"}),h.jsx("span",{children:" "})]})})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 bg-slate-100 rounded-full px-3 py-2 z-10",children:[h.jsx(f2,{className:"h-4 w-4"}),h.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:n.full_name})]}),h.jsxs(Ke,{onClick:k,size:"sm",variant:"outline",className:"rounded-full hover:bg-red-50 hover:text-red-600 hover:border-red-200 z-10",children:[h.jsx(Kz,{className:"h-4 w-4 ml-2"}),h.jsx("span",{children:""})]})]}):D?h.jsx("div",{}):null]})]})}),h.jsx("main",{className:"min-h-screen",children:t}),h.jsx("footer",{className:"bg-gradient-to-r from-slate-800 to-slate-900 text-white border-t border-slate-700 mt-12",children:h.jsxs("div",{className:"container mx-auto px-6 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[h.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/a0d10edc6_LS20250728185756.png",alt:"",className:"w-6 h-6 object-contain"}),""]}),h.jsx("p",{className:"text-slate-300 leading-relaxed",children:"    ,  .    ."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-4",children:" "}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(mr,{to:Mn("Blocks"),className:"block text-slate-300 hover:text-white transition-colors",children:" "}),h.jsx(mr,{to:Mn("Magnets"),className:"block text-slate-300 hover:text-white transition-colors",children:""}),h.jsx(mr,{to:Mn("Photos"),className:"block text-slate-300 hover:text-white transition-colors",children:" "})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-4",children:" "}),h.jsxs("div",{className:"space-y-2 text-slate-300",children:[h.jsxs("p",{children:[" ",h.jsx("a",{href:"https://wa.me/9720504928189",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-400 transition-colors cursor-pointer",children:"0504928189"})]}),h.jsx("p",{children:" blocklick1@gmail.com"}),h.jsx("p",{children:"  4,  "})]})]})]}),h.jsxs("div",{className:"border-t border-slate-700 mt-8 pt-6 text-center text-slate-400",children:[h.jsxs("p",{children:[" ",new Date().getFullYear()," .   ."]}),D&&!n&&h.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[h.jsx(Ke,{onClick:P,variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-300 text-xs",children:" "}),h.jsx(Ke,{onClick:()=>S(!0),variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-300 text-xs",children:" "})]})]})]})}),h.jsx(z2,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#1f2937",color:"#fff",direction:"rtl"}}}),h.jsx(cu,{open:o,onOpenChange:l,children:h.jsxs(Dl,{className:"sm:max-w-[425px]",dir:"rtl",children:[h.jsxs(Ml,{children:[h.jsx(Ol,{children:" "}),h.jsx(PN,{children:"     ."})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Dn,{htmlFor:"code",className:"text-right",children:" "}),h.jsx(sr,{id:"code",value:d,onChange:V=>p(V.target.value),type:"password",placeholder:"  ",onKeyPress:V=>V.key==="Enter"&&M()})]}),m&&h.jsx("p",{className:"text-red-500 text-sm",children:m})]}),h.jsxs(x_,{children:[h.jsx(Ke,{onClick:()=>l(!1),variant:"outline",children:""}),h.jsx(Ke,{onClick:M,children:""})]})]})}),h.jsx(cu,{open:v,onOpenChange:S,children:h.jsxs(Dl,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",dir:"rtl",children:[h.jsx(Ml,{children:h.jsx(Ol,{className:"text-2xl font-bold text-slate-800",children:"   Blocklick.com"})}),h.jsxs("div",{className:"space-y-6 py-4 text-slate-700 leading-relaxed",children:[h.jsx("p",{children:' Blocklick.com ("")             .        , ,    .'}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"1.  "}),h.jsx("p",{className:"mb-3",children:"        :"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 mr-4",children:[h.jsx("li",{children:"   ( ,  ,  )."}),h.jsx("li",{children:"   ( ,  )"}),h.jsx("li",{children:"     ."}),h.jsx("li",{children:"     (  IP,  ,   )."})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"2.  "}),h.jsx("p",{className:"mb-3",children:"     :"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 mr-4",children:[h.jsx("li",{children:"   ."}),h.jsx("li",{children:"   ."}),h.jsx("li",{children:"   ."}),h.jsx("li",{children:" ,   ."})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"3.  "}),h.jsx("p",{children:"         .        .            ,         ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"4.    "}),h.jsx("p",{children:"               (  ,  ).          ,       ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"5.  "}),h.jsx("p",{children:"            ,    .   ,     ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"6.  (Cookies)"}),h.jsx("p",{children:"       ,     .          ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"7.  "}),h.jsx("p",{children:"      ,      ,   ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"8.  "}),h.jsx("p",{children:"     .         ."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"9.  "}),h.jsx("p",{children:"      : blocklick1@gmail.com"})]})]}),h.jsx("div",{className:"flex justify-center pt-4",children:h.jsx(Ke,{onClick:()=>S(!1),className:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-8",children:""})})]})}),h.jsx(mY,{})]})})}const So=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));So.displayName="Card";const Eo=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("flex flex-col space-y-1.5 p-6",t),...e}));Eo.displayName="CardHeader";const Co=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("font-semibold leading-none tracking-tight",t),...e}));Co.displayName="CardTitle";const SJ=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));SJ.displayName="CardDescription";const To=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("p-6 pt-0",t),...e}));To.displayName="CardContent";const EJ=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("flex items-center p-6 pt-0",t),...e}));EJ.displayName="CardFooter";const CJ=rg("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vu=b.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:lt(CJ({variant:e}),t),...n}));vu.displayName="Alert";const z1=b.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:lt("mb-1 font-medium leading-none tracking-tight",t),...e}));z1.displayName="AlertTitle";const xu=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("text-sm [&_p]:leading-relaxed",t),...e}));xu.displayName="AlertDescription";const TJ=rg("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pm({className:t,variant:e,...n}){return h.jsx("div",{className:lt(TJ({variant:e}),t),...n})}function qi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function NJ(t,e){const n=qi(t);return isNaN(e)?pu(t,NaN):(n.setDate(n.getDate()+e),n)}const H8=6048e5,kJ=864e5,W8=6e4,G8=36e5;let PJ={};function B1(){return PJ}function Bm(t,e){var l,d,p,m;const n=B1(),r=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,s=qi(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Wy(t){return Bm(t,{weekStartsOn:1})}function q8(t){const e=qi(t),n=e.getFullYear(),r=pu(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Wy(r),i=pu(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Wy(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function U3(t){const e=qi(t);return e.setHours(0,0,0,0),e}function $3(t){const e=qi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function RJ(t,e){const n=U3(t),r=U3(e),s=+n-$3(n),i=+r-$3(r);return Math.round((s-i)/kJ)}function AJ(t){const e=q8(t),n=pu(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Wy(n)}function IJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jJ(t){if(!IJ(t)&&typeof t!="number")return!1;const e=qi(t);return!isNaN(Number(e))}function DJ(t){const e=qi(t),n=pu(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const MJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OJ=(t,e,n)=>{let r;const s=MJ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ff(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const LJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zJ={date:ff({formats:LJ,defaultWidth:"full"}),time:ff({formats:VJ,defaultWidth:"full"}),dateTime:ff({formats:FJ,defaultWidth:"full"})},BJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UJ=(t,e,n,r)=>BJ[t];function Sa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const $J={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XJ={ordinalNumber:YJ,era:Sa({values:$J,defaultWidth:"wide"}),quarter:Sa({values:HJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sa({values:WJ,defaultWidth:"wide"}),day:Sa({values:GJ,defaultWidth:"wide"}),dayPeriod:Sa({values:qJ,defaultWidth:"wide",formattingValues:KJ,defaultFormattingWidth:"wide"})};function Ea(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?JJ(l,y=>y.test(o)):QJ(l,y=>y.test(o));let p;p=t.valueCallback?t.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(o.length);return{value:p,rest:m}}}function QJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function K8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const ZJ=/^(\d+)(th|st|nd|rd)?/i,eZ=/\d+/i,tZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nZ={any:[/^b/i,/^(a|c)/i]},rZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sZ={any:[/1/i,/2/i,/3/i,/4/i]},iZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dZ={ordinalNumber:K8({matchPattern:ZJ,parsePattern:eZ,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:tZ,defaultMatchWidth:"wide",parsePatterns:nZ,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:rZ,defaultMatchWidth:"wide",parsePatterns:sZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:iZ,defaultMatchWidth:"wide",parsePatterns:oZ,defaultParseWidth:"any"}),day:Ea({matchPatterns:aZ,defaultMatchWidth:"wide",parsePatterns:lZ,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:cZ,defaultMatchWidth:"any",parsePatterns:uZ,defaultParseWidth:"any"})},hZ={code:"en-US",formatDistance:OJ,formatLong:zJ,formatRelative:UJ,localize:XJ,match:dZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fZ(t){const e=qi(t);return RJ(e,DJ(e))+1}function pZ(t){const e=qi(t),n=+Wy(e)-+AJ(e);return Math.round(n/H8)+1}function Y8(t,e){var m,y,v,S;const n=qi(t),r=n.getFullYear(),s=B1(),i=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(v=s.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,o=pu(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Bm(o,e),d=pu(t,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const p=Bm(d,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function mZ(t,e){var l,d,p,m;const n=B1(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=Y8(t,e),i=pu(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Bm(i,e)}function gZ(t,e){const n=qi(t),r=+Bm(n,e)-+mZ(n,e);return Math.round(r/H8)+1}function Jt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Jt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Jt(n+1,2)},d(t,e){return Jt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Jt(t.getHours()%12||12,e.length)},H(t,e){return Jt(t.getHours(),e.length)},m(t,e){return Jt(t.getMinutes(),e.length)},s(t,e){return Jt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Jt(s,e.length)}},Gh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H3={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Vc.y(t,e)},Y:function(t,e,n,r){const s=Y8(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Jt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Jt(i,e.length)},R:function(t,e){const n=q8(t);return Jt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Jt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=gZ(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Jt(s,e.length)},I:function(t,e,n){const r=pZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Jt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vc.d(t,e)},D:function(t,e,n){const r=fZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Jt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Jt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Gh.noon:r===0?s=Gh.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Gh.evening:r>=12?s=Gh.afternoon:r>=4?s=Gh.morning:s=Gh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vc.s(t,e)},S:function(t,e){return Vc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return G3(r);case"XXXX":case"XX":return vd(r);case"XXXXX":case"XXX":default:return vd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return G3(r);case"xxxx":case"xx":return vd(r);case"xxxxx":case"xxx":default:return vd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W3(r,":");case"OOOO":default:return"GMT"+vd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W3(r,":");case"zzzz":default:return"GMT"+vd(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Jt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Jt(r,e.length)}};function W3(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Jt(i,2)}function G3(t,e){return t%60===0?(t>0?"-":"+")+Jt(Math.abs(t)/60,2):vd(t,e)}function vd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Jt(Math.trunc(r/60),2),i=Jt(r%60,2);return n+s+e+i}const q3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},X8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return q3(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",q3(r,e)).replace("{{time}}",X8(s,e))},vZ={p:X8,P:yZ},xZ=/^D+$/,wZ=/^Y+$/,_Z=["D","DD","YY","YYYY"];function bZ(t){return xZ.test(t)}function SZ(t){return wZ.test(t)}function EZ(t,e,n){const r=CZ(t,e,n);if(console.warn(r),_Z.includes(t))throw new RangeError(r)}function CZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kZ=/^'([^]*?)'?$/,PZ=/''/g,RZ=/[a-zA-Z]/;function Gy(t,e,n){var m,y,v,S,C,k,P,M;const r=B1(),s=(n==null?void 0:n.locale)??r.locale??hZ,i=(n==null?void 0:n.firstWeekContainsDate)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((S=(v=r.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((k=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((M=(P=r.locale)==null?void 0:P.options)==null?void 0:M.weekStartsOn)??0,l=qi(t);if(!jJ(l))throw new RangeError("Invalid time value");let d=e.match(NZ).map(j=>{const D=j[0];if(D==="p"||D==="P"){const V=vZ[D];return V(j,s.formatLong)}return j}).join("").match(TZ).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const D=j[0];if(D==="'")return{isToken:!1,value:AZ(j)};if(H3[D])return{isToken:!0,value:j};if(D.match(RZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(d=s.localize.preprocessor(l,d));const p={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(j=>{if(!j.isToken)return j.value;const D=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&SZ(D)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&bZ(D))&&EZ(D,e,String(t));const V=H3[D[0]];return V(l,D,s.localize,p)}).join("")}function AZ(t){const e=t.match(kZ);return e?e[1].replace(PZ,"'"):t}function IZ(t,e){return NJ(t,-7)}function jZ(t,e){const r=LZ(t);let s;if(r.date){const d=VZ(r.date,2);s=FZ(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(r.time&&(o=zZ(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=BZ(r.timezone),isNaN(l))return new Date(NaN)}else{const d=new Date(i+o),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(i+o+l)}const P0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},DZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,OZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LZ(t){const e={},n=t.split(P0.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],P0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(P0.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=P0.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function VZ(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function FZ(t,e){if(e===null)return new Date(NaN);const n=t.match(DZ);if(!n)return new Date(NaN);const r=!!n[4],s=Vp(n[1]),i=Vp(n[2])-1,o=Vp(n[3]),l=Vp(n[4]),d=Vp(n[5])-1;if(r)return GZ(e,l,d)?UZ(e,l,d):new Date(NaN);{const p=new Date(0);return!HZ(e,i,o)||!WZ(e,s)?new Date(NaN):(p.setUTCFullYear(e,i,Math.max(s,o)),p)}}function Vp(t){return t?parseInt(t):1}function zZ(t){const e=t.match(MZ);if(!e)return NaN;const n=_x(e[1]),r=_x(e[2]),s=_x(e[3]);return qZ(n,r,s)?n*G8+r*W8+s*1e3:NaN}function _x(t){return t&&parseFloat(t.replace(",","."))||0}function BZ(t){if(t==="Z")return 0;const e=t.match(OZ);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return KZ(r,s)?n*(r*G8+s*W8):NaN}function UZ(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const $Z=[31,null,31,30,31,30,31,31,30,31,30,31];function Q8(t){return t%400===0||t%4===0&&t%100!==0}function HZ(t,e,n){return e>=0&&e<=11&&n>=1&&n<=($Z[e]||(Q8(t)?29:28))}function WZ(t,e){return e>=1&&e<=(Q8(t)?366:365)}function GZ(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function qZ(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function KZ(t,e){return e>=0&&e<=59}const YZ={lessThanXSeconds:{one:" ",two:"  ",other:" {{count}} "},xSeconds:{one:"",two:" ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:" ",two:"  ",other:" {{count}} "},xMinutes:{one:"",two:" ",other:"{{count}} "},aboutXHours:{one:"",two:"",other:"{{count}} "},xHours:{one:"",two:"",other:"{{count}} "},xDays:{one:"",two:"",other:"{{count}} "},aboutXWeeks:{one:"",two:"",other:"{{count}} "},xWeeks:{one:"",two:"",other:"{{count}} "},aboutXMonths:{one:"",two:"",other:"{{count}} "},xMonths:{one:"",two:"",other:"{{count}} "},aboutXYears:{one:"",two:"",other:"{{count}} "},xYears:{one:"",two:"",other:"{{count}} "},overXYears:{one:" ",two:" ",other:" {{count}} "},almostXYears:{one:" ",two:" ",other:" {{count}} "}},XZ=(t,e,n)=>{if(t==="xDays"&&(n!=null&&n.addSuffix)&&e<=2)return n.comparison&&n.comparison>0?e===1?"":"":e===1?"":"";let r;const s=YZ[t];return typeof s=="string"?r=s:e===1?r=s.one:e===2?r=s.two:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+r:" "+r:r},QZ={full:"EEEE, d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"d.M.y"},JZ={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},ZZ={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eee={date:ff({formats:QZ,defaultWidth:"full"}),time:ff({formats:JZ,defaultWidth:"full"}),dateTime:ff({formats:ZZ,defaultWidth:"full"})},tee={lastWeek:"eeee ' ' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},nee=(t,e,n,r)=>tee[t],ree={narrow:["",""],abbreviated:["",""],wide:[" ",""]},see={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:[" 1"," 2"," 3"," 4"]},iee={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},oee={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:[" "," "," "," "," "," ",""],wide:[" "," "," "," "," "," "," "]},aee={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},lee={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},cee=(t,e)=>{const n=Number(t);if(n<=0||n>10)return String(n);const r=String(e==null?void 0:e.unit),s=["year","hour","minute","second"].indexOf(r)>=0,i=["","","","","","","","","",""],o=["","","","","","","","","",""],l=n-1;return s?o[l]:i[l]},uee={ordinalNumber:cee,era:Sa({values:ree,defaultWidth:"wide"}),quarter:Sa({values:see,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sa({values:iee,defaultWidth:"wide"}),day:Sa({values:oee,defaultWidth:"wide"}),dayPeriod:Sa({values:aee,defaultWidth:"wide",formattingValues:lee,defaultFormattingWidth:"wide"})},dee=/^(\d+|(|||||||||||||||||||))/i,hee=/^(\d+||||||||||)/i,fee={narrow:/^(|)/i,abbreviated:/^(|)/i,wide:/^( )?/i},pee={any:[/^/i,/^/i]},mee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^ [1234]/i},gee={any:[/1/i,/2/i,/3/i,/4/i]},yee={narrow:/^\d+/i,abbreviated:/^(|||||||||||)?/i,wide:/^(|||||||||||)/i},vee={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},xee={narrow:/^[]/i,short:/^[]/i,abbreviated:/^(| (|||||))/i,wide:/^ (||||||)/i},wee={abbreviated:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/^/i],wide:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/$/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},_ee={any:/^( |)?(||||||)/i},bee={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon:/|/i,evening://i,night://i}},See=["","","","","","","","","",""],Eee={ordinalNumber:K8({matchPattern:dee,parsePattern:hee,valueCallback:t=>{const e=parseInt(t,10);return isNaN(e)?See.indexOf(t)+1:e}}),era:Ea({matchPatterns:fee,defaultMatchWidth:"wide",parsePatterns:pee,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:mee,defaultMatchWidth:"wide",parsePatterns:gee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:yee,defaultMatchWidth:"wide",parsePatterns:vee,defaultParseWidth:"any"}),day:Ea({matchPatterns:xee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:_ee,defaultMatchWidth:"any",parsePatterns:bee,defaultParseWidth:"any"})},qy={code:"he",formatDistance:XZ,formatLong:eee,formatRelative:nee,localize:uee,match:Eee,options:{weekStartsOn:0,firstWeekContainsDate:1}},K3={block:{"10x10":3.7,"10x15":4.7,"15x20":9.2},magnet:{"7.5x10":.7,"10x15":1.2,"15x20":1.7},photo:{"7.5x10":.3,"10x15":.5,"15x20":.9},bookmark:.9},J8=()=>{try{const t=localStorage.getItem("product_costs");return t?JSON.parse(t):K3}catch(t){return console.error("Error loading product costs:",t),K3}},Cee=t=>{try{return localStorage.setItem("product_costs",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("productCostsUpdated",{detail:t})),!0}catch(e){return console.error("Error saving product costs:",e),!1}},mb=(t,e=null)=>{const n=e||J8();return t.type==="bookmark"?n.bookmark||0:n[t.type]&&n[t.type][t.size]?n[t.type][t.size]:0},Z8=(t,e=null)=>!t.items||!Array.isArray(t.items)?0:t.items.reduce((n,r)=>{const s=mb(r,e),i=r.quantity||1;return n+s*i},0),eR=()=>{const[t,e]=b.useState(J8);return b.useEffect(()=>{const n=r=>{e(r.detail)};return window.addEventListener("productCostsUpdated",n),()=>window.removeEventListener("productCostsUpdated",n)},[]),t},Tee=["blocklick1@gmail.com","noamnissan10@gmail.com"];function G2(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState({}),[d,p]=b.useState(!1),[m,y]=b.useState(null),v=eR(),S=Km(),C=async()=>{r(!0);try{const R=await Rm.me();if(!Tee.some(z=>z.toLowerCase()===R.email.toLowerCase())){S("/");return}const F=await Zh.list("-created_date");e(F)}catch{S("/")}finally{r(!1)}};b.useEffect(()=>{C()},[S]);const k=R=>{y(R),l(v[R]||{}),p(!0)},P=()=>{const R={...v,[m]:o};Cee(R)?(p(!1),y(null),l({})):i("  ")},M=Et.useMemo(()=>{if(!t.length)return null;const R={block:{total:0,sizes:{}},magnet:{total:0,sizes:{}},photo:{total:0,sizes:{}}};return t.forEach(F=>{F.items&&Array.isArray(F.items)&&F.items.forEach(z=>{if(R[z.type]){const H=z.quantity||1;R[z.type].total+=H,R[z.type].sizes[z.size]||(R[z.type].sizes[z.size]=0),R[z.type].sizes[z.size]+=H}})}),R},[t]),j=Et.useMemo(()=>{if(!t.length)return null;const R={block:{revenue:0,costs:0,units:0},magnet:{revenue:0,costs:0,units:0},photo:{revenue:0,costs:0,units:0},bookmark:{revenue:0,costs:0,units:0}};return t.forEach(F=>{F.items&&Array.isArray(F.items)&&F.items.forEach(z=>{const H=z.quantity||1,$=(z.price||0)*H,U=mb(z,v)*H;R[z.type]&&(R[z.type].revenue+=$,R[z.type].costs+=U,R[z.type].units+=H)})}),R},[t,v]),D=Et.useMemo(()=>{if(!t.length)return{totalRevenue:0,totalCosts:0,estimatedProfit:0};const R=t.reduce((H,$)=>H+($.total_price||0),0),F=t.reduce((H,$)=>H+Z8($,v),0),z=R-F;return{totalRevenue:R,totalCosts:F,estimatedProfit:z}},[t,v]),V=Et.useMemo(()=>{if(!t.length)return null;const R=IZ(new Date),F=t.filter($=>jZ($.created_date)>=R),z={};return F.forEach($=>{$.items&&Array.isArray($.items)&&$.items.forEach(U=>{const ie=`${U.type}_${U.size}`;z[ie]||(z[ie]={type:U.type,size:U.size,count:0}),z[ie].count+=U.quantity||1})}),Object.values(z).sort(($,U)=>U.count-$.count)[0]||null},[t]),G=Et.useMemo(()=>{if(!t.length)return null;const R={};return t.forEach(z=>{z.items&&Array.isArray(z.items)&&z.items.forEach(H=>{const $=`${H.type}_${H.size}`;R[$]||(R[$]={type:H.type,size:H.size,count:0}),R[$].count+=H.quantity||1})}),Object.values(R).sort((z,H)=>H.count-z.count)[0]||null},[t]),J=R=>{switch(R){case"block":return" ";case"magnet":return"";case"photo":return"";case"bookmark":return"";default:return R}},B=R=>{switch(R){case"block":return ko;case"magnet":return hz;case"photo":return Ry;default:return ko}};return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(vs,{className:"h-8 w-8 animate-spin text-slate-500"})}):s?h.jsx("div",{className:"container mx-auto p-6",children:h.jsxs(vu,{variant:"destructive",children:[h.jsx(Am,{className:"h-4 w-4"}),h.jsx(z1,{children:""}),h.jsx(xu,{children:s})]})}):h.jsxs("div",{className:"container mx-auto p-6",dir:"rtl",children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-8",children:" "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:M&&Object.entries(M).map(([R,F])=>{const z=B(R);return h.jsxs(So,{children:[h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Co,{className:"text-sm font-medium",children:J(R)}),h.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(To,{children:[h.jsxs("div",{className:"text-2xl font-bold mb-4",children:[F.total," "]}),h.jsx("div",{className:"space-y-2",children:Object.entries(F.sizes).map(([H,$])=>h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsxs("span",{children:[H,":"]}),h.jsx("span",{className:"font-medium",children:$})]},H))})]})]},R)})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[h.jsxs(So,{children:[h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Co,{className:"text-lg font-medium",children:"   "}),h.jsx(UT,{className:"h-5 w-5 text-muted-foreground"})]}),h.jsx(To,{children:V?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[J(V.type)," ",V.size]}),h.jsxs("div",{className:"text-lg text-slate-600",children:[V.count," "]}),h.jsx("div",{className:"text-sm text-slate-500",children:"7  "})]}):h.jsx("div",{className:"text-slate-500",children:"  "})})]}),h.jsxs(So,{children:[h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Co,{className:"text-lg font-medium",children:"    "}),h.jsx(WB,{className:"h-5 w-5 text-amber-500"})]}),h.jsx(To,{children:G?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-xl font-bold text-amber-600",children:[J(G.type)," ",G.size]}),h.jsxs("div",{className:"text-lg text-slate-600",children:[G.count," "]}),h.jsx("div",{className:"text-sm text-slate-500",children:" "})]}):h.jsx("div",{className:"text-slate-500",children:" "})})]})]}),j&&h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"   "}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.entries(j).filter(([R,F])=>F.units>0).map(([R,F])=>{const z={block:" ",magnet:"",photo:"",bookmark:""},H=F.revenue-F.costs,$=F.revenue>0?H/F.revenue*100:0;return h.jsxs(So,{className:"relative",children:[h.jsx(Eo,{className:"pb-2",children:h.jsxs(Co,{className:"text-lg font-medium flex items-center justify-between",children:[z[R],h.jsxs(pm,{variant:"outline",children:[F.units," '"]})]})}),h.jsxs(To,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:":"}),h.jsxs("span",{className:"font-medium text-green-600",children:["",F.revenue.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:":"}),h.jsxs("span",{className:"font-medium text-red-600",children:["",F.costs.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[h.jsx("span",{children:":"}),h.jsxs("span",{className:`font-bold ${H>=0?"text-green-600":"text-red-600"}`,children:["",H.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[h.jsx("span",{children:":"}),h.jsxs("span",{children:[$.toFixed(1),"%"]})]}),h.jsxs("div",{className:"mt-4 pt-3 border-t",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-xs font-medium text-slate-600",children:" :"}),h.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>k(R),className:"h-6 w-6 p-0 text-slate-400 hover:text-slate-600",children:h.jsx(uB,{className:"h-3 w-3"})})]}),h.jsx("div",{className:"space-y-1 text-xs",children:R==="bookmark"?h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:":"}),h.jsxs("span",{children:["",v.bookmark.toFixed(2)]})]}):Object.entries(v[R]||{}).map(([U,ie])=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[U,":"]}),h.jsxs("span",{children:["",ie.toFixed(2)]})]},U))})]})]})]},R)})})]}),h.jsxs(So,{children:[h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Co,{className:"text-lg font-medium",children:"  "}),h.jsx(d2,{className:"h-5 w-5 text-muted-foreground"})]}),h.jsx(To,{children:h.jsxs("div",{className:"text-slate-600",children:[h.jsx("p",{children:"           ."}),h.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"   ,     Google Analytics   ."})]})})]}),h.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:" "}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.length}),h.jsx("div",{className:"text-sm text-slate-600",children:'" '})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:M?Object.values(M).reduce((R,F)=>R+F.total,0):0}),h.jsx("div",{className:"text-sm text-slate-600",children:'" '})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:["",D.totalRevenue.toFixed(2)]}),h.jsx("div",{className:"text-sm text-slate-600",children:'" '})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["",D.totalCosts.toFixed(2)]}),h.jsx("div",{className:"text-sm text-slate-600",children:'" '})]}),h.jsxs("div",{children:[h.jsxs("div",{className:`text-2xl font-bold ${D.estimatedProfit>=0?"text-green-600":"text-red-600"}`,children:["",D.estimatedProfit.toFixed(2)]}),h.jsx("div",{className:"text-sm text-slate-600",children:" "})]})]})]}),h.jsx(cu,{open:d,onOpenChange:p,children:h.jsxs(Dl,{className:"sm:max-w-[425px]",dir:"rtl",children:[h.jsx(Ml,{children:h.jsxs(Ol,{children:["  - ",m&&J(m)]})}),h.jsx("div",{className:"grid gap-4 py-4",children:m==="bookmark"?h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx(Dn,{htmlFor:"bookmark",className:"text-right",children:" :"}),h.jsx(sr,{id:"bookmark",value:o,onChange:R=>l(parseFloat(R.target.value)||0),className:"col-span-3",type:"number",step:"0.01"})]}):m&&v[m]&&Object.keys(v[m]).map(R=>h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsxs(Dn,{htmlFor:R,className:"text-right",children:[R,":"]}),h.jsx(sr,{id:R,value:o[R]||0,onChange:F=>l(z=>({...z,[R]:parseFloat(F.target.value)||0})),className:"col-span-3",type:"number",step:"0.01"})]},R))}),h.jsxs(x_,{children:[h.jsxs(Ke,{variant:"outline",onClick:()=>p(!1),children:[h.jsx(Id,{className:"h-4 w-4 mr-2"}),""]}),h.jsxs(Ke,{onClick:P,children:[h.jsx(bB,{className:"h-4 w-4 mr-2"}),""]})]})]})})]})}function Um(t,[e,n]){return Math.min(n,Math.max(e,t))}function Nee(t){const e=kee(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),d=l.find(Ree);if(d){const p=d.props.children,m=l.map(y=>y===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return h.jsx(e,{...o,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function kee(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=Iee(s),l=Aee(i,s.props);return s.type!==b.Fragment&&(l.ref=r?Hl(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pee=Symbol("radix.slottable");function Ree(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pee}function Aee(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const d=i(...l);return s(...l),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Iee(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function U1(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jee="VisuallyHidden",Dee=b.forwardRef((t,e)=>h.jsx(ft.span,{...t,ref:e,style:{...tR,...t.style}}));Dee.displayName=jee;var Mee=[" ","Enter","ArrowUp","ArrowDown"],Oee=[" ","Enter"],Md="Select",[$1,H1,Lee]=R1(Md),[$f]=jo(Md,[Lee,O1]),W1=O1(),[Vee,wu]=$f(Md),[Fee,zee]=$f(Md),nR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:p,name:m,autoComplete:y,disabled:v,required:S,form:C}=t,k=W1(e),[P,M]=b.useState(null),[j,D]=b.useState(null),[V,G]=b.useState(!1),J=dg(p),[B,R]=lu({prop:r,defaultProp:s??!1,onChange:i,caller:Md}),[F,z]=lu({prop:o,defaultProp:l,onChange:d,caller:Md}),H=b.useRef(null),$=P?C||!!P.closest("form"):!0,[U,ie]=b.useState(new Set),de=Array.from(U).map(ue=>ue.props.value).join(";");return h.jsx(zP,{...k,children:h.jsxs(Vee,{required:S,scope:e,trigger:P,onTriggerChange:M,valueNode:j,onValueNodeChange:D,valueNodeHasChildren:V,onValueNodeHasChildrenChange:G,contentId:Pl(),value:F,onValueChange:z,open:B,onOpenChange:R,dir:J,triggerPointerDownPosRef:H,disabled:v,children:[h.jsx($1.Provider,{scope:e,children:h.jsx(Fee,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(ue=>{ie(ne=>new Set(ne).add(ue))},[]),onNativeOptionRemove:b.useCallback(ue=>{ie(ne=>{const K=new Set(ne);return K.delete(ue),K})},[]),children:n})}),$?h.jsxs(TR,{"aria-hidden":!0,required:S,tabIndex:-1,name:m,autoComplete:y,value:F,onChange:ue=>z(ue.target.value),disabled:v,form:C,children:[F===void 0?h.jsx("option",{value:""}):null,Array.from(U)]},de):null]})})};nR.displayName=Md;var rR="SelectTrigger",sR=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=W1(n),o=wu(rR,n),l=o.disabled||r,d=bt(e,o.onTriggerChange),p=H1(n),m=b.useRef("touch"),[y,v,S]=kR(k=>{const P=p().filter(D=>!D.disabled),M=P.find(D=>D.value===o.value),j=PR(P,k,M);j!==void 0&&o.onValueChange(j.value)}),C=k=>{l||(o.onOpenChange(!0),S()),k&&(o.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return h.jsx(BP,{asChild:!0,...i,children:h.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NR(o.value)?"":void 0,...s,ref:d,onClick:We(s.onClick,k=>{k.currentTarget.focus(),m.current!=="mouse"&&C(k)}),onPointerDown:We(s.onPointerDown,k=>{m.current=k.pointerType;const P=k.target;P.hasPointerCapture(k.pointerId)&&P.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(C(k),k.preventDefault())}),onKeyDown:We(s.onKeyDown,k=>{const P=y.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&v(k.key),!(P&&k.key===" ")&&Mee.includes(k.key)&&(C(),k.preventDefault())})})})});sR.displayName=rR;var iR="SelectValue",oR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,d=wu(iR,n),{onValueNodeHasChildrenChange:p}=d,m=i!==void 0,y=bt(e,d.onValueNodeChange);return is(()=>{p(m)},[p,m]),h.jsx(ft.span,{...l,ref:y,style:{pointerEvents:"none"},children:NR(d.value)?h.jsx(h.Fragment,{children:o}):i})});oR.displayName=iR;var Bee="SelectIcon",aR=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(ft.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});aR.displayName=Bee;var Uee="SelectPortal",lR=t=>h.jsx(w1,{asChild:!0,...t});lR.displayName=Uee;var Od="SelectContent",cR=b.forwardRef((t,e)=>{const n=wu(Od,t.__scopeSelect),[r,s]=b.useState();if(is(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Xm.createPortal(h.jsx(uR,{scope:t.__scopeSelect,children:h.jsx($1.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(dR,{...t,ref:e})});cR.displayName=Od;var bo=10,[uR,_u]=$f(Od),$ee="SelectContentImpl",Hee=Nee("SelectContent.RemoveScroll"),dR=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:S,sticky:C,hideWhenDetached:k,avoidCollisions:P,...M}=t,j=wu(Od,n),[D,V]=b.useState(null),[G,J]=b.useState(null),B=bt(e,xe=>V(xe)),[R,F]=b.useState(null),[z,H]=b.useState(null),$=H1(n),[U,ie]=b.useState(!1),de=b.useRef(!1);b.useEffect(()=>{if(D)return m_(D)},[D]),p_();const ue=b.useCallback(xe=>{const[Ce,...je]=$().map(ze=>ze.ref.current),[Xe]=je.slice(-1),Ae=document.activeElement;for(const ze of xe)if(ze===Ae||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ce&&G&&(G.scrollTop=0),ze===Xe&&G&&(G.scrollTop=G.scrollHeight),ze==null||ze.focus(),document.activeElement!==Ae))return},[$,G]),ne=b.useCallback(()=>ue([R,D]),[ue,R,D]);b.useEffect(()=>{U&&ne()},[U,ne]);const{onOpenChange:K,triggerPointerDownPosRef:te}=j;b.useEffect(()=>{if(D){let xe={x:0,y:0};const Ce=Xe=>{var Ae,ze;xe={x:Math.abs(Math.round(Xe.pageX)-(((Ae=te.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Xe.pageY)-(((ze=te.current)==null?void 0:ze.y)??0))}},je=Xe=>{xe.x<=10&&xe.y<=10?Xe.preventDefault():D.contains(Xe.target)||K(!1),document.removeEventListener("pointermove",Ce),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",je,{capture:!0})}}},[D,K,te]),b.useEffect(()=>{const xe=()=>K(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[K]);const[Q,q]=kR(xe=>{const Ce=$().filter(Ae=>!Ae.disabled),je=Ce.find(Ae=>Ae.ref.current===document.activeElement),Xe=PR(Ce,xe,je);Xe&&setTimeout(()=>Xe.ref.current.focus())}),re=b.useCallback((xe,Ce,je)=>{const Xe=!de.current&&!je;(j.value!==void 0&&j.value===Ce||Xe)&&(F(xe),Xe&&(de.current=!0))},[j.value]),_e=b.useCallback(()=>D==null?void 0:D.focus(),[D]),ke=b.useCallback((xe,Ce,je)=>{const Xe=!de.current&&!je;(j.value!==void 0&&j.value===Ce||Xe)&&H(xe)},[j.value]),Je=r==="popper"?q2:hR,Ue=Je===q2?{side:l,sideOffset:d,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:S,sticky:C,hideWhenDetached:k,avoidCollisions:P}:{};return h.jsx(uR,{scope:n,content:D,viewport:G,onViewportChange:J,itemRefCallback:re,selectedItem:R,onItemLeave:_e,itemTextRefCallback:ke,focusSelectedItem:ne,selectedItemText:z,position:r,isPositioned:U,searchRef:Q,children:h.jsx(b1,{as:Hee,allowPinchZoom:!0,children:h.jsx(x1,{asChild:!0,trapped:j.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:We(s,xe=>{var Ce;(Ce=j.trigger)==null||Ce.focus({preventScroll:!0}),xe.preventDefault()}),children:h.jsx(v1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:h.jsx(Je,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:xe=>xe.preventDefault(),...M,...Ue,onPlaced:()=>ie(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:We(M.onKeyDown,xe=>{const Ce=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ce&&xe.key.length===1&&q(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Xe=$().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Ae=xe.target,ze=Xe.indexOf(Ae);Xe=Xe.slice(ze+1)}setTimeout(()=>ue(Xe)),xe.preventDefault()}})})})})})})});dR.displayName=$ee;var Wee="SelectItemAlignedPosition",hR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wu(Od,n),o=_u(Od,n),[l,d]=b.useState(null),[p,m]=b.useState(null),y=bt(e,B=>m(B)),v=H1(n),S=b.useRef(!1),C=b.useRef(!0),{viewport:k,selectedItem:P,selectedItemText:M,focusSelectedItem:j}=o,D=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&p&&k&&P&&M){const B=i.trigger.getBoundingClientRect(),R=p.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),z=M.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=z.left-R.left,ze=F.left-Ae,ot=B.left-ze,Ct=B.width+ot,kn=Math.max(Ct,R.width),zs=window.innerWidth-bo,xs=Um(ze,[bo,Math.max(bo,zs-kn)]);l.style.minWidth=Ct+"px",l.style.left=xs+"px"}else{const Ae=R.right-z.right,ze=window.innerWidth-F.right-Ae,ot=window.innerWidth-B.right-ze,Ct=B.width+ot,kn=Math.max(Ct,R.width),zs=window.innerWidth-bo,xs=Um(ze,[bo,Math.max(bo,zs-kn)]);l.style.minWidth=Ct+"px",l.style.right=xs+"px"}const H=v(),$=window.innerHeight-bo*2,U=k.scrollHeight,ie=window.getComputedStyle(p),de=parseInt(ie.borderTopWidth,10),ue=parseInt(ie.paddingTop,10),ne=parseInt(ie.borderBottomWidth,10),K=parseInt(ie.paddingBottom,10),te=de+ue+U+K+ne,Q=Math.min(P.offsetHeight*5,te),q=window.getComputedStyle(k),re=parseInt(q.paddingTop,10),_e=parseInt(q.paddingBottom,10),ke=B.top+B.height/2-bo,Je=$-ke,Ue=P.offsetHeight/2,xe=P.offsetTop+Ue,Ce=de+ue+xe,je=te-Ce;if(Ce<=ke){const Ae=H.length>0&&P===H[H.length-1].ref.current;l.style.bottom="0px";const ze=p.clientHeight-k.offsetTop-k.offsetHeight,ot=Math.max(Je,Ue+(Ae?_e:0)+ze+ne),Ct=Ce+ot;l.style.height=Ct+"px"}else{const Ae=H.length>0&&P===H[0].ref.current;l.style.top="0px";const ot=Math.max(ke,de+k.offsetTop+(Ae?re:0)+Ue)+je;l.style.height=ot+"px",k.scrollTop=Ce-ke+k.offsetTop}l.style.margin=`${bo}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[v,i.trigger,i.valueNode,l,p,k,P,M,i.dir,r]);is(()=>D(),[D]);const[V,G]=b.useState();is(()=>{p&&G(window.getComputedStyle(p).zIndex)},[p]);const J=b.useCallback(B=>{B&&C.current===!0&&(D(),j==null||j(),C.current=!1)},[D,j]);return h.jsx(qee,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:J,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:h.jsx(ft.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hR.displayName=Wee;var Gee="SelectPopperPosition",q2=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=bo,...i}=t,o=W1(n);return h.jsx(UP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q2.displayName=Gee;var[qee,gb]=$f(Od,{}),K2="SelectViewport",fR=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_u(K2,n),o=gb(K2,n),l=bt(e,i.onViewportChange),d=b.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx($1.Slot,{scope:n,children:h.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,p=>{const m=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&y){const S=Math.abs(d.current-m.scrollTop);if(S>0){const C=window.innerHeight-bo*2,k=parseFloat(y.style.minHeight),P=parseFloat(y.style.height),M=Math.max(k,P);if(M<C){const j=M+S,D=Math.min(C,j),V=j-D;y.style.height=D+"px",y.style.bottom==="0px"&&(m.scrollTop=V>0?V:0,y.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});fR.displayName=K2;var pR="SelectGroup",[Kee,Yee]=$f(pR),Xee=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pl();return h.jsx(Kee,{scope:n,id:s,children:h.jsx(ft.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Xee.displayName=pR;var mR="SelectLabel",gR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Yee(mR,n);return h.jsx(ft.div,{id:s.id,...r,ref:e})});gR.displayName=mR;var Ky="SelectItem",[Qee,yR]=$f(Ky),vR=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=wu(Ky,n),d=_u(Ky,n),p=l.value===r,[m,y]=b.useState(i??""),[v,S]=b.useState(!1),C=bt(e,j=>{var D;return(D=d.itemRefCallback)==null?void 0:D.call(d,j,r,s)}),k=Pl(),P=b.useRef("touch"),M=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Qee,{scope:n,value:r,disabled:s,textId:k,isSelected:p,onItemTextChange:b.useCallback(j=>{y(D=>D||((j==null?void 0:j.textContent)??"").trim())},[]),children:h.jsx($1.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:h.jsx(ft.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:C,onFocus:We(o.onFocus,()=>S(!0)),onBlur:We(o.onBlur,()=>S(!1)),onClick:We(o.onClick,()=>{P.current!=="mouse"&&M()}),onPointerUp:We(o.onPointerUp,()=>{P.current==="mouse"&&M()}),onPointerDown:We(o.onPointerDown,j=>{P.current=j.pointerType}),onPointerMove:We(o.onPointerMove,j=>{var D;P.current=j.pointerType,s?(D=d.onItemLeave)==null||D.call(d):P.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(o.onPointerLeave,j=>{var D;j.currentTarget===document.activeElement&&((D=d.onItemLeave)==null||D.call(d))}),onKeyDown:We(o.onKeyDown,j=>{var V;((V=d.searchRef)==null?void 0:V.current)!==""&&j.key===" "||(Oee.includes(j.key)&&M(),j.key===" "&&j.preventDefault())})})})})});vR.displayName=Ky;var Xp="SelectItemText",xR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wu(Xp,n),l=_u(Xp,n),d=yR(Xp,n),p=zee(Xp,n),[m,y]=b.useState(null),v=bt(e,M=>y(M),d.onItemTextChange,M=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,M,d.value,d.disabled)}),S=m==null?void 0:m.textContent,C=b.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:S},d.value),[d.disabled,d.value,S]),{onNativeOptionAdd:k,onNativeOptionRemove:P}=p;return is(()=>(k(C),()=>P(C)),[k,P,C]),h.jsxs(h.Fragment,{children:[h.jsx(ft.span,{id:d.textId,...i,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xm.createPortal(i.children,o.valueNode):null]})});xR.displayName=Xp;var wR="SelectItemIndicator",_R=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yR(wR,n).isSelected?h.jsx(ft.span,{"aria-hidden":!0,...r,ref:e}):null});_R.displayName=wR;var Y2="SelectScrollUpButton",bR=b.forwardRef((t,e)=>{const n=_u(Y2,t.__scopeSelect),r=gb(Y2,t.__scopeSelect),[s,i]=b.useState(!1),o=bt(e,r.onScrollButtonChange);return is(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=d.scrollTop>0;i(p)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?h.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});bR.displayName=Y2;var X2="SelectScrollDownButton",SR=b.forwardRef((t,e)=>{const n=_u(X2,t.__scopeSelect),r=gb(X2,t.__scopeSelect),[s,i]=b.useState(!1),o=bt(e,r.onScrollButtonChange);return is(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<p;i(m)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?h.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});SR.displayName=X2;var ER=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_u("SelectScrollButton",n),o=b.useRef(null),l=H1(n),d=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),is(()=>{var m;const p=l().find(y=>y.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),h.jsx(ft.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:We(s.onPointerMove,()=>{var p;(p=i.onItemLeave)==null||p.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:We(s.onPointerLeave,()=>{d()})})}),Jee="SelectSeparator",CR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(ft.div,{"aria-hidden":!0,...r,ref:e})});CR.displayName=Jee;var Q2="SelectArrow",Zee=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=W1(n),i=wu(Q2,n),o=_u(Q2,n);return i.open&&o.position==="popper"?h.jsx($P,{...s,...r,ref:e}):null});Zee.displayName=Q2;var ete="SelectBubbleInput",TR=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=bt(r,s),o=U1(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const y=new Event("change",{bubbles:!0});m.call(l,e),l.dispatchEvent(y)}},[o,e]),h.jsx(ft.select,{...n,style:{...tR,...n.style},ref:i,defaultValue:e})});TR.displayName=ete;function NR(t){return t===""||t===void 0}function kR(t){const e=rs(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const l=n.current+o;e(l),(function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(l)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function PR(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=tte(t,Math.max(i,0));s.length===1&&(o=o.filter(p=>p!==n));const d=o.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function tte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nte=nR,RR=sR,rte=oR,ste=aR,ite=lR,AR=cR,ote=fR,IR=gR,jR=vR,ate=xR,lte=_R,DR=bR,MR=SR,OR=CR;const LR=nte,VR=rte,yb=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(RR,{ref:r,className:lt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(ste,{asChild:!0,children:h.jsx(u_,{className:"h-4 w-4 opacity-50"})})]}));yb.displayName=RR.displayName;const FR=b.forwardRef(({className:t,...e},n)=>h.jsx(DR,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(vz,{className:"h-4 w-4"})}));FR.displayName=DR.displayName;const zR=b.forwardRef(({className:t,...e},n)=>h.jsx(MR,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(u_,{className:"h-4 w-4"})}));zR.displayName=MR.displayName;const vb=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(ite,{children:h.jsxs(AR,{ref:s,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(FR,{}),h.jsx(ote,{className:lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(zR,{})]})}));vb.displayName=AR.displayName;const cte=b.forwardRef(({className:t,...e},n)=>h.jsx(IR,{ref:n,className:lt("px-2 py-1.5 text-sm font-semibold",t),...e}));cte.displayName=IR.displayName;const Sd=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(jR,{ref:r,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(lte,{children:h.jsx(Of,{className:"h-4 w-4"})})}),h.jsx(ate,{children:e})]}));Sd.displayName=jR.displayName;const ute=b.forwardRef(({className:t,...e},n)=>h.jsx(OR,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",t),...e}));ute.displayName=OR.displayName;const xb=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:lt("w-full caption-bottom text-sm",t),...e})}));xb.displayName="Table";const wb=b.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:lt("[&_tr]:border-b",t),...e}));wb.displayName="TableHeader";const _b=b.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:lt("[&_tr:last-child]:border-0",t),...e}));_b.displayName="TableBody";const dte=b.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dte.displayName="TableFooter";const pf=b.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));pf.displayName="TableRow";const Os=b.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:lt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Os.displayName="TableHead";const ts=b.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:lt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ts.displayName="TableCell";const hte=b.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:lt("mt-4 text-sm text-muted-foreground",t),...e}));hte.displayName="TableCaption";var G1="Switch",[fte]=jo(G1),[pte,mte]=fte(G1),BR=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:p,form:m,...y}=t,[v,S]=b.useState(null),C=bt(e,D=>S(D)),k=b.useRef(!1),P=v?m||!!v.closest("form"):!0,[M,j]=lu({prop:s,defaultProp:i??!1,onChange:p,caller:G1});return h.jsxs(pte,{scope:n,checked:M,disabled:l,children:[h.jsx(ft.button,{type:"button",role:"switch","aria-checked":M,"aria-required":o,"data-state":WR(M),"data-disabled":l?"":void 0,disabled:l,value:d,...y,ref:C,onClick:We(t.onClick,D=>{j(V=>!V),P&&(k.current=D.isPropagationStopped(),k.current||D.stopPropagation())})}),P&&h.jsx(HR,{control:v,bubbles:!k.current,name:r,value:d,checked:M,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});BR.displayName=G1;var UR="SwitchThumb",$R=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=mte(UR,n);return h.jsx(ft.span,{"data-state":WR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});$R.displayName=UR;var gte="SwitchBubbleInput",HR=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=b.useRef(null),l=bt(o,i),d=U1(n),p=M1(e);return b.useEffect(()=>{const m=o.current;if(!m)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&S){const C=new Event("click",{bubbles:r});S.call(m,n),m.dispatchEvent(C)}},[d,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HR.displayName=gte;function WR(t){return t?"checked":"unchecked"}var GR=BR,yte=$R;const qR=b.forwardRef(({className:t,...e},n)=>h.jsx(GR,{className:lt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(yte,{className:lt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));qR.displayName=GR.displayName;function vte(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var bb="ScrollArea",[KR]=jo(bb),[xte,Ki]=KR(bb),YR=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,d]=b.useState(null),[p,m]=b.useState(null),[y,v]=b.useState(null),[S,C]=b.useState(null),[k,P]=b.useState(null),[M,j]=b.useState(0),[D,V]=b.useState(0),[G,J]=b.useState(!1),[B,R]=b.useState(!1),F=bt(e,H=>d(H)),z=dg(s);return h.jsx(xte,{scope:n,type:r,dir:z,scrollHideDelay:i,scrollArea:l,viewport:p,onViewportChange:m,content:y,onContentChange:v,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:G,onScrollbarXEnabledChange:J,scrollbarY:k,onScrollbarYChange:P,scrollbarYEnabled:B,onScrollbarYEnabledChange:R,onCornerWidthChange:j,onCornerHeightChange:V,children:h.jsx(ft.div,{dir:z,...o,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":D+"px",...t.style}})})});YR.displayName=bb;var XR="ScrollAreaViewport",QR=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Ki(XR,n),l=b.useRef(null),d=bt(e,l,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QR.displayName=XR;var Fa="ScrollAreaScrollbar",Sb=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ki(Fa,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?h.jsx(wte,{...r,ref:e,forceMount:n}):s.type==="scroll"?h.jsx(_te,{...r,ref:e,forceMount:n}):s.type==="auto"?h.jsx(JR,{...r,ref:e,forceMount:n}):s.type==="always"?h.jsx(Eb,{...r,ref:e}):null});Sb.displayName=Fa;var wte=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ki(Fa,t.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let d=0;if(l){const p=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),h.jsx(_i,{present:n||i,children:h.jsx(JR,{"data-state":i?"visible":"hidden",...r,ref:e})})}),_te=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ki(Fa,t.__scopeScrollArea),i=t.orientation==="horizontal",o=K1(()=>d("SCROLL_END"),100),[l,d]=vte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const p=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[l,s.scrollHideDelay,d]),b.useEffect(()=>{const p=s.viewport,m=i?"scrollLeft":"scrollTop";if(p){let y=p[m];const v=()=>{const S=p[m];y!==S&&(d("SCROLL"),o()),y=S};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[s.viewport,i,d,o]),h.jsx(_i,{present:n||l!=="hidden",children:h.jsx(Eb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:We(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:We(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),JR=b.forwardRef((t,e)=>{const n=Ki(Fa,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=b.useState(!1),l=t.orientation==="horizontal",d=K1(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?p:m)}},10);return Cf(n.viewport,d),Cf(n.content,d),h.jsx(_i,{present:r||i,children:h.jsx(Eb,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Eb=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Ki(Fa,t.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=r9(l.viewport,l.content),m={...r,sizes:l,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function y(v,S){return Nte(v,o.current,l,S)}return n==="horizontal"?h.jsx(bte,{...m,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollLeft,S=Y3(v,l,s.dir);i.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=y(v,s.dir))}}):n==="vertical"?h.jsx(Ste,{...m,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const v=s.viewport.scrollTop,S=Y3(v,l);i.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=y(v))}}):null}),bte=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Ki(Fa,t.__scopeScrollArea),[o,l]=b.useState(),d=b.useRef(null),p=bt(e,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),h.jsx(e9,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":q1(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,y)=>{if(i.viewport){const v=i.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),i9(v,y)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Xy(o.paddingLeft),paddingEnd:Xy(o.paddingRight)}})}})}),Ste=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Ki(Fa,t.__scopeScrollArea),[o,l]=b.useState(),d=b.useRef(null),p=bt(e,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),h.jsx(e9,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":q1(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,y)=>{if(i.viewport){const v=i.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),i9(v,y)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Xy(o.paddingTop),paddingEnd:Xy(o.paddingBottom)}})}})}),[Ete,ZR]=KR(Fa),e9=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:m,onResize:y,...v}=t,S=Ki(Fa,n),[C,k]=b.useState(null),P=bt(e,F=>k(F)),M=b.useRef(null),j=b.useRef(""),D=S.viewport,V=r.content-r.viewport,G=rs(m),J=rs(d),B=K1(y,10);function R(F){if(M.current){const z=F.clientX-M.current.left,H=F.clientY-M.current.top;p({x:z,y:H})}}return b.useEffect(()=>{const F=z=>{const H=z.target;(C==null?void 0:C.contains(H))&&G(z,V)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[D,C,V,G]),b.useEffect(J,[r,J]),Cf(C,B),Cf(S.content,B),h.jsx(Ete,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:rs(i),onThumbPointerUp:rs(o),onThumbPositionChange:J,onThumbPointerDown:rs(l),children:h.jsx(ft.div,{...v,ref:P,style:{position:"absolute",...v.style},onPointerDown:We(t.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),M.current=C.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),R(F))}),onPointerMove:We(t.onPointerMove,R),onPointerUp:We(t.onPointerUp,F=>{const z=F.target;z.hasPointerCapture(F.pointerId)&&z.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=j.current,S.viewport&&(S.viewport.style.scrollBehavior=""),M.current=null})})})}),Yy="ScrollAreaThumb",t9=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ZR(Yy,t.__scopeScrollArea);return h.jsx(_i,{present:n||s.hasThumb,children:h.jsx(Cte,{ref:e,...r})})}),Cte=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Ki(Yy,n),o=ZR(Yy,n),{onThumbPositionChange:l}=o,d=bt(e,y=>o.onThumbChange(y)),p=b.useRef(void 0),m=K1(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const y=i.viewport;if(y){const v=()=>{if(m(),!p.current){const S=kte(y,l);p.current=S,l()}};return l(),y.addEventListener("scroll",v),()=>y.removeEventListener("scroll",v)}},[i.viewport,m,l]),h.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:We(t.onPointerDownCapture,y=>{const S=y.target.getBoundingClientRect(),C=y.clientX-S.left,k=y.clientY-S.top;o.onThumbPointerDown({x:C,y:k})}),onPointerUp:We(t.onPointerUp,o.onThumbPointerUp)})});t9.displayName=Yy;var Cb="ScrollAreaCorner",n9=b.forwardRef((t,e)=>{const n=Ki(Cb,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(Tte,{...t,ref:e}):null});n9.displayName=Cb;var Tte=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Ki(Cb,n),[i,o]=b.useState(0),[l,d]=b.useState(0),p=!!(i&&l);return Cf(s.scrollbarX,()=>{var y;const m=((y=s.scrollbarX)==null?void 0:y.offsetHeight)||0;s.onCornerHeightChange(m),d(m)}),Cf(s.scrollbarY,()=>{var y;const m=((y=s.scrollbarY)==null?void 0:y.offsetWidth)||0;s.onCornerWidthChange(m),o(m)}),p?h.jsx(ft.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Xy(t){return t?parseInt(t,10):0}function r9(t,e){const n=t/e;return isNaN(n)?0:n}function q1(t){const e=r9(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Nte(t,e,n,r="ltr"){const s=q1(n),i=s/2,o=e||i,l=s-o,d=n.scrollbar.paddingStart+o,p=n.scrollbar.size-n.scrollbar.paddingEnd-l,m=n.content-n.viewport,y=r==="ltr"?[0,m]:[m*-1,0];return s9([d,p],y)(t)}function Y3(t,e,n="ltr"){const r=q1(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,d=n==="ltr"?[0,o]:[o*-1,0],p=Um(t,d);return s9([0,o],[0,l])(p)}function s9(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function i9(t,e){return t>0&&t<e}var kte=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function K1(t,e){const n=rs(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Cf(t,e){const n=rs(e);is(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var o9=YR,Pte=QR,Rte=n9;const Qy=b.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(o9,{ref:r,className:lt("relative overflow-hidden",t),...n,children:[h.jsx(Pte,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(a9,{}),h.jsx(Rte,{})]}));Qy.displayName=o9.displayName;const a9=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>h.jsx(Sb,{ref:r,orientation:e,className:lt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:h.jsx(t9,{className:"relative flex-1 rounded-full bg-border"})}));a9.displayName=Sb.displayName;const Ate=["blocklick1@gmail.com","noamnissan10@gmail.com"];function l9(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState(!1),[d,p]=b.useState(null),[m,y]=b.useState({code:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:0,applicable_products:[],usage_limit:0,valid_from:"",valid_until:"",description:"",is_active:!0}),v=Km(),S=async()=>{r(!0);try{const j=await Rm.me();if(!Ate.some(V=>V.toLowerCase()===j.email.toLowerCase())){v("/");return}const D=await xd.list("-created_date");e(D)}catch(j){console.error("Error fetching coupons:",j),j.message&&j.message.includes("Rate limit")?i("   .     ."):v("/")}finally{r(!1)}};b.useEffect(()=>{const j=setTimeout(()=>{S()},100);return()=>clearTimeout(j)},[v]);const C=async j=>{j.preventDefault(),r(!0);try{d?await xd.update(d.id,m):await xd.create(m),l(!1),p(null),y({code:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_discount_amount:0,applicable_products:[],usage_limit:0,valid_from:"",valid_until:"",description:"",is_active:!0}),setTimeout(()=>{S()},500)}catch(D){console.error("Error saving coupon:",D),D.message&&D.message.includes("Rate limit")?i("   .     ."):i("  ")}finally{r(!1)}},k=j=>{p(j),y({code:j.code,discount_type:j.discount_type,discount_value:j.discount_value,min_order_amount:j.min_order_amount||0,max_discount_amount:j.max_discount_amount||0,applicable_products:j.applicable_products||[],usage_limit:j.usage_limit||0,valid_from:j.valid_from?new Date(j.valid_from).toISOString().split("T")[0]:"",valid_until:j.valid_until?new Date(j.valid_until).toISOString().split("T")[0]:"",description:j.description||"",is_active:j.is_active}),l(!0)},P=async j=>{if(confirm("      ?"))try{await xd.delete(j),setTimeout(()=>{S()},300)}catch(D){console.error("Error deleting coupon:",D),D.message&&D.message.includes("Rate limit")?i("   .     ."):i("  ")}},M=async j=>{try{await xd.update(j.id,{...j,is_active:!j.is_active}),setTimeout(()=>{S()},300)}catch(D){console.error("Error updating coupon:",D),D.message&&D.message.includes("Rate limit")?i("   .     ."):i("  ")}};return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(vs,{className:"h-8 w-8 animate-spin text-slate-500"})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-amber-50",dir:"rtl",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-amber-500 text-white py-16 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx(Ee.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 right-10 w-20 h-20 bg-white/10 rounded-full flex items-center justify-center",children:h.jsx(e5,{className:"h-10 w-10"})}),h.jsx(Ee.div,{animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-10 left-10 w-16 h-16 bg-white/10 rounded-full flex items-center justify-center",children:h.jsx(jB,{className:"h-8 w-8"})})]}),h.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-4 mb-4",children:[h.jsx(y0,{className:"h-12 w-12"}),h.jsx("h1",{className:"text-4xl font-bold",children:" "}),h.jsx(X0,{className:"h-12 w-12"})]}),h.jsx("p",{className:"text-xl opacity-90",children:"    "})]})]}),h.jsxs("div",{className:"container mx-auto p-6 -mt-8 relative z-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-amber-500 rounded-full flex items-center justify-center",children:h.jsx(e5,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:" "}),h.jsx("p",{className:"text-slate-600",children:"    "})]})]}),h.jsxs(cu,{open:o,onOpenChange:l,children:[h.jsx(U$,{asChild:!0,children:h.jsxs(Ke,{className:"bg-gradient-to-r from-purple-500 to-amber-500 hover:from-purple-600 hover:to-amber-600 shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsx(GT,{className:"h-4 w-4 mr-2"})," "]})}),h.jsxs(Dl,{className:"max-w-2xl max-h-[90vh] overflow-hidden",dir:"rtl",children:[h.jsx(Ml,{children:h.jsxs(Ol,{className:"flex items-center gap-2 text-2xl",children:[h.jsx(y0,{className:"h-6 w-6 text-purple-600"}),d?" ":" "]})}),h.jsx(Qy,{className:"max-h-[75vh] px-1",children:h.jsxs("form",{onSubmit:C,className:"space-y-6 pr-4",children:[h.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[h.jsx(X0,{className:"h-5 w-5 text-purple-600"})," "]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"code",className:"text-slate-700 font-medium",children:"  *"}),h.jsx(sr,{id:"code",value:m.code,onChange:j=>y({...m,code:j.target.value.toUpperCase()}),placeholder:"SAVE10",className:"mt-1",required:!0})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"discount_type",className:"text-slate-700 font-medium",children:"  *"}),h.jsxs(LR,{value:m.discount_type,onValueChange:j=>y({...m,discount_type:j}),children:[h.jsx(yb,{className:"mt-1",children:h.jsx(VR,{})}),h.jsxs(vb,{children:[h.jsx(Sd,{value:"percentage",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(t5,{className:"h-4 w-4"}),""]})}),h.jsx(Sd,{value:"fixed",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(h2,{className:"h-4 w-4"})," "]})})]})]})]})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"discount_value",className:"text-slate-700 font-medium",children:m.discount_type==="percentage"?"  *":"  () *"}),h.jsx(sr,{id:"discount_value",type:"number",min:"0",max:m.discount_type==="percentage"?"100":void 0,value:m.discount_value,onChange:j=>y({...m,discount_value:parseFloat(j.target.value)||0}),className:"mt-1",required:!0})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"description",className:"text-slate-700 font-medium",children:" "}),h.jsx(sr,{id:"description",value:m.description,onChange:j=>y({...m,description:j.target.value}),placeholder:"   ",className:"mt-1"})]})]}),h.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[h.jsx(Am,{className:"h-5 w-5 text-amber-600"})," "]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"min_order_amount",className:"text-slate-700 font-medium",children:"   ()"}),h.jsx(sr,{id:"min_order_amount",type:"number",min:"0",value:m.min_order_amount,onChange:j=>y({...m,min_order_amount:parseFloat(j.target.value)||0}),placeholder:"0 =  ",className:"mt-1"})]}),m.discount_type==="percentage"&&h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"max_discount_amount",className:"text-slate-700 font-medium",children:"  ()"}),h.jsx(sr,{id:"max_discount_amount",type:"number",min:"0",value:m.max_discount_amount,onChange:j=>y({...m,max_discount_amount:parseFloat(j.target.value)||0}),placeholder:"0 =  ",className:"mt-1"})]})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"usage_limit",className:"text-slate-700 font-medium",children:" "}),h.jsx(sr,{id:"usage_limit",type:"number",min:"0",value:m.usage_limit,onChange:j=>y({...m,usage_limit:parseInt(j.target.value)||0}),placeholder:"0 =  ",className:"mt-1"})]})]}),h.jsxs("div",{className:"bg-green-50 rounded-xl p-6 space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "}),h.jsx("div",{className:"flex gap-4 flex-wrap",children:["block","magnet","photo"].map(j=>{const D={block:" ",magnet:"",photo:""};return h.jsxs("label",{className:"flex items-center gap-3 bg-white rounded-lg px-4 py-3 border border-slate-200 hover:border-green-300 transition-colors cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:m.applicable_products.includes(j),onChange:V=>{V.target.checked?y({...m,applicable_products:[...m.applicable_products,j]}):y({...m,applicable_products:m.applicable_products.filter(G=>G!==j)})},className:"w-4 h-4 text-green-600"}),h.jsx("span",{className:"font-medium text-slate-700",children:D[j]})]},j)})}),h.jsx("p",{className:"text-sm text-slate-500",children:"   =     "})]}),h.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"valid_from",className:"text-slate-700 font-medium",children:" "}),h.jsx(sr,{id:"valid_from",type:"date",value:m.valid_from,onChange:j=>y({...m,valid_from:j.target.value}),className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"valid_until",className:"text-slate-700 font-medium",children:"  "}),h.jsx(sr,{id:"valid_until",type:"date",value:m.valid_until,onChange:j=>y({...m,valid_until:j.target.value}),className:"mt-1"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-50 rounded-xl p-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "}),h.jsx("p",{className:"text-slate-600",children:"    "})]}),h.jsx(qR,{id:"is_active",checked:m.is_active,onCheckedChange:j=>y({...m,is_active:j})})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[h.jsx(Ke,{type:"button",variant:"outline",onClick:()=>l(!1),children:""}),h.jsxs(Ke,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-amber-500 hover:from-purple-600 hover:to-amber-600",children:[d?"":""," "]})]})]})})]})]})]}),s&&h.jsxs(vu,{variant:"destructive",className:"mb-6",children:[h.jsx(Am,{className:"h-4 w-4"}),h.jsx(z1,{children:""}),h.jsx(xu,{children:s})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200",children:[h.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-amber-50 p-6 border-b border-slate-200",children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-amber-500 rounded-full flex items-center justify-center",children:h.jsx(y0,{className:"h-5 w-5 text-white"})}),h.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:[t.length,"  "]})]})})}),h.jsx(Qy,{className:"h-[60vh]",children:h.jsxs(xb,{children:[h.jsx(wb,{className:"sticky top-0 bg-slate-50 z-10",children:h.jsxs(pf,{className:"border-b-2 border-slate-200",children:[h.jsx(Os,{className:"text-right font-bold text-slate-700",children:" "}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:" "}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:" "}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-bold text-slate-700",children:""})]})}),h.jsx(_b,{children:t.length===0?h.jsx(pf,{children:h.jsx(ts,{colSpan:"7",className:"text-center text-slate-500 py-16",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(y0,{className:"h-16 w-16 text-slate-300"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),h.jsx("p",{children:"    "})]})]})})}):t.map(j=>h.jsxs(pf,{className:"hover:bg-slate-50 transition-colors",children:[h.jsx(ts,{className:"font-mono font-bold text-slate-800",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-amber-100 rounded-full flex items-center justify-center",children:h.jsx(X0,{className:"h-4 w-4 text-purple-600"})}),h.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-amber-600 bg-clip-text text-transparent font-bold",children:j.code})]})}),h.jsx(ts,{children:h.jsx("div",{className:"flex items-center gap-2",children:j.discount_type==="percentage"?h.jsxs(h.Fragment,{children:[h.jsx(t5,{className:"h-4 w-4 text-blue-600"}),h.jsx("span",{className:"text-blue-700 font-medium",children:""})]}):h.jsxs(h.Fragment,{children:[h.jsx(h2,{className:"h-4 w-4 text-green-600"}),h.jsx("span",{className:"text-green-700 font-medium",children:" "})]})})}),h.jsxs(ts,{className:"font-semibold",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:`text-lg ${j.discount_type==="percentage"?"text-blue-700":"text-green-700"}`,children:j.discount_type==="percentage"?`${j.discount_value}%`:`${j.discount_value}`})}),j.max_discount_amount&&j.discount_type==="percentage"&&h.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[": ",j.max_discount_amount]})]}),h.jsx(ts,{children:j.applicable_products&&j.applicable_products.length>0?h.jsx("div",{className:"flex flex-wrap gap-1",children:j.applicable_products.map(D=>{const V={block:"",magnet:"",photo:""},G={block:"bg-amber-100 text-amber-800",magnet:"bg-blue-100 text-blue-800",photo:"bg-green-100 text-green-800"};return h.jsx("span",{className:`${G[D]} text-xs px-2 py-1 rounded-full font-medium`,children:V[D]},D)})}):h.jsx("span",{className:"text-slate-500 text-sm bg-slate-100 px-2 py-1 rounded-full",children:" "})}),h.jsx(ts,{className:"text-sm",children:h.jsxs("div",{className:"space-y-1",children:[j.min_order_amount>0&&h.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[h.jsx("span",{className:"text-xs",children:":"}),h.jsxs("span",{className:"font-medium",children:["",j.min_order_amount]})]}),j.usage_limit>0&&h.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[h.jsx("span",{className:"text-xs",children:":"}),h.jsxs("span",{className:"font-medium",children:[j.usage_count||0,"/",j.usage_limit]})]}),j.valid_until&&h.jsxs("div",{className:"text-xs text-slate-500",children:[": ",new Date(j.valid_until).toLocaleDateString("he-IL")]})]})}),h.jsx(ts,{children:h.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>M(j),className:`${j.is_active?"text-green-600 hover:bg-green-50 bg-green-100":"text-red-600 hover:bg-red-50 bg-red-100"} font-medium px-3 py-1 rounded-full text-xs`,children:j.is_active?" ":"  "})}),h.jsx(ts,{children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ke,{variant:"outline",size:"sm",onClick:()=>k(j),className:"hover:bg-blue-50 border-blue-200 text-blue-600",children:h.jsx(hB,{className:"h-4 w-4"})}),h.jsx(Ke,{variant:"outline",size:"sm",onClick:()=>P(j.id),className:"hover:bg-red-50 border-red-200 text-red-600",children:h.jsx(Td,{className:"h-4 w-4"})})]})})]},j.id))})]})})]})]})]})}var Y1="Checkbox",[Ite]=jo(Y1),[jte,Tb]=Ite(Y1);function Dte(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:d,required:p,value:m="on",internal_do_not_use_render:y}=t,[v,S]=lu({prop:n,defaultProp:s??!1,onChange:d,caller:Y1}),[C,k]=b.useState(null),[P,M]=b.useState(null),j=b.useRef(!1),D=C?!!o||!!C.closest("form"):!0,V={checked:v,disabled:i,setChecked:S,control:C,setControl:k,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:j,required:p,defaultChecked:tu(s)?!1:s,isFormControl:D,bubbleInput:P,setBubbleInput:M};return h.jsx(jte,{scope:e,...V,children:Mte(y)?y(V):r})}var c9="CheckboxTrigger",u9=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:d,required:p,setControl:m,setChecked:y,hasConsumerStoppedPropagationRef:v,isFormControl:S,bubbleInput:C}=Tb(c9,t),k=bt(s,m),P=b.useRef(d);return b.useEffect(()=>{const M=i==null?void 0:i.form;if(M){const j=()=>y(P.current);return M.addEventListener("reset",j),()=>M.removeEventListener("reset",j)}},[i,y]),h.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":tu(d)?"mixed":d,"aria-required":p,"data-state":m9(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:k,onKeyDown:We(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:We(n,M=>{y(j=>tu(j)?!0:!j),C&&S&&(v.current=M.isPropagationStopped(),v.current||M.stopPropagation())})})});u9.displayName=c9;var Nb=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:p,form:m,...y}=t;return h.jsx(Dte,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:p,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:v})=>h.jsxs(h.Fragment,{children:[h.jsx(u9,{...y,ref:e,__scopeCheckbox:n}),v&&h.jsx(p9,{__scopeCheckbox:n})]})})});Nb.displayName=Y1;var d9="CheckboxIndicator",h9=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Tb(d9,n);return h.jsx(_i,{present:r||tu(i.checked)||i.checked===!0,children:h.jsx(ft.span,{"data-state":m9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});h9.displayName=d9;var f9="CheckboxBubbleInput",p9=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:d,name:p,value:m,form:y,bubbleInput:v,setBubbleInput:S}=Tb(f9,t),C=bt(n,S),k=U1(i),P=M1(r);b.useEffect(()=>{const j=v;if(!j)return;const D=window.HTMLInputElement.prototype,G=Object.getOwnPropertyDescriptor(D,"checked").set,J=!s.current;if(k!==i&&G){const B=new Event("click",{bubbles:J});j.indeterminate=tu(i),G.call(j,tu(i)?!1:i),j.dispatchEvent(B)}},[v,k,i,s]);const M=b.useRef(tu(i)?!1:i);return h.jsx(ft.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??M.current,required:l,disabled:d,name:p,value:m,form:y,...e,tabIndex:-1,ref:C,style:{...e.style,...P,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});p9.displayName=f9;function Mte(t){return typeof t=="function"}function tu(t){return t==="indeterminate"}function m9(t){return tu(t)?"indeterminate":t?"checked":"unchecked"}const Ote=b.forwardRef(({className:t,...e},n)=>h.jsx(Nb,{ref:n,className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(h9,{className:lt("flex items-center justify-center text-current"),children:h.jsx(Of,{className:"h-4 w-4"})})}));Ote.displayName=Nb.displayName;function Lte({order:t,open:e,onOpenChange:n,onUpdateOrder:r}){const[s,i]=b.useState(!1),[o,l]=b.useState(!1),[d,p]=b.useState(""),m=D=>{try{const V=new Date(D);if(isNaN(V.getTime()))throw new Error("Invalid date string");return Gy(V,"d MMMM yyyy, HH:mm",{locale:qy})}catch(V){console.error("Error formatting Israeli date:",V);const G=new Date(D);return isNaN(G.getTime())?D:Gy(G,"d MMMM yyyy, HH:mm",{locale:qy})}},y={portrait:"",landscape:""},v=(D,V,G=null)=>{const B={block:" ",magnet:"",photo:"",bookmark:""}[D]||"";if(G){const R=y[G]||"";return`${B} ${V} " - ${R}`}return`${B} ${V} "`},S=Et.useMemo(()=>{if(!t||!t.items)return[];const D={};return t.items.forEach(V=>{const G=`${V.image_url}_${V.size}_${V.type}_${V.orientation||""}`;D[G]||(D[G]={...V,totalQuantity:0,totalPrice:0}),D[G].totalQuantity+=V.quantity,D[G].totalPrice+=V.price*V.quantity}),Object.values(D)},[t]),C=Et.useMemo(()=>{if(!t||!t.items||!Array.isArray(t.items))return[];const D={};return t.items.forEach(V=>{let G="";switch(V.type){case"block":G=" ";break;case"magnet":G="";break;case"photo":G="";break;case"bookmark":G="";break;default:G=V.type}const J=`${G} ${V.size||""}`.trim();D[J]||(D[J]=0),D[J]+=V.quantity}),Object.entries(D).map(([V,G])=>({text:V,count:G}))},[t]),k=async D=>{if(t){i(!0);try{const V={...t.production_steps,[D]:!t.production_steps[D]},G={...t,production_steps:V,order_number:t.order_number||t.id,total_price:t.total_price||t.price||0},{id:J,created_date:B,updated_date:R,created_by_id:F,created_by:z,is_sample:H,...$}=G;await cm.entities.Order.update(t.id,$),r()}catch(V){console.error(`Error toggling production step ${D}:`,V)}finally{i(!1)}}},P=D=>({block:"B",photo:"P",magnet:"M",bookmark:"BM"})[D]||"X",M=async(D,V)=>{if(!D){console.error("No image URL provided for download.");return}try{l(!0),p(`  ${V+1}...`);const J=await(await fetch(D)).blob(),B=window.URL.createObjectURL(J),R=S[V],F=P(R.type),z=R.size?R.size.replace("x","").replace(/\s/g,""):"",H=document.createElement("a");H.href=B,H.download=`${F}${z}_${t.order_number||t.id}_${V+1}.jpg`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(B),p(""),l(!1)}catch(G){console.error("Error downloading image:",G),p("  "),setTimeout(()=>{p(""),l(!1)},2e3)}},j=async()=>{if(!t||!t.items||t.items.length===0){alert("  ");return}try{if(l(!0),S.length===0){alert("  "),l(!1);return}for(let D=0;D<S.length;D++){const V=S[D];if(!V.image_url)continue;p(`  ${D+1}  ${S.length}...`);const J=await(await fetch(V.image_url)).blob(),B=P(V.type),R=V.size?V.size.replace("x","").replace(/\s/g,""):"",F=window.URL.createObjectURL(J),z=document.createElement("a");z.href=F,z.download=`${B}${R}_${t.order_number||t.id}_${D+1}.jpg`,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(F),D<S.length-1&&await new Promise(H=>setTimeout(H,300))}p(""),l(!1)}catch(D){console.error("Error downloading images:",D),p("  "),setTimeout(()=>{p(""),l(!1)},2e3)}};return t?h.jsx(cu,{open:e,onOpenChange:n,children:h.jsxs(Dl,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[h.jsx(Ml,{children:h.jsxs(Ol,{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[h.jsx(ko,{className:"h-6 w-6 text-blue-600"}),h.jsxs("span",{children:["  #",t.order_number||t.id]})]})}),h.jsxs("div",{className:"space-y-6",children:[C&&C.length>0&&h.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[h.jsx(ko,{className:"h-5 w-5 text-blue-600"}),h.jsx("span",{children:" "})]}),h.jsx("div",{className:"space-y-2",children:C.map((D,V)=>h.jsxs("div",{className:"text-xl font-bold text-blue-700 flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl",children:D.count}),h.jsx("span",{children:D.text})]},V))})]}),h.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[h.jsx(f2,{className:"h-5 w-5 text-blue-600"}),h.jsx("span",{children:" "})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(f2,{className:"h-4 w-4 text-slate-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:" "}),h.jsx("p",{className:"font-medium text-slate-800",children:t.customer_name})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(mB,{className:"h-4 w-4 text-slate-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:""}),h.jsx("p",{className:"font-medium text-slate-800",dir:"ltr",style:{textAlign:"right"},children:t.customer_phone})]})]}),h.jsxs("div",{className:"flex items-center gap-3 md:col-span-2",children:[h.jsx(Qz,{className:"h-4 w-4 text-slate-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:""}),h.jsx("p",{className:"font-medium text-slate-800",children:t.customer_email})]})]})]}),t.notes&&h.jsxs("div",{className:"mt-4 bg-white/50 rounded-lg p-3",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:""}),h.jsx("p",{className:"text-sm text-slate-700",children:t.notes})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[h.jsx(HT,{className:"h-5 w-5 text-green-600"}),h.jsx("span",{children:" "})]}),h.jsx(pm,{className:t.is_paid?"bg-green-500 text-white":"bg-red-500 text-white",children:t.is_paid?"":" "})]})}),h.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 border border-amber-100",children:h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[h.jsx(ko,{className:"h-5 w-5 text-amber-600"}),h.jsx("span",{children:" "})]}),h.jsx(pm,{className:t.status==="completed"?"bg-green-500 text-white":t.status==="processing"?"bg-blue-500 text-white":"bg-yellow-500 text-white",children:t.status==="pending"?"":t.status==="processing"?"":""})]})})]}),h.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[h.jsx(ko,{className:"h-5 w-5 text-purple-600"}),h.jsx("span",{children:" "})]}),h.jsxs(Ke,{onClick:j,disabled:o,variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-purple-100",children:[o?h.jsx(vs,{className:"h-4 w-4 animate-spin"}):h.jsx(Py,{className:"h-4 w-4"}),h.jsx("span",{children:"   "})]})]}),o&&d&&h.jsxs("div",{className:"mb-4 bg-white/50 rounded-lg p-3 flex items-center gap-2",children:[h.jsx(vs,{className:"h-4 w-4 animate-spin text-purple-600"}),h.jsx("span",{className:"text-sm text-slate-700",children:d})]}),h.jsx("div",{className:"space-y-3",children:S.length>0?S.map((D,V)=>h.jsx("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[h.jsx("span",{className:"font-semibold text-slate-800",children:v(D.type,D.size,D.orientation)}),h.jsxs(pm,{variant:"outline",className:"bg-slate-50",children:[h.jsx("span",{children:": "}),h.jsx("span",{className:"font-bold",children:D.totalQuantity})]})]}),h.jsxs("p",{className:"text-sm text-slate-600",children:[h.jsx("span",{children:" : "}),h.jsxs("span",{className:"font-semibold",children:["",D.price.toFixed(2)]})]}),h.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[h.jsx("span",{children:'": '}),h.jsxs("span",{className:"text-lg",children:["",(D.price*D.totalQuantity).toFixed(2)]})]})]}),h.jsx("div",{className:"flex flex-col gap-2",children:D.image_url&&h.jsxs(h.Fragment,{children:[h.jsx("img",{src:D.image_url,alt:` ${V+1}`,className:"w-20 h-20 object-cover rounded-lg border border-slate-200"}),h.jsxs(Ke,{onClick:()=>M(D.image_url,V),disabled:o,variant:"outline",size:"sm",className:"text-xs flex items-center gap-1 hover:bg-slate-100",children:[h.jsx(Py,{className:"h-3 w-3"}),h.jsx("span",{children:""})]})]})})]})},V)):h.jsx("p",{className:"text-slate-500",children:"   ."})})]}),h.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:" "}),h.jsxs("div",{className:"space-y-2",children:[t.original_price&&t.original_price!==t.total_price&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between text-slate-600",children:[h.jsx("span",{children:" :"}),h.jsxs("span",{className:"font-semibold",children:["",t.original_price.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-red-600",children:[h.jsxs("span",{children:[" ",t.coupon_code?`(${t.coupon_code})`:"",":"]}),h.jsxs("span",{className:"font-semibold",children:["-",(t.discount_amount||t.original_price-t.total_price).toFixed(2)]})]}),h.jsx("div",{className:"border-t border-slate-300 pt-2"})]}),h.jsxs("div",{className:"flex justify-between text-xl font-bold text-slate-800",children:[h.jsx("span",{children:'" :'}),h.jsxs("span",{className:"text-green-600",children:["",t.total_price.toFixed(2)]})]})]})]}),t.production_steps&&h.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-6 border border-indigo-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[h.jsx(Ls,{className:"h-5 w-5 text-indigo-600"}),h.jsx("span",{children:" "})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"image_prepared",label:" ",icon:Ls},{key:"printed",label:"",icon:Ls},{key:"cut",label:"",icon:Ls},{key:"finished",label:"",icon:Ls}].map(D=>{const V=D.icon,G=t.production_steps[D.key];return h.jsx("button",{onClick:()=>k(D.key),disabled:s,className:`p-3 rounded-lg border-2 transition-all duration-200 ${G?"bg-green-100 border-green-300 text-green-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(V,{className:`h-6 w-6 ${G?"text-green-600":"text-slate-400"}`}),h.jsx("span",{className:"text-sm font-medium",children:D.label})]})},D.key)})})]}),h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[h.jsx(UT,{className:"h-4 w-4"}),h.jsxs("span",{children:[" : ",m(t.created_date)]})]})]})]})}):null}function Vte(...t){return c_(p1(t))}function R0({className:t,...e}){return h.jsx("div",{className:Vte("animate-pulse rounded-md bg-slate-200/80",t),...e})}function g9({icon:t,title:e,description:n,actionText:r,actionLink:s,actionClick:i}){return h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 text-center px-4",children:[h.jsx("div",{className:"bg-slate-50 p-6 rounded-full mb-6",children:h.jsx(t,{className:"h-12 w-12 text-slate-300"})}),h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:e}),h.jsx("p",{className:"text-slate-500 max-w-md mb-8",children:n}),r&&(s||i)&&(s?h.jsx(mr,{to:Mn(s),children:h.jsx(Ke,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-full px-8",children:r})}):h.jsx(Ke,{onClick:i,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-full px-8",children:r}))]})}const Fte=["blocklick1@gmail.com","noamnissan10@gmail.com"],X3=[{value:"pending",label:"",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},{value:"processing",label:"",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"completed",label:"",color:"bg-green-100 text-green-800 border-green-200"}],Q3=[{value:"paid",label:"",color:"bg-green-100 text-green-800 border-green-200"},{value:"unpaid",label:" ",color:"bg-red-100 text-red-800 border-red-200"}];function y9(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState(!1),[d,p]=b.useState(null),[m,y]=b.useState([]),[v,S]=b.useState([]),[C,k]=b.useState(""),[P,M]=b.useState(!1),[j,D]=b.useState([]),V=eR(),G=Km(),J=async()=>{r(!0);try{const Q=await Rm.me();if(!Fte.some(re=>re.toLowerCase()===Q.email.toLowerCase())){G("/");return}const q=await Zh.list("-created_date");e(q)}catch{G("/")}finally{r(!1)}};b.useEffect(()=>{J()},[G]);const B=Q=>{try{const q=new Date(Q),re=3,_e=new Date(q.getTime()+re*60*60*1e3);return Gy(_e,"d/MM/yy, HH:mm",{locale:qy})}catch{return Gy(new Date(Q),"d/MM/yy, HH:mm",{locale:qy})}},R=async Q=>{if(Q)try{let q;if(Q.status==="pending"?q="processing":Q.status==="processing"?q="completed":q="pending",await Zh.update(Q.id,{status:q}),q==="completed"&&Q.customer_phone){const re=Q.order_number||Q.id,_e=` ${Q.customer_name}!

  #${re}  .

 :  4,  .

           .

  !`,ke=Q.customer_phone.replace(/\D/g,""),Ue=`https://wa.me/${ke.startsWith("0")?`972${ke.slice(1)}`:ke}?text=${encodeURIComponent(_e)}`;window.open(Ue,"_blank")}J()}catch(q){i("   ."),console.error("Error updating order status:",q)}},F=Q=>{p(Q),l(!0)},z=async(Q,q)=>{try{await Zh.update(Q,{is_paid:!q}),J()}catch(re){i("   ."),console.error("Error updating payment status:",re)}},H=async Q=>{if(confirm("      ?     ."))try{await Zh.delete(Q),J()}catch(q){i("  ."),console.error("Error deleting order:",q)}},$=async Q=>{const q=new Date(Q.created_date),re=3,_e=new Date(q.getTime()+re*60*60*1e3),ke=Ae=>{if(!Ae)return"";let ze=Ae.replace(/\D/g,"");return ze.startsWith("972")&&(ze="0"+ze.substring(3)),!ze.startsWith("0")&&ze.length>0&&(ze="0"+ze),ze.substring(0,10)},Je=Ae=>{if(!Ae||!Array.isArray(Ae))return[];const ze={};return Ae.forEach(ot=>{let Ct="";switch(ot.type){case"block":Ct=" ";break;case"magnet":Ct="";break;case"photo":Ct="";break;case"bookmark":Ct="";break;default:Ct=ot.type}const kn=`${Ct} ${ot.size||""}`.trim();ze[kn]||(ze[kn]={quantity:0,price:ot.price||0,total:0}),ze[kn].quantity+=ot.quantity,ze[kn].total+=(ot.price||0)*ot.quantity}),Object.entries(ze).map(([ot,Ct])=>({name:ot,quantity:Ct.quantity,price:parseFloat(Ct.price.toFixed(2)),total:parseFloat(Ct.total.toFixed(2))}))};let Ue="";if(Q.coupon_code)try{const Ae=await xd.filter({code:Q.coupon_code});Ae.length>0&&(Ue=Ae[0].discount_type)}catch(Ae){console.error("Error fetching coupon details:",Ae)}const xe={order_number:Q.order_number||Q.id,customer_name:Q.customer_name,customer_phone:ke(Q.customer_phone),customer_email:Q.customer_email,order_date:_e.toISOString(),items:Je(Q.items),total_amount:parseFloat((Q.total_price||0).toFixed(2)),original_price:parseFloat((Q.original_price||Q.total_price||0).toFixed(2)),discount_amount:parseFloat((Q.discount_amount||0).toFixed(2)),discount_type:Ue,coupon_code:Q.coupon_code||"",notes:Q.notes||""},Ce=JSON.stringify(xe),Xe=`https://futureceipt.app/CreateInvoice?data=${encodeURIComponent(Ce)}`;window.open(Xe,"_blank")},U={pending:{text:"",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:d2},processing:{text:"",color:"bg-blue-100 text-blue-800 border-blue-200",icon:d2},completed:{text:"",color:"bg-green-100 text-green-800 border-green-200",icon:Ls}},ie=Et.useMemo(()=>{if(!t.length)return null;const Q=t.length,q={};t.forEach(Ce=>{const je=Ce.customer_phone,Xe=new Date(Ce.created_date).toDateString();q[je]||(q[je]={name:Ce.customer_name,phone:je,orderDates:new Set,orders:[]}),q[je].orderDates.add(Xe),q[je].orders.push(Ce)});const re=Object.values(q).filter(Ce=>Ce.orderDates.size>=2),_e=re.length,ke=t.reduce((Ce,je)=>Ce+(je.total_price||0),0),Je=t.reduce((Ce,je)=>Ce+Z8(je,V),0),Ue=ke-Je,xe={block:{revenue:0,costs:0,units:0},magnet:{revenue:0,costs:0,units:0},photo:{revenue:0,costs:0,units:0},bookmark:{revenue:0,costs:0,units:0}};return t.forEach(Ce=>{Ce.items&&Array.isArray(Ce.items)&&Ce.items.forEach(je=>{const Xe=je.quantity||1,Ae=(je.price||0)*Xe,ze=mb(je,V)*Xe;xe[je.type]&&(xe[je.type].revenue+=Ae,xe[je.type].costs+=ze,xe[je.type].units+=Xe)})}),{totalOrders:Q,returningCustomers:_e,returningCustomersData:re,totalRevenue:ke,totalCosts:Je,estimatedProfit:Ue,productBreakdown:xe}},[t,V]),de=Q=>{if(!Q.items||!Array.isArray(Q.items))return"";const q={};return Q.items.forEach(re=>{let _e="";switch(re.type){case"block":_e=" ";break;case"magnet":_e="";break;case"photo":_e="";break;case"bookmark":_e="";break;default:_e=re.type}const ke=`${_e} ${re.size||""}`.trim();q[ke]||(q[ke]={count:0,totalPrice:0}),q[ke].count+=re.quantity,q[ke].totalPrice+=re.price*re.quantity}),Object.entries(q).map(([re,_e])=>`${_e.count} ${re}`).join(", ")},ue=t.filter(Q=>{const q=m.length===0||m.includes(Q.status),re=v.length===0||v.includes("paid")&&Q.is_paid||v.includes("unpaid")&&!Q.is_paid,_e=C===""||Q.order_number&&Q.order_number.toLowerCase().includes(C.toLowerCase())||Q.customer_name&&Q.customer_name.toLowerCase().includes(C.toLowerCase())||Q.customer_phone&&Q.customer_phone.includes(C)||Q.id&&Q.id.toString().includes(C)||de(Q).toLowerCase().includes(C.toLowerCase());return q&&re&&_e}),ne=Q=>{y(q=>q.includes(Q)?q.filter(re=>re!==Q):[...q,Q])},K=Q=>{S(q=>q.includes(Q)?q.filter(re=>re!==Q):[...q,Q])},te=()=>{ie!=null&&ie.returningCustomersData&&(D(ie.returningCustomersData),M(!0))};return n?h.jsxs("div",{className:"container mx-auto p-6 max-w-7xl space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(R0,{className:"h-10 w-1/4"}),h.jsx(R0,{className:"h-4 w-1/3"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 my-8",children:[...Array(5)].map((Q,q)=>h.jsx(R0,{className:"h-32 rounded-xl"},q))}),h.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100 p-4",children:h.jsx("div",{className:"space-y-4",children:[...Array(5)].map((Q,q)=>h.jsx("div",{className:"flex gap-4",children:h.jsx(R0,{className:"h-12 w-full"})},q))})})]}):s?h.jsx("div",{className:"container mx-auto p-6",children:h.jsxs(vu,{variant:"destructive",children:[h.jsx(Am,{className:"h-4 w-4"}),h.jsx(z1,{children:""}),h.jsx(xu,{children:s})]})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",dir:"rtl",children:[h.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent mb-2",children:" "}),h.jsx("p",{className:"text-slate-500 text-lg",children:"    "})]}),ie&&h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-10",children:[h.jsx(Ee.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:h.jsxs(So,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-blue-500 to-blue-600",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[h.jsx(Co,{className:"text-sm font-medium text-white/90",children:'" '}),h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(ko,{className:"h-5 w-5 text-white"})})]}),h.jsxs(To,{className:"relative",children:[h.jsx("div",{className:"text-3xl font-bold text-white",children:ie.totalOrders}),h.jsx("p",{className:"text-xs text-white/70 mt-1",children:"  "})]})]})}),h.jsx(Ee.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:h.jsxs(So,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-green-500 to-emerald-600",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[h.jsx(Co,{className:"text-sm font-medium text-white/90",children:" "}),h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(QB,{className:"h-5 w-5 text-white"})})]}),h.jsxs(To,{className:"relative",children:[h.jsx("button",{onClick:te,className:"text-3xl font-bold text-white hover:text-white/90 transition-colors",children:ie.returningCustomers}),h.jsx("p",{className:"text-xs text-white/70 mt-1",children:ie.totalOrders>0?`${Math.round(ie.returningCustomers/ie.totalOrders*100)}% `:" "})]})]})}),h.jsx(Ee.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:h.jsxs(So,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-amber-500 to-orange-600",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[h.jsx(Co,{className:"text-sm font-medium text-white/90",children:'" '}),h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(h2,{className:"h-5 w-5 text-white"})})]}),h.jsxs(To,{className:"relative",children:[h.jsxs("div",{className:"text-3xl font-bold text-white",children:["",ie.totalRevenue.toFixed(2)]}),h.jsx("p",{className:"text-xs text-white/70 mt-1",children:"  "})]})]})}),h.jsx(Ee.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:h.jsxs(So,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-purple-500 to-purple-600",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[h.jsx(Co,{className:"text-sm font-medium text-white/90",children:" "}),h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(Ry,{className:"h-5 w-5 text-white"})})]}),h.jsxs(To,{className:"relative",children:[h.jsxs("div",{className:"text-3xl font-bold text-white",children:["",ie.totalCosts.toFixed(2)]}),h.jsx("p",{className:"text-xs text-white/70 mt-1",children:"  "})]})]})}),h.jsx(Ee.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:h.jsxs(So,{className:`relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 ${ie.estimatedProfit>=0?"bg-gradient-to-br from-green-600 to-emerald-700":"bg-gradient-to-br from-red-500 to-red-600"}`,children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),h.jsxs(Eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[h.jsx(Co,{className:"text-sm font-medium text-white/90",children:" "}),h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(Ry,{className:"h-5 w-5 text-white"})})]}),h.jsxs(To,{className:"relative",children:[h.jsxs("div",{className:"text-3xl font-bold text-white",children:["",ie.estimatedProfit.toFixed(2)]}),h.jsx("p",{className:"text-xs text-white/70 mt-1",children:ie.totalRevenue>0?`${Math.round(ie.estimatedProfit/ie.totalRevenue*100)}% `:"  "})]})]})})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8 bg-white rounded-2xl shadow-lg p-6 border border-slate-100",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx(EB,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx(sr,{placeholder:"   ,  ,   ...",value:C,onChange:Q=>k(Q.target.value),className:"pr-12 py-6 text-lg border-slate-200 focus:border-blue-400 focus:ring-blue-400 rounded-xl"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[h.jsx(Dz,{className:"h-5 w-5 text-slate-500"}),h.jsx("span",{children:"  :"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[X3.map(Q=>{const q=m.includes(Q.value);return h.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Ke,{onClick:()=>ne(Q.value),className:`rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200 ${q?`${Q.color} border-2 shadow-md`:"bg-slate-100 text-slate-600 hover:bg-slate-200 border-2 border-transparent"}`,size:"sm",children:h.jsxs("span",{className:"flex items-center gap-2",children:[q&&h.jsx(Ls,{className:"h-4 w-4"}),Q.label]})})},Q.value)}),m.length>0&&h.jsx(Ke,{onClick:()=>y([]),variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl",children:" "})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[h.jsx(HT,{className:"h-5 w-5 text-slate-500"}),h.jsx("span",{children:"  :"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Q3.map(Q=>{const q=v.includes(Q.value);return h.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Ke,{onClick:()=>K(Q.value),className:`rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200 ${q?`${Q.color} border-2 shadow-md`:"bg-slate-100 text-slate-600 hover:bg-slate-200 border-2 border-transparent"}`,size:"sm",children:h.jsxs("span",{className:"flex items-center gap-2",children:[q&&h.jsx(Ls,{className:"h-4 w-4"}),Q.label]})})},Q.value)}),v.length>0&&h.jsx(Ke,{onClick:()=>S([]),variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-xl",children:" "})]})]}),(m.length>0||v.length>0)&&h.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex items-center gap-3 pt-2 border-t border-slate-100",children:[h.jsx("span",{className:"text-sm text-slate-600 font-medium",children:":"}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.map(Q=>{const q=X3.find(re=>re.value===Q);return h.jsx("span",{className:`text-xs px-3 py-1.5 rounded-lg ${q.color} font-medium shadow-sm`,children:q.label},Q)}),v.map(Q=>{const q=Q3.find(re=>re.value===Q);return h.jsx("span",{className:`text-xs px-3 py-1.5 rounded-lg ${q.color} font-medium shadow-sm`,children:q.label},Q)})]})]})]})}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100",children:h.jsxs(xb,{children:[h.jsx(wb,{children:h.jsxs(pf,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-b-2 border-slate-200",children:[h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:" "}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:'"'}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:""}),h.jsx(Os,{className:"text-right font-semibold text-slate-700",children:""})]})}),h.jsx(_b,{children:ue.length===0?h.jsx(pf,{children:h.jsx(ts,{colSpan:"7",children:h.jsx(g9,{icon:ko,title:"  ",description:C?"      ":"   "})})}):ue.map((Q,q)=>{const re=U[Q.status]||U.pending,_e=re.icon;return h.jsxs(Ee.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:q*.03},className:"border-b border-slate-100 hover:bg-slate-50/50 transition-colors duration-200",children:[h.jsxs(ts,{className:"font-mono font-bold text-blue-600 cursor-pointer hover:text-blue-700 transition-colors",onClick:()=>F(Q),children:["#",Q.order_number||Q.id]}),h.jsx(ts,{children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"font-semibold text-slate-800",children:Q.customer_name}),h.jsx("div",{className:"text-sm text-slate-500",children:Q.customer_phone}),Q.notes&&h.jsxs("div",{className:"text-xs bg-amber-50 text-amber-700 px-2 py-1 rounded-lg inline-block mt-1 font-medium",children:[" ",Q.notes]})]})}),h.jsx(ts,{children:h.jsxs(Ke,{variant:"ghost",size:"sm",className:`flex items-center gap-2 rounded-xl px-3 py-2 ${Q.is_paid?"bg-green-50 text-green-700 hover:bg-green-100":"bg-red-50 text-red-700 hover:bg-red-100"}`,onClick:()=>z(Q.id,Q.is_paid),children:[Q.is_paid?h.jsx(Ls,{className:"h-4 w-4"}):h.jsx(bz,{className:"h-4 w-4"}),h.jsx("span",{className:"font-medium",children:Q.is_paid?"":" "})]})}),h.jsx(ts,{children:h.jsxs(Ke,{variant:"ghost",size:"sm",className:`flex items-center gap-2 rounded-xl px-3 py-2 font-medium ${re.color.includes("green")?"bg-green-50 text-green-700 hover:bg-green-100":re.color.includes("blue")?"bg-blue-50 text-blue-700 hover:bg-blue-100":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,onClick:()=>R(Q),children:[h.jsx(_e,{className:"h-4 w-4"}),h.jsx("span",{children:re.text})]})}),h.jsxs(ts,{className:"font-bold text-lg text-slate-800",children:["",Q.total_price]}),h.jsx(ts,{className:"text-slate-600",children:B(Q.created_date)}),h.jsx(ts,{children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(Ke,{onClick:()=>F(Q),variant:"outline",size:"sm",className:"flex items-center gap-2 rounded-xl border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300",children:[h.jsx(WT,{className:"h-4 w-4"}),h.jsx("span",{children:""})]}),h.jsxs(Ke,{onClick:()=>$(Q),variant:"outline",size:"sm",className:"flex items-center gap-2 rounded-xl border-green-200 text-green-600 hover:bg-green-50 hover:border-green-300",children:[h.jsx(Py,{className:"h-4 w-4"}),h.jsx("span",{children:" "})]}),h.jsxs(Ke,{onClick:()=>H(Q.id),variant:"outline",size:"sm",className:"flex items-center gap-2 rounded-xl border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[h.jsx(Td,{className:"h-4 w-4"}),h.jsx("span",{children:""})]})]})})]},Q.id)})})]})})]}),h.jsx(Lte,{order:d,open:o,onOpenChange:l,onUpdateOrder:J}),h.jsx(cu,{open:P,onOpenChange:M,children:h.jsxs(Dl,{className:"max-w-4xl max-h-[80vh] overflow-y-auto rounded-2xl",dir:"rtl",children:[h.jsx(Ml,{children:h.jsxs(Ol,{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["  (",j.length,")"]})}),h.jsx("div",{className:"space-y-4",children:j.map((Q,q)=>h.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:q*.05},className:"border border-slate-200 rounded-xl p-5 hover:shadow-md transition-all duration-200 bg-gradient-to-r from-white to-slate-50",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg text-slate-800",children:Q.name}),h.jsx("p",{className:"text-slate-600",children:Q.phone})]}),h.jsxs(pm,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 px-3 py-1 text-sm font-semibold rounded-xl",children:[Q.orders.length," "]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:":"}),Q.orders.map(re=>h.jsxs("div",{className:"text-sm text-slate-600 bg-white p-3 rounded-lg border border-slate-100",children:[h.jsxs("span",{className:"font-bold text-blue-600",children:["#",re.order_number||re.id]})," -",h.jsxs("span",{className:"mr-2 font-semibold",children:["",re.total_price]})," -",h.jsx("span",{className:"mr-2 text-slate-500",children:B(re.created_date)}),de(re)&&h.jsx("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:de(re)})]},re.id))]})]},Q.phone))})]})})]})}const kb=async t=>{try{if(!t)throw new Error("No file provided");const e=`uploads/${Date.now()}_${t.name}`,n=GV(JV,e),r=await HV(n,t);return{url:await WV(r.ref),name:t.name,type:t.type,size:t.size}}catch(e){throw console.error("Firebase Upload Error:",e),e}},zte=async t=>(console.log("Email sent (simulation):",t),{success:!0}),Bte=[{id:"10x10",name:'1010 "',price:18,icon:qT,description:"  ",ratio:1,shape:"square",popular:!1},{id:"10x15",name:'1015 "',price:22,icon:eu,description:"  ",ratio:1.5,shape:"rectangle",popular:!0},{id:"15x20",name:'1520 "',price:30,icon:eu,description:"  ",ratio:.75,shape:"rectangle",popular:!1}];function Ute({selectedSize:t,onSizeSelect:e}){const[n,r]=b.useState(null);return h.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-normal text-slate-900 mb-2",children:" "}),h.jsx("p",{className:"text-base md:text-lg text-slate-600 font-light",children:"     "})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:Bte.map((s,i)=>{const o=t===s.id,l=n===s.id,d=s.icon;return h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},onHoverStart:()=>r(s.id),onHoverEnd:()=>r(null),className:"relative",children:[s.popular&&h.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"absolute -top-2 -right-2 z-10 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs md:text-sm font-medium px-2 md:px-3 py-1 rounded-full shadow-xl",children:""}),h.jsxs("button",{onClick:()=>e(s.id,s.price,s.ratio),className:`w-full p-4 md:p-6 rounded-2xl md:rounded-3xl border-2 transition-all duration-500 text-center group relative overflow-hidden ${o?"border-amber-400 bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 shadow-xl ring-2 ring-amber-200/50":"border-slate-200 bg-white hover:border-amber-300 hover:shadow-lg hover:bg-gradient-to-br hover:from-slate-50 hover:to-amber-50"}`,children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-amber-400/20 to-orange-400/20 opacity-0 transition-opacity duration-500 ${o||l?"opacity-100":""}`}),o&&h.jsx(Ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute top-3 left-3 w-6 h-6 md:w-8 md:h-8 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:h.jsx(Of,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),h.jsxs("div",{className:"relative z-10 space-y-4",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(Ee.div,{whileHover:{rotateY:10,rotateX:5},transition:{type:"spring",stiffness:300},className:`relative bg-gradient-to-br from-amber-200 via-amber-300 to-amber-400 rounded-xl shadow-2xl border-2 border-white ${s.id==="10x10"?"w-16 h-16 md:w-20 md:h-20":s.id==="10x15"?"w-24 h-20 md:w-30 md:h-24":"w-30 h-24 md:w-36 md:h-28"}`,style:{aspectRatio:s.shape==="square"?1:15/10,background:`linear-gradient(135deg, 
                          #f3e5b4 0%, 
                          #e8d5a3 25%, 
                          #ddc592 50%, 
                          #d2b581 75%, 
                          #c7a570 100%)`,boxShadow:"0 10px 25px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.2)"},children:h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx(d,{className:`text-amber-700 opacity-30 ${s.id==="10x10"?"h-5 w-5 md:h-6 md:w-6":s.id==="10x15"?"h-6 w-6 md:h-7 md:w-7":"h-7 w-7 md:h-8 md:w-8"}`})})})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:`text-lg md:text-xl font-medium transition-all duration-300 ${o?"text-amber-900":"text-slate-800 group-hover:text-amber-800"}`,children:s.name}),h.jsxs(Ee.div,{animate:{scale:o?1.05:1},className:`text-2xl md:text-3xl font-bold transition-all duration-300 ${o?"text-amber-600":"text-slate-700 group-hover:text-amber-600"}`,children:["",s.price]}),h.jsx("p",{className:`text-sm md:text-base transition-all duration-300 ${o?"text-amber-700":"text-slate-500 group-hover:text-amber-600"}`,children:s.description})]}),h.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:l||o?1:0,y:l||o?0:10},transition:{duration:.3},className:"text-amber-600 font-medium text-sm",children:o?" ":" "})]})]})]},s.id)})})]})}const $te=({onImagesChange:t,selectedImages:e=[],maxFiles:n=999,acceptedTypes:r="image/jpeg,image/jpg,image/png,image/heic,image/heif,.heic,.heif",productType:s="block",selectedSize:i="",aspectRatio:o=1})=>{const[l,d]=b.useState(!1),[p,m]=b.useState(""),[y,v]=b.useState(null),S=b.useCallback(async R=>{m("");const F=Array.from(R);if(e.length+F.length>n){m(`   ${n}  ${s==="bookmark"?"":""}`);return}const z=[],H=[];for(const $ of F){if(!($.type.startsWith("image/")||$.name.toLowerCase().endsWith(".heic")||$.name.toLowerCase().endsWith(".heif")||$.name.toLowerCase().endsWith(".webp"))){H.push(`${$.name}:    `);continue}z.push($)}if(H.length>0&&m(H.join(", ")),z.length>0){const $=z.map(U=>{const ie=U.name.toLowerCase().includes(".heic")||U.name.toLowerCase().includes(".heif");let de=null;return!ie&&U.size<52428800&&(de=URL.createObjectURL(U)),{id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:U,url:de,name:U.name,quantity:1,size:U.size,isHEIC:ie,uploadProgress:0,isUploading:!1,isUploaded:!1,uploadError:null}});t([...e,...$])}},[e,t,n,s]),C=b.useCallback(R=>{var F;(F=R.target.files)!=null&&F.length&&(S(R.target.files),R.target.value="")},[S]),k=b.useCallback(R=>{var F;R.preventDefault(),d(!1),(F=R.dataTransfer.files)!=null&&F.length&&S(R.dataTransfer.files)},[S]),P=b.useCallback(R=>{R.preventDefault(),l||d(!0)},[l]),M=b.useCallback(R=>{R.preventDefault(),!R.currentTarget.contains(R.relatedTarget)&&d(!1)},[]),j=b.useCallback(R=>{R.url&&R.url.startsWith("blob:")&&URL.revokeObjectURL(R.url);const F=e.filter(z=>z.id!==R.id);t(F)},[e,t]),D=b.useCallback((R,F)=>{const z=e.map(H=>H.id===R?{...H,quantity:Math.max(1,Math.min(999,H.quantity+F))}:H);t(z)},[e,t]),V=b.useCallback((R,F)=>{const z=parseInt(F)||1,H=Math.max(1,Math.min(999,z)),$=e.map(U=>U.id===R?{...U,quantity:H}:U);t($),v(null)},[e,t]),G=b.useCallback((R,F,z)=>{R.key==="Enter"?V(F,z):R.key==="Escape"&&v(null)},[V]),J=b.useCallback(R=>{const F=e.map(z=>z.id===R.id?{...z,uploadError:null,isUploading:!1,uploadProgress:0,isUploaded:!1}:z);t(F)},[e,t]),B=b.useMemo(()=>s==="bookmark"?Math.floor(e.length/2):e.reduce((R,F)=>R+F.quantity,0),[e,s]);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-2 border-dashed rounded-2xl p-8 md:p-10 text-center transition-all duration-300 cursor-pointer group ${l?"border-blue-400 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg scale-105":"border-slate-300 hover:border-blue-400 hover:bg-gradient-to-br hover:from-slate-50 hover:to-blue-50 hover:shadow-md"}`,onDrop:k,onDragOver:P,onDragLeave:M,whileHover:{scale:1.01},whileTap:{scale:.99},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/30 to-transparent rounded-2xl opacity-50 pointer-events-none"}),h.jsxs(Ee.div,{className:`relative z-10 ${l?"scale-105":""} transition-transform duration-300`,children:[h.jsx(Ee.div,{className:`w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 md:mb-6 rounded-full flex items-center justify-center transition-all duration-300 ${l?"bg-gradient-to-br from-blue-500 to-indigo-600 shadow-xl":"bg-gradient-to-br from-slate-400 to-slate-500 group-hover:from-blue-500 group-hover:to-indigo-600 shadow-lg"}`,animate:l?{rotate:[0,5,-5,0]}:{},transition:{duration:.5,repeat:l?1/0:0},children:h.jsx(Tz,{className:"h-8 w-8 md:h-10 md:w-10 text-white"})}),h.jsx("h4",{className:"text-xl md:text-2xl font-semibold text-slate-800 mb-2 md:mb-3",children:l?"   !":"    "}),h.jsx("p",{className:"text-base md:text-lg text-slate-600 mb-4 md:mb-6 font-light",children:"JPG, PNG, HEIC   "}),h.jsx("input",{type:"file",multiple:!0,accept:r,onChange:C,className:"hidden",id:"image-upload-optimized"}),h.jsx("label",{htmlFor:"image-upload-optimized",children:h.jsx(Ke,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 md:px-8 py-3 md:py-4 text-base md:text-lg font-medium rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:h.jsxs("span",{className:"cursor-pointer flex items-center gap-2 md:gap-3",children:[h.jsx(KB,{className:"h-4 w-4 md:h-5 md:w-5"}),"  (",e.length,")"]})})})]})]}),p&&h.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:h.jsxs(vu,{variant:"destructive",className:"rounded-xl border-red-200",children:[h.jsx(Am,{className:"h-4 w-4"}),h.jsx(xu,{className:"font-medium",children:p})]})}),h.jsx(mu,{children:e.length>0&&h.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4",children:[h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:h.jsxs("h4",{className:"text-xl md:text-2xl font-semibold text-slate-800",children:["  (",B," )",s==="bookmark"&&" -  2  "]})}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((R,F)=>h.jsxs(Ee.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.3,delay:F*.05},whileHover:{y:-4,scale:1.02},className:"relative group bg-white rounded-xl shadow-md overflow-hidden border border-slate-100 hover:border-slate-300 hover:shadow-lg transition-all duration-300",children:[h.jsxs("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center relative overflow-hidden",children:[R.url&&!R.isHEIC?h.jsx("img",{src:R.url,alt:R.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",onError:z=>{console.warn("Image display failed for:",R.name),z.target.style.display="none";const H=z.target.parentNode.querySelector(".image-placeholder");H&&(H.style.display="flex")}}):null,h.jsxs("div",{className:`image-placeholder ${R.url&&!R.isHEIC?"hidden":"flex"} w-full h-full items-center justify-center text-slate-500 flex-col p-3`,children:[h.jsx(sg,{className:"h-12 w-12 md:h-14 md:w-14 mb-2"}),h.jsx("span",{className:"text-xs md:text-sm text-center font-medium",children:R.isHEIC?" HEIC":""}),h.jsx("span",{className:"text-xs text-center text-slate-400 mt-1 truncate w-full px-1",children:R.name}),R.isHEIC&&h.jsx("div",{className:"text-xs text-center text-orange-600 mt-1 leading-tight",children:" "})]}),R.isUploading&&h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-[80%] space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-xs text-white font-medium",children:[h.jsx("span",{children:"..."}),h.jsx("span",{className:"animate-pulse",children:" "})]}),h.jsx("div",{className:"h-2 w-full bg-white/20 rounded-full overflow-hidden",children:h.jsx(Ee.div,{className:"h-full bg-blue-500",initial:!1,animate:{width:`${Math.max(5,R.uploadProgress||5)}%`},transition:{duration:.2,ease:"linear"}})})]})}),R.isUploaded&&!R.uploadError&&h.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white rounded-full p-1.5 shadow-lg",children:h.jsx(Ls,{className:"h-3 w-3 md:h-4 md:w-4"})}),R.uploadError&&h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center p-2",children:[h.jsx(Id,{className:"h-4 w-4 md:h-5 md:w-5 mx-auto mb-2 text-red-400"}),h.jsx("span",{className:"text-xs font-medium mb-2 block",children:" "}),h.jsx(Ke,{onClick:z=>{z.stopPropagation(),J(R)},size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded-md",children:" "})]})})]}),h.jsx(Ee.button,{onClick:()=>j(R),whileHover:{scale:1.1},whileTap:{scale:.9},className:"absolute top-2 right-2 h-8 w-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg z-20",children:h.jsx(Id,{className:"h-4 w-4"})}),h.jsxs("div",{className:"p-3 bg-white",children:[h.jsx("p",{className:"text-xs md:text-sm text-slate-600 truncate mb-2 font-medium",children:R.name}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-xs md:text-sm text-slate-500 font-medium",children:s==="bookmark"?":":":"}),s==="bookmark"?h.jsx("span",{className:"text-sm md:text-base font-semibold text-slate-700",children:e.indexOf(R)+1}):h.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[h.jsx(Ke,{size:"sm",variant:"outline",className:"h-6 w-6 md:h-8 md:w-8 p-0 rounded-full hover:bg-red-50 hover:border-red-200",onClick:()=>D(R.id,-1),disabled:R.quantity<=1,children:h.jsx(tB,{className:"h-2 w-2 md:h-3 md:w-3"})}),y===R.id?h.jsx(sr,{type:"number",min:"1",max:"999",defaultValue:R.quantity,className:"w-12 h-6 md:w-16 md:h-8 text-center text-xs md:text-sm font-semibold border-blue-300 focus:border-blue-500",autoFocus:!0,onBlur:z=>V(R.id,z.target.value),onKeyDown:z=>G(z,R.id,z.target.value)}):h.jsx("button",{onClick:()=>v(R.id),className:"text-sm md:text-base font-semibold text-slate-700 min-w-[1.5rem] text-center hover:bg-blue-50 hover:text-blue-600 rounded px-2 py-1 transition-colors duration-200",children:R.quantity}),h.jsx(Ke,{size:"sm",variant:"outline",className:"h-6 w-6 md:h-8 md:w-8 p-0 rounded-full hover:bg-green-50 hover:border-green-200",onClick:()=>D(R.id,1),disabled:R.quantity>=999,children:h.jsx(GT,{className:"h-2 w-2 md:h-3 md:w-3"})})]})]})]})]},R.id))})]})})]})},Pb=Et.memo($te),Hte={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},Wte={type:"tween",ease:"easeInOut",duration:.4},J3=[{id:1,title:" ",icon:f_,color:"from-amber-400 to-orange-500"},{id:2,title:" ",icon:g1,color:"from-blue-400 to-purple-500"},{id:3,title:" ",icon:y1,color:"from-green-400 to-emerald-500"}];function v9(){const[t,e]=b.useState(1),[n,r]=b.useState(""),[s,i]=b.useState(0),[o,l]=b.useState([]),[d,p]=b.useState(""),[m,y]=b.useState(!1),[v,S]=b.useState(new Set),{addToCart:C}=Lf();b.useEffect(()=>{document.title="  -        | ";let z=document.querySelector('meta[name="description"]');z||(z=document.createElement("meta"),z.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild(z)),z.setAttribute("content","    -18.       .     ,  .  !")},[]);const k=b.useCallback((z,H)=>{r(z),i(H),e(2),p("")},[]),P=b.useCallback(async z=>{if(v.has(z.id)||z.isUploaded)return;S($=>new Set([...$,z.id])),l($=>$.map(U=>U.id===z.id?{...U,isUploading:!0,uploadProgress:0,uploadError:null}:U));const H=setInterval(()=>{l($=>$.map(U=>{if(U.id===z.id&&U.isUploading&&(U.uploadProgress||0)<90){const ie=Math.max(1,(90-(U.uploadProgress||0))/10);return{...U,uploadProgress:(U.uploadProgress||0)+ie}}return U}))},200);try{const $=z.file,U=n.replace("x",""),ie="B",de=$.name.replace(/\.[^/.]+$/,""),ue=$.name.split(".").pop(),ne=`${ie}${U}_${de}.${ue}`,K=new File([$],ne,{type:$.type});let te=null,Q=null;for(let q=1;q<=3;q++)try{if(q>1&&console.log(`Retry attempt ${q} for ${z.name}`),te=await kb({file:K}),te!=null&&te.file_url)break}catch(re){console.warn(`Upload attempt ${q} failed:`,re),Q=re,q<3&&await new Promise(_e=>setTimeout(_e,1e3*q))}if(!(te!=null&&te.file_url))throw Q||new Error(`  '${z.name}'    `);clearInterval(H),l(q=>q.map(re=>re.id===z.id?{...re,uploaded_url:te.file_url,isUploaded:!0,isUploading:!1,uploadProgress:100,uploadError:null}:re))}catch($){clearInterval(H),console.error("Upload failed final:",$),l(U=>U.map(ie=>ie.id===z.id?{...ie,isUploaded:!1,isUploading:!1,uploadProgress:0,uploadError:" "}:ie))}finally{clearInterval(H),S($=>{const U=new Set($);return U.delete(z.id),U})}},[v,n]),M=b.useCallback(z=>{l(z),n&&z.forEach(H=>{!H.isUploaded&&!H.uploadError&&!v.has(H.id)&&!H.isUploading&&setTimeout(()=>P(H),Math.random()*200)})},[n,P,v]),j=b.useCallback(z=>{l(H=>{const $=H.filter(U=>U.id!==z.id);return z.url&&z.url.startsWith("blob:")&&URL.revokeObjectURL(z.url),$}),S(H=>{const $=new Set(H);return $.delete(z.id),$})},[]),D=b.useCallback((z,H)=>{l($=>$.map(U=>U.id===z?{...U,quantity:Math.max(1,U.quantity+H)}:U))},[]),V=b.useCallback(async()=>{if(o.length===0){p("     ");return}if(o.filter($=>!$.isUploaded).length>0){p("   ...");return}if(o.filter($=>$.uploadError).length>0){p("   .       .");return}y(!0),p("");try{for(const $ of o){if(!$.uploaded_url)throw new Error(` ${$.name}    ( URL)`);for(let U=0;U<$.quantity;U++)C({type:"block",image_url:$.uploaded_url,size:n,price:s,quantity:1})}e(3),l([])}catch($){console.error("Error adding blocks to cart:",$),p(`  : ${$.message||$}`)}finally{y(!1)}},[o,n,s,C]),G=b.useCallback(()=>{if(t===1){window.location.href=Mn("Home");return}t===2?e(1):t===3&&e(2)},[t]),J=b.useMemo(()=>o.reduce((z,H)=>z+H.quantity,0),[o]),B=b.useMemo(()=>o.reduce((z,H)=>z+s*H.quantity,0),[o,s]),R=v.size>0,F=o.length>0&&o.every(z=>z.isUploaded&&!z.uploadError)&&!R&&!m;return h.jsxs(Ee.div,{initial:"initial",animate:"in",exit:"out",variants:Hte,transition:Wte,className:"min-h-screen bg-gradient-to-br from-slate-50 to-white",children:[h.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/10"}),h.jsx("div",{className:"container mx-auto px-6 py-16 relative z-10",children:h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(ko,{className:"h-8 w-8 text-white"})}),h.jsx("h1",{className:"text-5xl md:text-6xl font-medium",children:" "})]}),h.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"       "})]})})]}),h.jsx("div",{className:"bg-white border-b border-slate-100",children:h.jsx("div",{className:"container mx-auto px-6 py-6",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:J3.map((z,H)=>{const $=t===z.id,U=t>z.id,ie=z.icon;return h.jsxs(Et.Fragment,{children:[h.jsx("div",{className:`relative w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${$?"bg-gradient-to-r from-amber-400 to-orange-500 shadow-md":U?"bg-green-500 shadow-sm":"bg-slate-200"}`,children:h.jsx(ie,{className:`h-5 w-5 ${$||U?"text-white":"text-slate-500"}`})}),h.jsx("div",{className:"hidden md:block",children:h.jsx("p",{className:`text-sm font-medium ${$?"text-slate-900":"text-slate-600"}`,children:z.title})}),H<J3.length-1&&h.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors duration-300 ${U?"bg-green-400":"bg-slate-300"}`})]},z.id)})})})})}),h.jsxs("div",{className:"container mx-auto px-6 py-12",children:[h.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-8",children:h.jsx(mr,{to:Mn("Home"),children:h.jsxs(Ke,{variant:"outline",className:"flex items-center gap-2 rounded-xl hover:shadow-md transition-all duration-200",children:[h.jsx(ky,{className:"h-4 w-4"}),h.jsx("span",{children:"  "})]})})}),d&&h.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:h.jsx(vu,{variant:"destructive",className:"mb-6 max-w-2xl mx-auto rounded-xl",children:h.jsx(xu,{className:"text-center",children:d})})}),h.jsx("div",{className:"max-w-5xl mx-auto",children:h.jsxs(mu,{mode:"wait",children:[t===1&&h.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:h.jsx(Ute,{selectedSize:n,onSizeSelect:k})},"step1"),t===2&&h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-slate-900 mb-3",children:" "}),h.jsxs("p",{className:"text-slate-600 text-base md:text-lg font-light",children:["    ",n]})]}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 md:p-6 mb-6",children:h.jsxs("p",{className:"text-blue-800 font-medium text-base md:text-lg",children:["      ',        .    ",n==="10x10"?"1:1":n==="10x15"?"2:3":"3:4"]})}),h.jsx(Pb,{onImagesChange:M,selectedImages:o,maxFiles:999,removeImage:j,updateQuantity:D,productType:"block",selectedSize:n,aspectRatio:n==="10x10"?1:n==="10x15"?10/15:n==="15x20"?15/20:void 0}),o.length>0&&h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl p-8 shadow-xl",children:[h.jsxs("div",{className:"flex justify-between items-center text-xl font-medium mb-2",children:[h.jsx("span",{children:'" :'}),h.jsx("span",{children:J})]}),h.jsxs("div",{className:"flex justify-between items-center text-2xl font-semibold",children:[h.jsx("span",{children:'" :'}),h.jsxs("span",{children:["",B.toFixed(2)]})]})]})]},"step2"),t===3&&h.jsx(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"text-center",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 max-w-2xl mx-auto",children:[h.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-8",children:h.jsx(Ls,{className:"h-10 w-10 text-green-600"})}),h.jsx("h2",{className:"text-3xl font-medium text-slate-900 mb-4",children:"  !"}),h.jsx("p",{className:"text-slate-600 mb-12 text-lg",children:"    "}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(mr,{to:Mn("Home"),children:h.jsxs(Ke,{variant:"outline",className:"w-full py-4 text-lg rounded-xl hover:shadow-md",children:[h.jsx(d_,{className:"ml-2 h-5 w-5"}),"  "]})}),h.jsx(mr,{to:Mn("Cart"),children:h.jsxs(Ke,{className:"w-full py-4 text-lg rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 hover:shadow-lg",children:[h.jsx(ig,{className:"ml-2 h-5 w-5"}),"  "]})})]})]})},"step3")]})}),h.jsxs("div",{className:"flex justify-between items-center max-w-5xl mx-auto mt-16",children:[h.jsxs(Ke,{onClick:G,disabled:m||R,variant:"outline",className:"flex items-center gap-2 rounded-xl px-6 py-3",children:[h.jsx(ky,{className:"h-4 w-4"}),h.jsx("span",{children:t===1?"  ":""})]}),t===2&&h.jsx(Ke,{onClick:V,disabled:!F,className:`flex items-center gap-2 rounded-xl px-8 py-3 ${F?"bg-gradient-to-r from-amber-500 to-orange-500 hover:shadow-lg text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:R?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):m?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:" "}),h.jsx(m1,{className:"h-4 w-4"})]})})]})]})]})}const x9=b.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:lt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));x9.displayName="Textarea";function Z3(...t){return c_(p1(t))}function J2({src:t,alt:e,className:n,...r}){const[s,i]=b.useState(!1);return h.jsxs("div",{className:Z3("relative overflow-hidden",n),children:[h.jsx(mu,{children:!s&&h.jsx(Ee.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-200 animate-pulse z-10"})}),h.jsx(Ee.img,{src:t,alt:e,onLoad:()=>i(!0),initial:{opacity:0,scale:1.05},animate:{opacity:s?1:0,scale:s?1:1.05},transition:{duration:.5,ease:"easeOut"},className:Z3("w-full h-full object-cover",n),...r})]})}function w9(){Et.useEffect(()=>{document.title="  -   | ";let ne=document.querySelector('meta[name="description"]');ne||(ne=document.createElement("meta"),ne.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild(ne)),ne.setAttribute("content","    ,    .      .")},[]);const{cartItems:t,removeFromCart:e,clearCart:n}=Lf(),[r,s]=b.useState(!1),[i,o]=b.useState(!1),[l,d]=b.useState(""),[p,m]=b.useState(""),[y,v]=b.useState({customer_name:"",customer_email:"",customer_phone:"",notes:""}),[S,C]=b.useState(""),[k,P]=b.useState(null),[M,j]=b.useState(""),[D,V]=b.useState(!1),[G,J]=b.useState(!1),[B,R]=b.useState(!1),F=Et.useMemo(()=>{const ne={};return t.forEach(K=>{const te=`${K.image_url}_${K.type}_${K.size}`;ne[te]||(ne[te]={...K,totalQuantity:0,items:[]}),ne[te].totalQuantity+=K.quantity,ne[te].items.push(K)}),Object.values(ne)},[t]),z=()=>{const ne=Date.now().toString(),K=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`BL${ne.slice(-6)}${K}`},H=b.useCallback(()=>t.reduce((ne,K)=>{const te=parseFloat(K.price)||0,Q=parseInt(K.quantity)||1;return ne+te*Q},0),[t]),$=async()=>{if(!S.trim()){j("   ");return}V(!0),j("");try{const ne=await xd.filter({code:S.toUpperCase(),is_active:!0});if(ne.length===0){j("      "),P(null);return}const K=ne[0],te=new Date;if(K.valid_from&&new Date(K.valid_from)>te){j("   "),P(null);return}if(K.valid_until&&new Date(K.valid_until)<te){j("  "),P(null);return}if(K.usage_limit&&K.usage_count>=K.usage_limit){j("   "),P(null);return}const Q=H();if(K.min_order_amount&&Q<K.min_order_amount){j(`  : ${K.min_order_amount}`),P(null);return}if(K.applicable_products&&K.applicable_products.length>0&&!t.some(re=>K.applicable_products.includes(re.type))){const re={block:" ",magnet:"",photo:""},_e=K.applicable_products.map(ke=>re[ke]).filter(ke=>ke).join(", ");j(`   : ${_e}`),P(null);return}P(K),j("")}catch(ne){console.error("Error applying coupon:",ne),j("  "),P(null)}finally{V(!1)}},U=()=>{P(null),C(""),j("")},ie=()=>{const ne=H();if(!k)return ne;let K=ne;k.applicable_products&&k.applicable_products.length>0&&(K=t.filter(Q=>k.applicable_products.includes(Q.type)).reduce((Q,q)=>{const re=parseFloat(q.price)||0;return parseInt(q.quantity),Q+re*q.quantity},0));let te=0;return k.discount_type==="percentage"?(te=K*k.discount_value/100,k.max_discount_amount&&te>k.max_discount_amount&&(te=k.max_discount_amount)):te=Math.min(k.discount_value,K),te=Math.min(te,ne),Math.max(0,ne-te)},de=()=>{const ne=H(),K=ie();return ne-K},ue=async ne=>{if(ne.preventDefault(),t.length===0){m(" .      .");return}if(!G){m("      ");return}s(!0),m("");try{const K=z(),te=H(),Q=ie(),q=te-Q;localStorage.setItem("blockclick_order_total",Q.toString());const re=t.map(xe=>{if(!xe.image_url||xe.image_url.startsWith("blob:"))throw new Error("     ");return{type:xe.type,size:xe.size,price:parseFloat(xe.price)||0,orientation:xe.orientation||"portrait",quantity:parseInt(xe.quantity)||1,image_url:xe.image_url,crop_data:xe.crop_data||{}}}),_e={};re.forEach(xe=>{const Ce=`${xe.type}_${xe.size}`;_e[Ce]||(_e[Ce]={type:xe.type,size:xe.size,count:0}),_e[Ce].count+=xe.quantity});const ke=Object.values(_e).map(xe=>{const Ce=xe.type==="block"?"":xe.type==="magnet"?"":"";return`${xe.count} ${Ce} ${xe.size||""}`.trim()}).join(`
`),Je=re.reduce((xe,Ce)=>xe+Ce.quantity,0),Ue={order_number:K,customer_name:y.customer_name,customer_email:y.customer_email,customer_phone:y.customer_phone,items:re,total_price:parseFloat(Q.toFixed(2)),original_price:parseFloat(te.toFixed(2)),discount_amount:parseFloat(q.toFixed(2)),coupon_code:(k==null?void 0:k.code)||null,notes:y.notes,status:"pending",is_paid:!1,production_steps:{image_prepared:!1,printed:!1,cut:!1,finished:!1}};console.log("Creating order with processed items:",Ue),await Zh.create(Ue);try{const xe="blocklick1@gmail.com",Ce={};re.forEach(Ae=>{const ze=`${Ae.image_url}_${Ae.type}_${Ae.size}`;Ce[ze]||(Ce[ze]={...Ae,totalQuantity:0,totalPrice:0}),Ce[ze].totalQuantity+=Ae.quantity,Ce[ze].totalPrice+=Ae.price*Ae.quantity});const je=Object.values(Ce).map((Ae,ze)=>{let ot,Ct,kn;switch(Ae.type){case"block":ot=" ",Ct=`: ${Ae.size}`,kn=`<a href="${Ae.image_url}" target="_blank" style="background: #3b82f6; color: white; padding: 8px 16px; text-decoration: none; border-radius: 6px; font-size: 12px;"> </a>`;break;case"magnet":ot="",Ct=`: ${Ae.size}`,kn=`<a href="${Ae.image_url}" target="_blank" style="background: #3b82f6; color: white; padding: 8px 16px; text-decoration: none; border-radius: 6px; font-size: 12px;"> </a>`;break;case"photo":ot="",Ct=`: ${Ae.size}`,kn=`<a href="${Ae.image_url}" target="_blank" style="background: #3b82f6; color: white; padding: 8px 16px; text-decoration: none; border-radius: 6px; font-size: 12px;"> </a>`;break;default:ot="  ",Ct="",kn=""}return`
            <tr style="border-bottom: 1px solid #e5e7eb;">
              <td style="padding: 15px; text-align: right; font-weight: bold; color: #1f2937;">${ze+1}</td>
              <td style="padding: 15px; text-align: right;">
                <div style="font-weight: bold; color: #1f2937; margin-bottom: 5px;">${ot}</div>
                <div style="color: #6b7280; font-size: 14px;">${Ct}</div>
              </td>
              <td style="padding: 15px; text-align: center; font-weight: bold; color: #1f2937;">${Ae.totalQuantity}</td>
              <td style="padding: 15px; text-align: right; font-weight: bold; color: #059669;">&#8362;${Ae.price.toFixed(2)}</td>
              <td style="padding: 15px; text-align: right; font-weight: bold; color: #059669;">&#8362;${Ae.totalPrice.toFixed(2)}</td>
              <td style="padding: 15px; text-align: center;">
                ${kn}
              </td>
            </tr>
          `}).join(""),Xe=`
<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>  - </title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background-color: #f3f4f6; direction: rtl;">
    <div style="max-width: 800px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">
        <div style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; padding: 30px; text-align: center;">
            <h1 style="margin: 0; font-size: 32px; font-weight: bold;">&#127881;  !</h1>
            <p style="margin: 10px 0 0 0; font-size: 18px; opacity: 0.9;"> -  </p>
        </div>
        <div style="padding: 30px;">
            <div style="background: #f8fafc; border-radius: 8px; padding: 20px; margin-bottom: 25px; border-right: 4px solid #3b82f6;">
                <h2 style="margin: 0 0 15px 0; color: #1f2937; font-size: 20px;">&#128203;  </h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <strong style="color: #374151;">&#127381;  :</strong><br>
                        <span style="font-size: 18px; font-weight: bold; color: #3b82f6;">#${K}</span>
                    </div>
                    <div>
                        <strong style="color: #374151;">&#128197; :</strong><br>
                        <span>${new Date().toLocaleDateString("he-IL")}  ${new Date().toLocaleTimeString("he-IL")}</span>
                    </div>
                </div>
            </div>
            <div style="background: #f0f9ff; border-radius: 8px; padding: 20px; margin-bottom: 25px; border-right: 4px solid #0ea5e9;">
                <h2 style="margin: 0 0 15px 0; color: #1f2937; font-size: 20px;">&#128100;  </h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div><strong style="color: #374151;">&#128100; :</strong><br><span>${y.customer_name}</span></div>
                    <div><strong style="color: #374151;">&#128231; :</strong><br><span>${y.customer_email}</span></div>
                    <div><strong style="color: #374151;">&#128222; :</b><br><span>${y.customer_phone}</span></div>
                </div>
                ${y.notes?`<div style="margin-top: 15px;"><strong style="color: #374151;">&#128221; :</strong><br><span style="background: white; padding: 10px; border-radius: 6px; display: block; margin-top: 5px;">${y.notes}</span></div>`:""}
            </div>
            <div style="background: #fef7f0; border-radius: 8px; padding: 20px; margin-bottom: 25px; border-right: 4px solid #ea580c;">
                <h2 style="margin: 0 0 15px 0; color: #1f2937; font-size: 20px;">&#128717;  </h2>
                <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead><tr style="background: #f3f4f6; color: #374151;">
                        <th style="padding: 15px; text-align: right; font-weight: bold;">#</th>
                        <th style="padding: 15px; text-align: right; font-weight: bold;"></th>
                        <th style="padding: 15px; text-align: center; font-weight: bold;"></th>
                        <th style="padding: 15px; text-align: right; font-weight: bold;"> </th>
                        <th style="padding: 15px; text-align: right; font-weight: bold;">"</th>
                        <th style="padding: 15px; text-align: center; font-weight: bold;"></th>
                    </tr></thead>
                    <tbody>${je}</tbody>
                </table>
            </div>
            <div style="background: #f0fdf4; border-radius: 8px; padding: 20px; margin-bottom: 25px; border-right: 4px solid #22c55e;">
                <h2 style="margin: 0 0 15px 0; color: #1f2937; font-size: 20px;">&#128176;  </h2>
                <div style="background: white; border-radius: 6px; padding: 15px;">
                    ${te!==Q?`<div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #6b7280;"><span> :</span><span>&#8362;${te.toFixed(2)}</span></div><div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #dc2626;"><span> ${k?`(${k.code})`:""}:</span><span>-&#8362;${q.toFixed(2)}</span></div><hr style="border: none; border-top: 1px solid #e5e7eb; margin: 10px 0;">`:""}
                    <div style="display: flex; justify-content: space-between; font-size: 20px; font-weight: bold; color: #059669;"><span>" :</span><span>&#8362;${Q.toFixed(2)}</span></div>
                </div>
            </div>
            <div style="background: #fef3c7; border-radius: 8px; padding: 20px; border-right: 4px solid #f59e0b;">
                <h2 style="margin: 0 0 10px 0; color: #92400e; font-size: 18px;">&#128222;   </h2>
                <p style="margin: 0; color: #92400e;">
                    : ${y.customer_name}<br>
                    : <a href="tel:${y.customer_phone}" style="color: #059669;">${y.customer_phone}</a><br>
                    : <a href="mailto:${y.customer_email}" style="color: #059669;">${y.customer_email}</a><br>
                    Watsapp: <a href="https://wa.me/972${y.customer_phone.replace(/\D/g,"").startsWith("0")?y.customer_phone.replace(/\D/g,"").slice(1):y.customer_phone.replace(/\D/g,"")}" target="_blank" style="color: #25d366;"> </a>
                </p>
            </div>
            <div style="background: #dcfce7; border-radius: 8px; padding: 20px; border-right: 44px solid #16a34a;">
                <h2 style="margin: 0 0 10px 0; color: #166534; font-size: 18px;">&#128172;   </h2>
                <p style="margin: 0 0 15px 0; color: #166534;">      :</p>
                <a href="https://wa.me/972${y.customer_phone.replace(/\D/g,"").startsWith("0")?y.customer_phone.replace(/\D/g,"").slice(1):y.customer_phone.replace(/\D/g,"")}?text=${encodeURIComponent(` ${y.customer_name}!

      !

 :
${(()=>{const Ae={};return re.forEach(ze=>{const Ct=`${ze.type==="block"?" ":ze.type==="magnet"?"":""} ${ze.size||""}`.trim();Ae[Ct]||(Ae[Ct]={count:0,totalPrice:0}),Ae[Ct].count+=ze.quantity,Ae[Ct].totalPrice+=ze.price*ze.quantity}),Object.entries(Ae).map(([ze,ot])=>` ${ot.count} ${ze} - ${ot.totalPrice.toFixed(2)}`).join(`
`)})()}

" : ${Q.toFixed(2)}

 :
 : https://www.bitpay.co.il/app/me/0B12350D-8CAE-423A-A293-B024D6F237E6958F
 : 0585802298
   -   

 :  3     
 :  4,  

     !
  `)}" target="_blank" style="background: #25d366; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                       
                </a>
            </div>
        </div>
    </div>
</body>
</html>`;await zte({to:xe,subject:`   #${K} - ${y.customer_name}`,body:Xe}),console.log("Business email sent successfully")}catch(xe){console.error("Email sending failed, but order was created successfully:",xe)}d(K),o(!0),n(),setTimeout(()=>{localStorage.removeItem("blockclick_order_total")},1440*60*1e3)}catch(K){console.error("Order creation failed:",K),m("  .   .")}finally{s(!1)}};if(i){const ne=localStorage.getItem("blockclick_order_total"),K=ne?parseFloat(ne):0;return`${K>0?K.toFixed(2):"0.00"}`,h.jsxs(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-amber-50 flex items-center justify-center p-6",children:[h.jsx(z2,{}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 text-center max-w-2xl",children:[h.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Ls,{className:"h-10 w-10 text-green-600"})}),h.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-4",children:"  !"}),h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 mb-6 text-right",children:[h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("p",{className:"text-lg font-semibold text-slate-800",children:[" : ",l]}),h.jsxs("p",{className:"text-xl font-bold text-green-600",children:[" : ",K>0?K.toFixed(2):"0.00"]})]}),h.jsxs("div",{className:"text-sm text-slate-600 leading-relaxed",children:[h.jsx("p",{className:"font-semibold mb-2",children:" :"}),h.jsxs("p",{className:"mb-2",children:[" : ",h.jsx("a",{href:"https://www.bitpay.co.il/app/me/0B12350D-8CAE-423A-A293-B024D6F237E6958F",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-bold",children:" "})]}),h.jsxs("p",{children:["  : ",h.jsx("span",{className:"font-bold",children:"0585802298"})]}),h.jsx("p",{children:"   -   "}),h.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"          "})]})]}),h.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"          .      .    ."}),h.jsx(mr,{to:Mn("Home"),children:h.jsx(Ke,{className:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"  "})})]})]})}return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-amber-50 py-12",children:[h.jsx(z2,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#1f2937",color:"#fff",direction:"rtl"}}}),h.jsxs("div",{className:"container mx-auto px-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"  "}),h.jsx("p",{className:"text-slate-600",children:"      "})]}),t.length===0?h.jsx(g9,{icon:ig,title:"  ",description:"        ",actionText:"  ",actionLink:"Home"}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-slate-800",children:[" (",t.length,")"]}),h.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>{gi(ne=>h.jsxs("div",{className:"flex flex-col gap-3 p-2 text-right",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx($B,{className:"h-5 w-5 text-orange-500"}),h.jsx("span",{className:"font-semibold text-slate-800",children:"  "})]}),h.jsx("p",{className:"text-slate-600 text-sm",children:"        ?"}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>{gi.dismiss(ne.id)},className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:""}),h.jsxs("button",{onClick:()=>{n(),gi.dismiss(ne.id)},className:"px-3 py-1 text-sm bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors flex items-center gap-1",children:[h.jsx(Td,{className:"h-3 w-3"})," "]})]})]}),{duration:1e4,style:{background:"#fff",color:"#333",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",minWidth:"300px"}})},className:"text-red-500 hover:text-red-700 hover:bg-red-50 border-red-200 flex items-center gap-2",children:[h.jsx(Td,{className:"h-4 w-4"})," "]})})]}),h.jsx("div",{className:"space-y-4",children:h.jsx(mu,{mode:"popLayout",children:F.map((ne,K)=>h.jsx(Ee.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:"bg-white rounded-xl shadow-lg p-6 border border-slate-200",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-20 h-20 rounded-lg border border-slate-200 flex items-center justify-center overflow-hidden bg-slate-50",children:ne.image_url?h.jsx(J2,{src:ne.image_url,alt:`  ${ne.type==="block"?" ":ne.type==="magnet"?"":""}  ${ne.size}`,className:"w-full h-full object-cover"}):h.jsx(ko,{className:"h-8 w-8 text-slate-400"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"font-semibold text-slate-800",children:[ne.type==="block"&&`  ${ne.size}`,ne.type==="magnet"&&` ${ne.size}`,ne.type==="photo"&&` ${ne.size}`]}),h.jsxs("p",{className:"text-sm text-slate-600",children:[": ",ne.totalQuantity]}),h.jsxs("p",{className:"font-bold text-slate-800",children:["",(ne.price*ne.totalQuantity).toFixed(2)]})]}),h.jsx(Ee.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(Ke,{onClick:()=>{ne.items.forEach(te=>e(te.id))},variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:h.jsx(Td,{className:"h-4 w-4"})})})]})},`${ne.image_url}_${ne.type}_${ne.size}`))})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 h-fit",children:[h.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:" "}),h.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"name",children:"  *"}),h.jsx(sr,{id:"name",value:y.customer_name,onChange:ne=>v({...y,customer_name:ne.target.value}),required:!0,className:"text-right"})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"email",children:" *"}),h.jsx(sr,{id:"email",type:"email",value:y.customer_email,onChange:ne=>v({...y,customer_email:ne.target.value}),required:!0,className:"text-right"})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"phone",children:" *"}),h.jsx(sr,{id:"phone",value:y.customer_phone,onChange:ne=>v({...y,customer_phone:ne.target.value}),required:!0,className:"text-right"})]}),h.jsxs("div",{children:[h.jsx(Dn,{children:"  ()"}),k?h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-green-800 font-medium",children:[": ",k.code]}),h.jsxs("p",{className:"text-green-600 text-sm",children:[": ",k.discount_type==="percentage"?`${k.discount_value}%`:`&#8362;${k.discount_value}`]})]}),h.jsx(Ke,{type:"button",onClick:U,variant:"ghost",size:"sm",children:h.jsx(Id,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx(sr,{value:S,onChange:ne=>C(ne.target.value.toUpperCase()),placeholder:" ",className:"text-right"}),h.jsx(Ke,{type:"button",onClick:$,disabled:D,variant:"outline",children:D?h.jsx(vs,{className:"h-4 w-4 animate-spin"}):""})]}),M&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:M})]}),h.jsxs("div",{children:[h.jsx(Dn,{htmlFor:"notes",children:""}),h.jsx(x9,{id:"notes",value:y.notes,onChange:ne=>v({...y,notes:ne.target.value}),className:"text-right"})]}),h.jsx("div",{className:"space-y-2",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("input",{type:"checkbox",id:"terms",checked:G,onChange:ne=>J(ne.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-amber-600 focus:ring-amber-500",required:!0}),h.jsxs("label",{htmlFor:"terms",className:"text-sm leading-5 text-slate-700",children:["      ",h.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-amber-600 hover:text-amber-700 underline mx-1",children:""})]})]})}),h.jsxs("div",{className:"border-t pt-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:'":'}),h.jsxs("span",{children:["",H().toFixed(2)]})]}),k&&de()>0&&h.jsxs("div",{className:"flex justify-between text-green-600",children:[h.jsxs("span",{children:[" (",k.discount_type==="percentage"?`${k.discount_value}%`:`&#8362;${k.discount_value}`,"):"]}),h.jsxs("span",{children:["-",de().toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[h.jsx("span",{children:":"}),h.jsxs("span",{className:"text-green-600",children:["",ie().toFixed(2)]})]})]}),p&&h.jsx("p",{className:"text-red-600 text-center mt-4",children:p}),h.jsx(Ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsxs(Ke,{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 h-12 text-lg font-medium shadow-lg hover:shadow-xl transition-all",children:[r?h.jsx(vs,{className:"h-5 w-5 animate-spin mr-2"}):null,r?" ...":" "]})})]})]})]})]}),h.jsx(cu,{open:B,onOpenChange:R,children:h.jsxs(Dl,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",dir:"rtl",children:[h.jsx(Ml,{children:h.jsx(Ol,{className:"text-xl font-bold text-slate-800",children:" "})}),h.jsx("div",{className:"space-y-4 py-4",children:h.jsxs("div",{className:"space-y-3 text-slate-700 leading-relaxed",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),h.jsx("p",{children:"            ."})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),h.jsx("p",{children:"        ,   ."})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),h.jsx("p",{children:"             ."})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),h.jsx("p",{children:'  ,    2             -   "       .'})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center text-sm font-medium",children:"5"}),h.jsx("p",{children:"     , ,   ."})]})]})}),h.jsx("div",{className:"flex justify-center pt-4",children:h.jsx(Ke,{onClick:()=>R(!1),className:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-8",children:""})})]})})]})}const eE=t=>{let e;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const v=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(S=>S(e,v))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=e=t(r,s,l);return l},Gte=(t=>t?eE(t):eE),qte=t=>t;function Kte(t,e=qte){const n=Et.useSyncExternalStore(t.subscribe,Et.useCallback(()=>e(t.getState()),[t,e]),Et.useCallback(()=>e(t.getInitialState()),[t,e]));return Et.useDebugValue(n),n}const tE=t=>{const e=Gte(t),n=r=>Kte(e,r);return Object.assign(n,e),n},Yte=(t=>t?tE(t):tE),X1=Yte((t,e)=>({canvasSpecs:{width:2e3,height:2e3,name:"Square (1:1)"},orientation:"portrait",objects:[],selectedId:null,stageScale:1,isAdmin:!1,setCanvasSpecs:n=>t(r=>({canvasSpecs:n})),setOrientation:n=>t({orientation:n}),addObject:n=>t(r=>({objects:[...r.objects,n],selectedId:n.id})),updateObject:(n,r)=>t(s=>({objects:s.objects.map(i=>i.id===n?{...i,...r}:i)})),deleteObject:n=>t(r=>({objects:r.objects.filter(s=>s.id!==n),selectedId:r.selectedId===n?null:r.selectedId})),setObjects:n=>t({objects:n,selectedId:null}),selectObject:n=>t({selectedId:n}),setStageScale:n=>t({stageScale:n}),toggleAdmin:()=>t(n=>({isAdmin:!n.isAdmin})),bringToFront:n=>t(r=>{const s=r.objects.findIndex(l=>l.id===n);if(s===-1||s===r.objects.length-1)return r;const i=[...r.objects],[o]=i.splice(s,1);return i.push(o),{objects:i}}),sendToBack:n=>t(r=>{const s=r.objects.findIndex(l=>l.id===n);if(s===-1||s===0)return r;const i=[...r.objects],[o]=i.splice(s,1);return i.unshift(o),{objects:i}})}));function Xte(){const{canvasSpecs:t,setCanvasSpecs:e,orientation:n,setOrientation:r,isAdmin:s,toggleAdmin:i}=X1(),{addToCart:o}=Lf(),l=Km(),[d,p]=b.useState(!1),m=C=>{const k=atob(C.split(",")[1]),P=C.split(",")[0].split(":")[1].split(";")[0],M=new ArrayBuffer(k.length),j=new Uint8Array(M);for(let D=0;D<k.length;D++)j[D]=k.charCodeAt(D);return new Blob([M],{type:P})},y=()=>{const C=document.getElementById("collage-stage");return C?C.querySelector("canvas"):document.querySelector(".konvajs-content canvas")},v=()=>{try{const C=y();if(C){const k=C.toDataURL({pixelRatio:2}),P=document.createElement("a");P.download=`collage-${Date.now()}.png`,P.href=k,document.body.appendChild(P),P.click(),document.body.removeChild(P),gi.success("Download started!")}else gi.error("Could not find canvas to generate image.")}catch(C){console.error("Export error:",C),gi.error("Failed to export image. Check for external image issues.")}},S=async()=>{p(!0);try{const C=y();if(!C)throw new Error("Canvas not found");const k=C.toDataURL({pixelRatio:2}),P=m(k),M=new File([P],`collage-${Date.now()}.png`,{type:"image/png"}),j=await cm.integrations.Core.UploadFile({file:M});if(!j||!j.file_url)throw new Error("Upload failed");o({type:"block",size:`${t.width}x${t.height}`,price:50,image_url:j.file_url,quantity:1,orientation:n}),gi.success("Collage added to cart!"),l(Mn("Cart"))}catch(C){console.error(C),gi.error("Failed to add to cart: "+(C.message||"Unknown error"))}finally{p(!1)}};return h.jsxs("div",{className:"h-16 bg-[#252525] border-b border-[#333] flex items-center justify-between px-4 z-20",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("h1",{className:"text-white font-bold text-lg mr-4",children:"PrintMyCollage"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-gray-400 text-sm",children:"Size:"}),h.jsxs(LR,{value:`${t.width}x${t.height}`,onValueChange:C=>{const[k,P]=C.split("x").map(Number);e({width:k,height:P})},children:[h.jsx(yb,{className:"w-[180px] bg-[#333] border-none text-white h-9",children:h.jsx(VR,{placeholder:"Select Size"})}),h.jsxs(vb,{className:"bg-[#333] border-[#444] text-white",children:[h.jsx(Sd,{value:"2000x2000",children:"Square (2000x2000)"}),h.jsx(Sd,{value:"4000x3000",children:"Standard (4000x3000)"}),h.jsx(Sd,{value:"3000x2000",children:"Photo (3000x2000)"}),h.jsx(Sd,{value:"3000x1000",children:"Banner (3000x1000)"})]})]})]}),h.jsxs("div",{className:"flex bg-[#333] rounded-md p-1 gap-1",children:[h.jsx("button",{onClick:()=>r("portrait"),className:`p-1.5 rounded ${n==="portrait"?"bg-[#444] text-white":"text-gray-400 hover:text-white"}`,title:"Portrait",children:h.jsx(AB,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>r("landscape"),className:`p-1.5 rounded ${n==="landscape"?"bg-[#444] text-white":"text-gray-400 hover:text-white"}`,title:"Landscape",children:h.jsx(rB,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"flex items-center gap-2 mr-4",children:h.jsxs("label",{className:"text-xs text-gray-500 cursor-pointer flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:s,onChange:i,className:"rounded bg-[#333] border-[#444]"}),"Admin Mode"]})}),h.jsxs(Ke,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-[#333] hover:text-white gap-2",onClick:v,children:[h.jsx(Py,{className:"w-4 h-4"}),"Download"]}),h.jsxs(Ke,{className:"bg-indigo-600 hover:bg-indigo-700 text-white gap-2",onClick:S,disabled:d,children:[d?h.jsx(vs,{className:"w-4 h-4 animate-spin"}):h.jsx(ig,{className:"w-4 h-4"}),"Add to Cart"]})]})]})}const Qte=[{id:"templates",icon:oB,label:"Templates"},{id:"uploads",icon:sg,label:"Uploads"},{id:"text",icon:YT,label:"Text"},{id:"elements",icon:LB,label:"Elements"},{id:"layers",icon:$z,label:"Layers"}];function Jte(){const[t,e]=b.useState("uploads"),{addObject:n,setObjects:r,objects:s,selectObject:i,deleteObject:o,selectedId:l}=X1(),d=v=>{const S=v.target.files[0];if(S){if(!S.type.startsWith("image/")){gi.error("Please upload an image file");return}const C=new FileReader;C.onload=()=>{n({id:Date.now().toString()+Math.random().toString().slice(2,6),type:"image",src:C.result,x:100,y:100,width:300,height:300,rotation:0,scaleX:1,scaleY:1}),gi.success("Image added")},C.readAsDataURL(S),v.target.value=""}},p=()=>{n({id:Date.now().toString()+Math.random().toString().slice(2,6),type:"text",text:"Double click to edit",fontSize:40,fontFamily:"Arial",fill:"black",x:100,y:100,rotation:0,scaleX:1,scaleY:1}),gi.success("Text added")},m=v=>{n({id:Date.now().toString()+Math.random().toString().slice(2,6),type:"shape",subtype:v,fill:"#3b82f6",width:100,height:100,radius:50,x:150,y:150,rotation:0,scaleX:1,scaleY:1}),gi.success("Shape added")},y=v=>{const S={"grid-4":[{id:"t1",type:"shape",subtype:"rect",fill:"#e5e7eb",x:0,y:0,width:400,height:400,rotation:0,scaleX:1,scaleY:1},{id:"t2",type:"shape",subtype:"rect",fill:"#d1d5db",x:400,y:0,width:400,height:400,rotation:0,scaleX:1,scaleY:1},{id:"t3",type:"shape",subtype:"rect",fill:"#9ca3af",x:0,y:400,width:400,height:400,rotation:0,scaleX:1,scaleY:1},{id:"t4",type:"shape",subtype:"rect",fill:"#6b7280",x:400,y:400,width:400,height:400,rotation:0,scaleX:1,scaleY:1}],"banner-text":[{id:"b1",type:"shape",subtype:"rect",fill:"#fcd34d",x:0,y:0,width:800,height:200,rotation:0,scaleX:1,scaleY:1},{id:"b2",type:"text",text:"SUMMER SALE",fontSize:60,fontFamily:"Arial",fill:"#000",x:50,y:70,rotation:0,scaleX:1,scaleY:1}]};if(S[v]){const C=S[v].map(k=>({...k,id:Date.now().toString()+Math.random().toString().slice(2,8)}));r(C),gi.success("Template loaded")}};return h.jsxs("div",{className:"flex h-full bg-[#252525] border-r border-[#333]",children:[h.jsx("div",{className:"w-16 flex flex-col items-center py-4 gap-4 border-r border-[#333] shrink-0",children:Qte.map(v=>h.jsxs("button",{onClick:()=>e(v.id),className:`flex flex-col items-center justify-center w-full py-3 gap-1 transition-colors ${t===v.id?"text-indigo-400 bg-[#1a1a1a] border-l-2 border-indigo-400":"text-gray-400 hover:text-gray-200"}`,children:[h.jsx(v.icon,{className:"w-6 h-6"}),h.jsx("span",{className:"text-[10px]",children:v.label})]},v.id))}),h.jsx("div",{className:"w-64 bg-[#2a2a2a] flex flex-col h-full",children:h.jsxs(Qy,{className:"flex-1 p-4",children:[t==="uploads"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-white font-medium mb-4",children:"Upload Images"}),h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-[#444] border-dashed rounded-lg cursor-pointer bg-[#333] hover:bg-[#3a3a3a] transition-colors relative",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[h.jsx(sg,{className:"w-8 h-8 text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Click to upload"})]}),h.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:d})]}),h.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Supported: JPG, PNG, HEIC"})]}),t==="text"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-white font-medium mb-4",children:"Add Text"}),h.jsx("button",{onClick:p,className:"w-full bg-[#333] text-white p-3 rounded hover:bg-[#444] text-left font-bold text-xl",children:"Add Heading"}),h.jsx("button",{onClick:p,className:"w-full bg-[#333] text-white p-3 rounded hover:bg-[#444] text-left font-medium text-lg",children:"Add Subheading"}),h.jsx("button",{onClick:p,className:"w-full bg-[#333] text-white p-3 rounded hover:bg-[#444] text-left text-sm",children:"Add Body Text"})]}),t==="elements"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-white font-medium mb-4",children:"Shapes"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsx("button",{onClick:()=>m("rect"),className:"aspect-square bg-[#333] rounded hover:bg-[#444] flex items-center justify-center text-white",children:h.jsx(qT,{})}),h.jsx("button",{onClick:()=>m("circle"),className:"aspect-square bg-[#333] rounded hover:bg-[#444] flex items-center justify-center text-white",children:h.jsx($T,{})}),h.jsx("button",{onClick:()=>m("star"),className:"aspect-square bg-[#333] rounded hover:bg-[#444] flex items-center justify-center text-white",children:h.jsx(KT,{})})]})]}),t==="templates"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-white font-medium mb-4",children:"Templates"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("button",{onClick:()=>y("grid-4"),className:"w-full aspect-video bg-[#333] hover:bg-[#444] rounded flex items-center justify-center text-gray-400 text-xs border border-[#444]",children:h.jsxs("div",{className:"grid grid-cols-2 gap-1 w-1/2 aspect-square",children:[h.jsx("div",{className:"bg-gray-600"}),h.jsx("div",{className:"bg-gray-600"}),h.jsx("div",{className:"bg-gray-600"}),h.jsx("div",{className:"bg-gray-600"})]})}),h.jsx("button",{onClick:()=>y("banner-text"),className:"w-full aspect-video bg-[#333] hover:bg-[#444] rounded flex items-center justify-center text-gray-400 text-xs border border-[#444]",children:h.jsxs("div",{className:"flex flex-col gap-1 w-3/4",children:[h.jsx("div",{className:"h-4 bg-yellow-600 w-full"}),h.jsx("div",{className:"h-2 bg-gray-600 w-1/2 mx-auto"})]})})]})]}),t==="layers"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-medium mb-4",children:"Layers"}),[...s].reverse().map((v,S)=>h.jsxs("div",{onClick:()=>i(v.id),className:`flex items-center gap-2 p-2 rounded cursor-pointer ${v.id===l?"bg-indigo-900/50 border border-indigo-500":"bg-[#333] hover:bg-[#444]"}`,children:[h.jsx(Lz,{className:"w-4 h-4 text-gray-500"}),h.jsxs("div",{className:"flex-1 truncate text-xs text-white",children:[v.type==="image"&&"Image Layer",v.type==="text"&&(v.text||"Text Layer"),v.type==="shape"&&`${v.subtype} Shape`]}),h.jsx("button",{onClick:C=>{C.stopPropagation(),o(v.id)},className:"text-gray-500 hover:text-red-400",children:h.jsx(Td,{className:"w-3 h-3"})})]},v.id)),s.length===0&&h.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No layers"})]})]})})]})}var _9=["PageUp","PageDown"],b9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hf="Slider",[Z2,Zte,ene]=R1(Hf),[E9]=jo(Hf,[ene]),[tne,Q1]=E9(Hf),C9=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:m,onValueChange:y=()=>{},onValueCommit:v=()=>{},inverted:S=!1,form:C,...k}=t,P=b.useRef(new Set),M=b.useRef(0),D=o==="horizontal"?nne:rne,[V=[],G]=lu({prop:m,defaultProp:p,onChange:H=>{var U;(U=[...P.current][M.current])==null||U.focus(),y(H)}}),J=b.useRef(V);function B(H){const $=lne(V,H);z(H,$)}function R(H){z(H,M.current)}function F(){const H=J.current[M.current];V[M.current]!==H&&v(V)}function z(H,$,{commit:U}={commit:!1}){const ie=hne(i),de=fne(Math.round((H-r)/i)*i+r,ie),ue=Um(de,[r,s]);G((ne=[])=>{const K=one(ne,ue,$);if(dne(K,d*i)){M.current=K.indexOf(ue);const te=String(K)!==String(ne);return te&&U&&v(K),te?K:ne}else return ne})}return h.jsx(tne,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:M,thumbs:P.current,values:V,orientation:o,form:C,children:h.jsx(Z2.Provider,{scope:t.__scopeSlider,children:h.jsx(Z2.Slot,{scope:t.__scopeSlider,children:h.jsx(D,{"aria-disabled":l,"data-disabled":l?"":void 0,...k,ref:e,onPointerDown:We(k.onPointerDown,()=>{l||(J.current=V)}),min:r,max:s,inverted:S,onSlideStart:l?void 0:B,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:F,onHomeKeyDown:()=>!l&&z(r,0,{commit:!0}),onEndKeyDown:()=>!l&&z(s,V.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:$})=>{if(!l){const de=_9.includes(H.key)||H.shiftKey&&b9.includes(H.key)?10:1,ue=M.current,ne=V[ue],K=i*de*$;z(ne+K,ue,{commit:!0})}}})})})})});C9.displayName=Hf;var[T9,N9]=E9(Hf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nne=b.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:p,...m}=t,[y,v]=b.useState(null),S=bt(e,D=>v(D)),C=b.useRef(void 0),k=dg(s),P=k==="ltr",M=P&&!i||!P&&i;function j(D){const V=C.current||y.getBoundingClientRect(),G=[0,V.width],B=Rb(G,M?[n,r]:[r,n]);return C.current=V,B(D-V.left)}return h.jsx(T9,{scope:t.__scopeSlider,startEdge:M?"left":"right",endEdge:M?"right":"left",direction:M?1:-1,size:"width",children:h.jsx(k9,{dir:k,"data-orientation":"horizontal",...m,ref:S,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:D=>{const V=j(D.clientX);o==null||o(V)},onSlideMove:D=>{const V=j(D.clientX);l==null||l(V)},onSlideEnd:()=>{C.current=void 0,d==null||d()},onStepKeyDown:D=>{const G=S9[M?"from-left":"from-right"].includes(D.key);p==null||p({event:D,direction:G?-1:1})}})})}),rne=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...p}=t,m=b.useRef(null),y=bt(e,m),v=b.useRef(void 0),S=!s;function C(k){const P=v.current||m.current.getBoundingClientRect(),M=[0,P.height],D=Rb(M,S?[r,n]:[n,r]);return v.current=P,D(k-P.top)}return h.jsx(T9,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:h.jsx(k9,{"data-orientation":"vertical",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const P=C(k.clientY);i==null||i(P)},onSlideMove:k=>{const P=C(k.clientY);o==null||o(P)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:k=>{const M=S9[S?"from-bottom":"from-top"].includes(k.key);d==null||d({event:k,direction:M?-1:1})}})})}),k9=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...p}=t,m=Q1(Hf,n);return h.jsx(ft.span,{...p,ref:e,onKeyDown:We(t.onKeyDown,y=>{y.key==="Home"?(o(y),y.preventDefault()):y.key==="End"?(l(y),y.preventDefault()):_9.concat(b9).includes(y.key)&&(d(y),y.preventDefault())}),onPointerDown:We(t.onPointerDown,y=>{const v=y.target;v.setPointerCapture(y.pointerId),y.preventDefault(),m.thumbs.has(v)?v.focus():r(y)}),onPointerMove:We(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&s(y)}),onPointerUp:We(t.onPointerUp,y=>{const v=y.target;v.hasPointerCapture(y.pointerId)&&(v.releasePointerCapture(y.pointerId),i(y))})})}),P9="SliderTrack",R9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Q1(P9,n);return h.jsx(ft.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});R9.displayName=P9;var ew="SliderRange",A9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Q1(ew,n),i=N9(ew,n),o=b.useRef(null),l=bt(e,o),d=s.values.length,p=s.values.map(v=>D9(v,s.min,s.max)),m=d>1?Math.min(...p):0,y=100-Math.max(...p);return h.jsx(ft.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:y+"%"}})});A9.displayName=ew;var tw="SliderThumb",I9=b.forwardRef((t,e)=>{const n=Zte(t.__scopeSlider),[r,s]=b.useState(null),i=bt(e,l=>s(l)),o=b.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return h.jsx(sne,{...t,ref:i,index:o})}),sne=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Q1(tw,n),l=N9(tw,n),[d,p]=b.useState(null),m=bt(e,j=>p(j)),y=d?o.form||!!d.closest("form"):!0,v=M1(d),S=o.values[r],C=S===void 0?0:D9(S,o.min,o.max),k=ane(r,o.values.length),P=v==null?void 0:v[l.size],M=P?cne(P,C,l.direction):0;return b.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${C}% + ${M}px)`},children:[h.jsx(Z2.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(ft.span,{role:"slider","aria-label":t["aria-label"]||k,"aria-valuemin":o.min,"aria-valuenow":S,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:S===void 0?{display:"none"}:t.style,onFocus:We(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),y&&h.jsx(j9,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:S},r)]})});I9.displayName=tw;var ine="RadioBubbleInput",j9=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=b.useRef(null),i=bt(s,r),o=U1(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const y=new Event("input",{bubbles:!0});m.call(l,e),l.dispatchEvent(y)}},[o,e]),h.jsx(ft.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});j9.displayName=ine;function one(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function D9(t,e,n){const i=100/(n-e)*(t-e);return Um(i,[0,100])}function ane(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function lne(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function cne(t,e,n){const r=t/2,i=Rb([0,50],[0,r]);return(r-i(e)*n)*n}function une(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function dne(t,e){if(e>0){const n=une(t);return Math.min(...n)>=e}return!0}function Rb(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hne(t){return(String(t).split(".")[1]||"").length}function fne(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var M9=C9,pne=R9,mne=A9,gne=I9;const nw=b.forwardRef(({className:t,...e},n)=>h.jsxs(M9,{ref:n,className:`relative flex w-full touch-none select-none items-center ${t}`,...e,children:[h.jsx(pne,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-slate-100",children:h.jsx(mne,{className:"absolute h-full bg-slate-900"})}),h.jsx(gne,{className:"block h-5 w-5 rounded-full border-2 border-slate-900 bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));nw.displayName=M9.displayName;function yne(){const{objects:t,selectedId:e,updateObject:n,deleteObject:r,bringToFront:s,sendToBack:i}=X1(),o=t.find(l=>l.id===e);return o?h.jsxs("div",{className:"w-64 bg-[#252525] border-l border-[#333] flex flex-col h-full",children:[h.jsxs("div",{className:"p-4 border-b border-[#333]",children:[h.jsx("h3",{className:"text-white font-medium",children:"Properties"}),h.jsxs("p",{className:"text-xs text-gray-500",children:[o.type," Layer"]})]}),h.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto flex-1",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>s(e),className:"bg-[#333] hover:bg-[#444] text-white p-2 rounded flex items-center justify-center gap-2 text-xs",title:"Bring to Front",children:[h.jsx(lz,{className:"w-4 h-4"})," Front"]}),h.jsxs("button",{onClick:()=>i(e),className:"bg-[#333] hover:bg-[#444] text-white p-2 rounded flex items-center justify-center gap-2 text-xs",title:"Send to Back",children:[h.jsx(TB,{className:"w-4 h-4"})," Back"]})]}),o.type==="text"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{className:"text-gray-400 text-xs",children:"Content"}),h.jsx(sr,{value:o.text,onChange:l=>n(e,{text:l.target.value}),className:"bg-[#333] border-[#444] text-white"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{className:"text-gray-400 text-xs",children:"Font Size"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(nw,{value:[o.fontSize],min:10,max:200,step:1,onValueChange:([l])=>n(e,{fontSize:l}),className:"flex-1"}),h.jsx("span",{className:"text-white text-xs w-8",children:o.fontSize})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{className:"text-gray-400 text-xs",children:"Color"}),h.jsx("input",{type:"color",value:o.fill,onChange:l=>n(e,{fill:l.target.value}),className:"w-full h-8 rounded bg-[#333] border border-[#444]"})]})]}),o.type==="image"&&h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{className:"text-gray-400 text-xs",children:"Opacity"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(nw,{value:[(o.opacity??1)*100],min:0,max:100,step:1,onValueChange:([l])=>n(e,{opacity:l/100}),className:"flex-1"}),h.jsxs("span",{className:"text-white text-xs w-8",children:[Math.round((o.opacity??1)*100),"%"]})]})]})}),o.type==="shape"&&h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Dn,{className:"text-gray-400 text-xs",children:"Fill Color"}),h.jsx("input",{type:"color",value:o.fill,onChange:l=>n(e,{fill:l.target.value}),className:"w-full h-8 rounded bg-[#333] border border-[#444]"})]})}),h.jsx("div",{className:"pt-4 border-t border-[#333]",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-400",children:[h.jsxs("div",{children:[h.jsx("label",{children:"X"}),h.jsx(sr,{type:"number",value:Math.round(o.x),onChange:l=>n(e,{x:Number(l.target.value)}),className:"bg-[#333] border-[#444] text-white h-7 mt-1"})]}),h.jsxs("div",{children:[h.jsx("label",{children:"Y"}),h.jsx(sr,{type:"number",value:Math.round(o.y),onChange:l=>n(e,{y:Number(l.target.value)}),className:"bg-[#333] border-[#444] text-white h-7 mt-1"})]})]})})]}),h.jsx("div",{className:"p-4 border-t border-[#333]",children:h.jsxs("button",{onClick:()=>r(e),className:"w-full bg-red-900/50 hover:bg-red-900/80 text-red-200 p-2 rounded flex items-center justify-center gap-2 text-sm transition-colors",children:[h.jsx(Td,{className:"w-4 h-4"})," Delete Layer"]})})]}):h.jsx("div",{className:"w-64 bg-[#252525] border-l border-[#333] p-4 text-gray-500 text-center text-sm pt-20",children:"Select an element to edit properties"})}const vne=Math.PI/180;function xne(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Ed=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ve={_global:Ed,version:"10.0.12",isBrowser:xne(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ve.angleDeg?t*vne:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ve.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ve.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ve.DD.node},releaseCanvasOnDestroy:!0,document:Ed.document,_injectGlobal(t){typeof Ed.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Ed.Konva=t}},Fn=t=>{Ve[t.prototype.getClassName()]=t};Ve._injectGlobal(Ve);const wne=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,nE=()=>{if(typeof document>"u")throw new Error(wne)};class yi{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new yi(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),s=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,l=this.m[1]*-r+this.m[3]*n;return this.m[0]=s,this.m[1]=i,this.m[2]=o,this.m[3]=l,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,s=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=s,this.m[2]=i,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],l=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=l,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,s=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=l,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],s=this.m[3],i=this.m[4],o=this.m[5],l=e*s-n*r,d={x:i,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const p=Math.sqrt(e*e+n*n);d.rotation=n>0?Math.acos(e/p):-Math.acos(e/p),d.scaleX=p,d.scaleY=l/p,d.skewX=(e*r+n*s)/l,d.skewY=0}else if(r!=0||s!=0){const p=Math.sqrt(r*r+s*s);d.rotation=Math.PI/2-(s>0?Math.acos(-r/p):-Math.acos(r/p)),d.scaleX=l/p,d.scaleY=p,d.skewX=0,d.skewY=(e*r+n*s)/l}return d.rotation=ce._getRotation(d.rotation),d}}const _ne="[object Array]",bne="[object Number]",Sne="[object String]",Ene="[object Boolean]",Cne=Math.PI/180,Tne=180/Math.PI,Fp="#",Nne="",kne="0",Pne="Konva warning: ",rE="Konva error: ",Rne="rgb(",bx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Ane=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let A0=[],zp=null;const Ine=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ce={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===_ne},_isNumber(t){return Object.prototype.toString.call(t)===bne&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===Sne},_isBoolean(t){return Object.prototype.toString.call(t)===Ene},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){A0.push(t),A0.length===1&&Ine(function(){const e=A0;A0=[],e.forEach(function(n){n()})})},createCanvasElement(){nE();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return nE(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=ce.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Fp,Nne);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=kne+t;return Fp+t},isCanvasFarblingActive(){if(zp!==null)return zp;if(typeof document>"u")return zp=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let s=0;s<100;s++)if(n[s*4]!==40||n[s*4+1]!==40||n[s*4+2]!==40||n[s*4+3]!==255){r=!0;break}return zp=r,this.releaseCanvas(t),zp},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),Fp+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return Fp+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in bx?(e=bx[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Fp?this._hexToRgb(t.substring(1)):t.substr(0,4)===Rne?(e=Ane.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ce._namedColorToRBA(t)||ce._hex3ColorToRGBA(t)||ce._hex4ColorToRGBA(t)||ce._hex6ColorToRGBA(t)||ce._hex8ColorToRGBA(t)||ce._rgbColorToRGBA(t)||ce._rgbaColorToRGBA(t)||ce._hslColorToRGBA(t)},_namedColorToRBA(t){const e=bx[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,s=Number(n[1])/100,i=Number(n[2])/100;let o,l,d;if(s===0)return d=i*255,{r:Math.round(d),g:Math.round(d),b:Math.round(d),a:1};i<.5?o=i*(1+s):o=i+s-i*s;const p=2*i-o,m=[0,0,0];for(let y=0;y<3;y++)l=r+1/3*-(y-1),l<0&&l++,l>1&&l--,6*l<1?d=p+(o-p)*6*l:2*l<1?d=o:3*l<2?d=p+(o-p)*(2/3-l)*6:d=p,m[y]=d*255;return{r:Math.round(m[0]),g:Math.round(m[1]),b:Math.round(m[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*Cne},radToDeg(t){return t*Tne},_degToRad(t){return ce.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ce.degToRad(t)},_radToDeg(t){return ce.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ce.radToDeg(t)},_getRotation(t){return Ve.angleDeg?ce.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(rE+t)},error(t){console.error(rE+t)},warn(t){Ve.showWarnings&&console.warn(Pne+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,s,i){let o,l,d;const p=(t-n)*(t-n)+(e-r)*(e-r);if(p==0)o=t,l=e,d=(s-n)*(s-n)+(i-r)*(i-r);else{const m=((s-t)*(n-t)+(i-e)*(r-e))/p;m<0?(o=t,l=e,d=(t-s)*(t-s)+(e-i)*(e-i)):m>1?(o=n,l=r,d=(n-s)*(n-s)+(r-i)*(r-i)):(o=t+m*(n-t),l=e+m*(r-e),d=(o-s)*(o-s)+(l-i)*(l-i))}return[o,l,d]},_getProjectionToLine(t,e,n){const r=ce.cloneObject(t);let s=Number.MAX_VALUE;return e.forEach(function(i,o){if(!n&&o===e.length-1)return;const l=e[(o+1)%e.length],d=ce._getProjectionToSegment(i.x,i.y,l.x,l.y,t.x,t.y),p=d[0],m=d[1],y=d[2];y<s&&(r.x=p,r.y=m,s=y)}),r},_prepareArrayForTween(t,e,n){const r=[],s=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)s.push({x:e[o],y:e[o+1]});const i=[];return s.forEach(function(o){const l=ce._getProjectionToLine(o,r,n);i.push(l.x),i.push(l.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ce._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ce._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ve.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let s=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,l=0,d=0,p=0;typeof r=="number"?o=l=d=p=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),l=Math.min(r[1]||0,e/2,n/2),p=Math.min(r[2]||0,e/2,n/2),d=Math.min(r[3]||0,e/2,n/2)),t.moveTo(s+o,i),t.lineTo(s+e-l,i),t.arc(s+e-l,i+l,l,Math.PI*3/2,0,!1),t.lineTo(s+e,i+n-p),t.arc(s+e-p,i+n-p,p,0,Math.PI/2,!1),t.lineTo(s+d,i+n),t.arc(s+d,i+n-d,d,Math.PI/2,Math.PI,!1),t.lineTo(s,i+o),t.arc(s+o,i+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,s){r=Math.abs(r);for(let i=0;i<n;i++){const o=e[(i-1+n)%n],l=e[i],d=e[(i+1)%n],p={x:l.x-o.x,y:l.y-o.y},m={x:d.x-l.x,y:d.y-l.y},y=Math.hypot(p.x,p.y),v=Math.hypot(m.x,m.y);let S;typeof s=="number"?S=s:S=i<s.length?s[i]:0,S=r*Math.cos(Math.PI/n)*Math.min(1,S/r*2);const k={x:p.x/y,y:p.y/y},P={x:m.x/v,y:m.y/v},M={x:l.x-k.x*S,y:l.y-k.y*S},j={x:l.x+P.x*S,y:l.y+P.y*S};i===0?t.moveTo(M.x,M.y):t.lineTo(M.x,M.y),t.arcTo(l.x,l.y,j.x,j.y,S)}}};function jne(t){const e=[],n=t.length,r=ce;for(let s=0;s<n;s++){let i=t[s];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const sE=",",Dne="(",Mne=")",One="([",Lne="])",Vne=";",Fne="()",zne="=",iE=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Bne=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],Une=100;let I0=null;function oE(){if(I0!==null)return I0;try{const e=ce.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(I0=!1,!1)}catch{return I0=!1,!1}}class J1{constructor(e){this.canvas=e,Ve.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,s=r.length,i="",o,l,d,p;for(o=0;o<s;o++)l=r[o],d=l.method,d?(p=l.args,i+=d,e?i+=Fne:ce._isArray(p[0])?i+=One+p.join(sE)+Lne:(n&&(p=p.map(m=>typeof m=="number"?Math.floor(m):m)),i+=Dne+p.join(sE)+Mne)):(i+=l.property,e||(i+=zne+l.val)),i+=Vne;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=Une&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,s,i,o){this._context.arc(e,n,r,s,i,o)}arcTo(e,n,r,s,i){this._context.arcTo(e,n,r,s,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,s,i,o){this._context.bezierCurveTo(e,n,r,s,i,o)}clearRect(e,n,r,s){this._context.clearRect(e,n,r,s)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,s){return this._context.createLinearGradient(e,n,r,s)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,s,i,o){return this._context.createRadialGradient(e,n,r,s,i,o)}drawImage(e,n,r,s,i,o,l,d,p){const m=arguments,y=this._context;m.length===3?y.drawImage(e,n,r):m.length===5?y.drawImage(e,n,r,s,i):m.length===9&&y.drawImage(e,n,r,s,i,o,l,d,p)}ellipse(e,n,r,s,i,o,l,d){this._context.ellipse(e,n,r,s,i,o,l,d)}isPointInPath(e,n,r,s){return r?this._context.isPointInPath(r,e,n,s):this._context.isPointInPath(e,n,s)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,s){this._context.fillRect(e,n,r,s)}strokeRect(e,n,r,s){this._context.strokeRect(e,n,r,s)}fillText(e,n,r,s){s?this._context.fillText(e,n,r,s):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,s){return this._context.getImageData(e,n,r,s)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,s){this._context.rect(e,n,r,s)}roundRect(e,n,r,s,i){this._context.roundRect(e,n,r,s,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,s){this._context.quadraticCurveTo(e,n,r,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,s,i,o){this._context.setTransform(e,n,r,s,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,s){this._context.strokeText(e,n,r,s)}transform(e,n,r,s,i,o){this._context.transform(e,n,r,s,i,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=iE.length,r=this.setAttr,s,i;const o=function(l){let d=e[l],p;e[l]=function(){return i=jne(Array.prototype.slice.call(arguments,0)),p=d.apply(e,arguments),e._trace({method:l,args:i}),p}};for(s=0;s<n;s++)o(iE[s]);e.setAttr=function(){r.apply(e,arguments);const l=arguments[0];let d=arguments[1];(l==="shadowOffsetX"||l==="shadowOffsetY"||l==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),e._trace({property:l,val:d})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Bne.forEach(function(t){Object.defineProperty(J1.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class $ne extends J1{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const s=e.getFillPatternImage();if(s&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):s?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(s){for(let o=0;o<s.length;o+=2)i.addColorStop(s[o],s[o+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,s;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,l=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},d=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),m=d.x*p,y=d.y*p;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(m),Math.abs(y))),this.setAttr("shadowOffsetX",l.x*m),this.setAttr("shadowOffsetY",l.y*y)}}class Hne extends J1{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),s=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let j0;function Wne(){if(j0)return j0;const t=ce.createCanvasElement(),e=t.getContext("2d");return j0=(function(){const n=Ve._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),ce.releaseCanvas(t),j0}class Ab{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Ve.pixelRatio||Wne();this.pixelRatio=r,this._canvas=ce.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(s){return ce.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Gc extends Ab{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new $ne(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class Ib extends Ab{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Hne(this),this.setSize(e.width,e.height)}}const $t={get isDragging(){let t=!1;return $t._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return $t._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];$t._dragElements.forEach((n,r)=>{const{node:s}=n,i=s.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ce._getFirstPointerId(t));const o=i._changedPointerPositions.find(l=>l.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const l=s.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<l||(s.startDrag({evt:t}),!s.isDragging()))return}s._setDragPosition(t,n),e.push(s)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];$t._dragElements.forEach(n=>{const{node:r}=n,s=r.getStage();if(t&&s.setPointersPositions(t),!s._changedPointerPositions.find(l=>l.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&($t.justDragged=!0,Ve._mouseListenClick=!1,Ve._touchListenClick=!1,Ve._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof Ve.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){$t._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&$t._dragElements.delete(n)})}};Ve.isBrowser&&(window.addEventListener("mouseup",$t._endDragBefore,!0),window.addEventListener("touchend",$t._endDragBefore,!0),window.addEventListener("touchcancel",$t._endDragBefore,!0),window.addEventListener("mousemove",$t._drag),window.addEventListener("touchmove",$t._drag),window.addEventListener("mouseup",$t._endDragAfter,!1),window.addEventListener("touchend",$t._endDragAfter,!1),window.addEventListener("touchcancel",$t._endDragAfter,!1));function bu(t){return ce._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ce._isBoolean(t)?t:Object.prototype.toString.call(t)}function O9(t){return t>255?255:t<0?0:Math.round(t)}function Me(){if(Ve.isUnminified)return function(t,e){return ce._isNumber(t)||ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Z1(t){if(Ve.isUnminified)return function(e,n){let r=ce._isNumber(e),s=ce._isArray(e)&&e.length==t;return!r&&!s&&ce.warn(bu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function jb(){if(Ve.isUnminified)return function(t,e){return ce._isNumber(t)||t==="auto"||ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Gd(){if(Ve.isUnminified)return function(t,e){return ce._isString(t)||ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function L9(){if(Ve.isUnminified)return function(t,e){const n=ce._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Gne(){if(Ve.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ce._isArray(t)?t.forEach(function(r){ce._isNumber(r)||ce.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Mo(){if(Ve.isUnminified)return function(t,e){return t===!0||t===!1||ce.warn(bu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function qne(t){if(Ve.isUnminified)return function(e,n){return e==null||ce.isObject(e)||ce.warn(bu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Bp="get",Up="set",ee={addGetterSetter(t,e,n,r,s){ee.addGetter(t,e,n),ee.addSetter(t,e,r,s),ee.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Bp+ce._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const s=this.attrs[e];return s===void 0?n:s}},addSetter(t,e,n,r){const s=Up+ce._capitalize(e);t.prototype[s]||ee.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const s=Up+ce._capitalize(e);t.prototype[s]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,s){const i=n.length,o=ce._capitalize,l=Bp+o(e),d=Up+o(e);t.prototype[l]=function(){const m={};for(let y=0;y<i;y++){const v=n[y];m[v]=this.getAttr(e+o(v))}return m};const p=qne(n);t.prototype[d]=function(m){const y=this.attrs[e];r&&(m=r.call(this,m,e)),p&&p.call(this,m,e);for(const v in m)m.hasOwnProperty(v)&&this._setAttr(e+o(v),m[v]);return m||n.forEach(v=>{this._setAttr(e+o(v),void 0)}),this._fireChangeEvent(e,y,m),s&&s.call(this),this},ee.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=ce._capitalize(e),r=Up+n,s=Bp+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(t,e,n,r){ce.error("Adding deprecated "+e);const s=Bp+ce._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){ce.error(i);const o=this.attrs[e];return o===void 0?n:o},ee.addSetter(t,e,r,function(){ce.error(i)}),ee.addOverloadedGetterSetter(t,e)},backCompat(t,e){ce.each(e,function(n,r){const s=t.prototype[r],i=Bp+ce._capitalize(n),o=Up+ce._capitalize(n);function l(){s.apply(this,arguments),ce.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=l,t.prototype[i]=l,t.prototype[o]=l})},afterSetFilter(){this._filterUpToDate=!1}};function Kne(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,s]=n;switch(r){case"blur":{const i=parseFloat(s.replace("px",""));return function(o){this.blurRadius(i*.5);const l=Ve.Filters;l&&l.Blur&&l.Blur.call(this,o)}}case"brightness":{const i=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(o){this.brightness(i);const l=Ve.Filters;l&&l.Brightness&&l.Brightness.call(this,o)}}case"contrast":{const i=parseFloat(s);return function(o){const l=100*(Math.sqrt(i)-1);this.contrast(l);const d=Ve.Filters;d&&d.Contrast&&d.Contrast.call(this,o)}}case"grayscale":return function(i){const o=Ve.Filters;o&&o.Grayscale&&o.Grayscale.call(this,i)};case"sepia":return function(i){const o=Ve.Filters;o&&o.Sepia&&o.Sepia.call(this,i)};case"invert":return function(i){const o=Ve.Filters;o&&o.Invert&&o.Invert.call(this,i)};default:ce.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const oy="absoluteOpacity",D0="allEventListeners",Cl="absoluteTransform",aE="absoluteScale",md="canvas",Yne="Change",Xne="children",Qne="konva",rw="listening",Jne="mouseenter",Zne="mouseleave",ere="pointerenter",tre="pointerleave",nre="touchenter",rre="touchleave",lE="set",cE="Shape",ay=" ",uE="stage",Uc="transform",sre="Stage",sw="visible",ire=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ay);let ore=1,Le=class iw{constructor(e){this._id=ore++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Uc||e===Cl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Uc||e===Cl)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const s=n.map(i=>i+"Change.konva").join(ay);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(md)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Cl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(md)){const{scene:e,filter:n,hit:r,buffer:s}=this._cache.get(md);ce.releaseCanvas(e,n,r,s),this._cache.delete(md)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),o=n.pixelRatio,l=n.x===void 0?Math.floor(r.x):n.x,d=n.y===void 0?Math.floor(r.y):n.y,p=n.offset||0,m=n.drawBorder||!1,y=n.hitCanvasPixelRatio||1;if(!s||!i){ce.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const v=Math.abs(Math.round(r.x)-l)>.5?1:0,S=Math.abs(Math.round(r.y)-d)>.5?1:0;s+=p*2+v,i+=p*2+S,l-=p,d-=p;const C=new Gc({pixelRatio:o,width:s,height:i}),k=new Gc({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),P=new Ib({pixelRatio:y,width:s,height:i}),M=C.getContext(),j=P.getContext(),D=new Gc({width:C.width/C.pixelRatio+Math.abs(l),height:C.height/C.pixelRatio+Math.abs(d),pixelRatio:C.pixelRatio}),V=D.getContext();return P.isCache=!0,C.isCache=!0,this._cache.delete(md),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(C.getContext()._context.imageSmoothingEnabled=!1,k.getContext()._context.imageSmoothingEnabled=!1),M.save(),j.save(),V.save(),M.translate(-l,-d),j.translate(-l,-d),V.translate(-l,-d),D.x=l,D.y=d,this._isUnderCache=!0,this._clearSelfAndDescendantCache(oy),this._clearSelfAndDescendantCache(aE),this.drawScene(C,this,D),this.drawHit(P,this),this._isUnderCache=!1,M.restore(),j.restore(),m&&(M.save(),M.beginPath(),M.rect(0,0,s,i),M.closePath(),M.setAttr("strokeStyle","red"),M.setAttr("lineWidth",5),M.stroke(),M.restore()),this._cache.set(md,{scene:C,filter:k,hit:P,buffer:D,x:l,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(md)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let s=1/0,i=1/0,o=-1/0,l=-1/0;const d=this.getAbsoluteTransform(n);return r.forEach(function(p){const m=d.point(p);s===void 0&&(s=o=m.x,i=l=m.y),s=Math.min(s,m.x),i=Math.min(i,m.y),o=Math.max(o,m.x),l=Math.max(l,m.y)}),{x:s,y:i,width:o-s,height:l-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),s=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/s,r.height/s),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,s=n.filter,i=s.getContext(),o,l,d,p;if(!e||e.length===0)return r;if(this._filterUpToDate)return s;let m=!0;for(let v=0;v<e.length;v++)if(typeof e[v]=="string"&&oE(),typeof e[v]!="string"||!oE()){m=!1;break}const y=r.pixelRatio;if(s.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),m){const v=e.join(" ");return i.save(),i.setAttr("filter",v),i.drawImage(r._canvas,0,0,r.getWidth()/y,r.getHeight()/y),i.restore(),this._filterUpToDate=!0,s}try{for(o=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/y,r.getHeight()/y),l=i.getImageData(0,0,s.getWidth(),s.getHeight()),d=0;d<o;d++)p=e[d],typeof p=="string"&&(p=Kne(p)),p.call(this,l),i.putImageData(l,0,0)}catch(v){ce.error("Unable to apply filter. "+v.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,n){if(this._cache&&this._cache.delete(D0),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(ay);for(let s=0;s<r.length;s++){const o=r[s].split("."),l=o[0],d=o[1]||"";this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:d,handler:n})}return this}off(e,n){let r=(e||"").split(ay),s=r.length,i,o,l,d,p,m;if(this._cache&&this._cache.delete(D0),!e)for(o in this.eventListeners)this._off(o);for(i=0;i<s;i++)if(l=r[i],d=l.split("."),p=d[0],m=d[1],p)this.eventListeners[p]&&this._off(p,m,n);else for(o in this.eventListeners)this._off(o,m,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const s=this;this.on(e,function(i){const o=i.target.findAncestors(n,!0,s);for(let l=0;l<o.length;l++)i=ce.cloneObject(i),i.currentTarget=o[l],r.call(o[l],i)})}remove(){return this.isDragging()&&this.stopDrag(),$t._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Cl),this._clearSelfAndDescendantCache(oy),this._clearSelfAndDescendantCache(aE),this._clearSelfAndDescendantCache(uE),this._clearSelfAndDescendantCache(sw),this._clearSelfAndDescendantCache(rw)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ce._capitalize(e);return ce._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==Xne&&(r=lE+ce._capitalize(n),ce._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(rw,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(sw,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let s=!1;$t._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(s=!0)});const i=!n&&!Ve.hitOnDragEnabled&&(s||Ve.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,s,i,o,l;function d(m){for(s=[],i=m.length,o=0;o<i;o++)l=m[o],r++,l.nodeType!==cE&&(s=s.concat(l.getChildren().slice())),l._id===n._id&&(o=i);s.length>0&&s[0].getDepth()<=e&&d(s)}const p=this.getStage();return n.nodeType!==sre&&p&&d(p.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Uc),this._clearSelfAndDescendantCache(Cl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const s=this.getAbsoluteTransform(e).getMatrix(),i=new yi,o=this.offset();return i.m=s.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...s}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Uc);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(Uc),this._clearSelfAndDescendantCache(Cl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,s=this.x(),i=this.y();return n!==void 0&&(s+=n),r!==void 0&&(i+=r),this.setPosition({x:s,y:i}),this}_eachAncestorReverse(e,n){let r=[],s=this.getParent(),i,o;if(!(n&&n._id===this._id)){for(r.unshift(this);s&&(!n||s._id!==n._id);)r.unshift(s),s=s.parent;for(i=r.length,o=0;o<i;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ce.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ce.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ce.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ce.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ce.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ce.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(oy,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,s,i,o;const l={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=ce.isObject(r)&&!ce._isPlainObject(r)&&!ce._isArray(r),!o&&(s=typeof this[n]=="function"&&this[n],delete e[n],i=s?s.call(this):null,e[n]=r,i!==r&&(l.attrs[n]=r));return ce._prepareToStringify(l)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const s=[];n&&this._isMatch(e)&&s.push(this);let i=this.parent;for(;i;){if(i===r)return s;i._isMatch(e)&&s.push(i),i=i.parent}return s}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,s,i;for(s=0;s<r;s++)if(i=n[s],ce.isValidSelector(i)||(ce.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ce.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ce.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(uE,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Cl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new yi,this._eachAncestorReverse(function(r){const s=r.transformsEnabled();s==="all"?n.multiply(r.getTransform()):s==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Cl)||new yi,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const s=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,l=this.attrs.offsetY||0;n.translate(s-o,i-l)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Uc,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Uc)||new yi;r.reset();const s=this.x(),i=this.y(),o=Ve.getAngle(this.rotation()),l=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,m=this.attrs.skewY||0,y=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(s!==0||i!==0)&&r.translate(s,i),o!==0&&r.rotate(o),(p!==0||m!==0)&&r.skew(p,m),(l!==1||d!==1)&&r.scale(l,d),(y!==0||v!==0)&&r.translate(-1*y,-1*v),r.dirty=!1,r}clone(e){let n=ce.cloneObject(this.attrs),r,s,i,o,l;for(r in e)n[r]=e[r];const d=new this.constructor(n);for(r in this.eventListeners)for(s=this.eventListeners[r],i=s.length,o=0;o<i;o++)l=s[o],l.name.indexOf(Qne)<0&&(d.eventListeners[r]||(d.eventListeners[r]=[]),d.eventListeners[r].push(l));return d}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),s=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,l=new Gc({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),d=l.getContext(),p=new Gc({width:l.width/l.pixelRatio+Math.abs(s),height:l.height/l.pixelRatio+Math.abs(i),pixelRatio:l.pixelRatio});return e.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(s||i)&&d.translate(-1*s,-1*i),this.drawScene(l,void 0,p),d.restore(),l}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(s),s}toImage(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,ce._urlToImage(this.toDataURL(e),function(i){n(i),s==null||s(i)})}catch(s){r(s)}})}toBlob(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),s==null||s(i)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(s){r(s)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ve.dragDistance}_off(e,n,r){let s=this.eventListeners[e],i,o,l;for(i=0;i<s.length;i++)if(o=s[i].name,l=s[i].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===l)){if(s.splice(i,1),s.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+Yne,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[lE+ce._capitalize(e)];return ce._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ve.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!ce.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let s;r!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,s,r))}_fireAndBubble(e,n,r){n&&this.nodeType===cE&&(n.target=this);const s=[Jne,Zne,ere,tre,nre,rre];if(!(s.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=s.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,s;const i=(n=this._cache.get(D0))!==null&&n!==void 0?n:{};let o=i==null?void 0:i[e];if(o===void 0){o=[];let l=Object.getPrototypeOf(this);for(;l;){const d=(s=(r=l.eventListeners)===null||r===void 0?void 0:r[e])!==null&&s!==void 0?s:[];o.push(...d),l=Object.getPrototypeOf(l)}i[e]=o,this._cache.set(D0,i)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(let i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),s=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||s;$t._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-s.x,y:i.y-s.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){$t._dragElements.has(this._id)||this._createDragElement(e);const r=$t._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let s={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const o=i.call(this,s,e);o?s=o:ce.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(e){const n=$t._dragElements.get(this._id);n&&(n.dragStatus="stopped"),$t._endDragBefore(e),$t._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=$t._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ve.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let s=!1;$t._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(s=!0)}),s||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=$t._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",s=n&&n.dragStatus==="ready";r?this.stopDrag():s&&$t._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ce.haveIntersection(r,this.getClientRect())}static create(e,n){return ce._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=iw.prototype.getClassName.call(e),s=e.children,i,o,l;n&&(e.attrs.container=n),Ve[r]||(ce.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const d=Ve[r];if(i=new d(e.attrs),s)for(o=s.length,l=0;l<o;l++)i.add(iw._createNode(s[l]));return i}};Le.prototype.nodeType="Node";Le.prototype._attrsAffectingSize=[];Le.prototype.eventListeners={};Le.prototype.on.call(Le.prototype,ire,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Uc),this._clearSelfAndDescendantCache(Cl)});Le.prototype.on.call(Le.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(sw)});Le.prototype.on.call(Le.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(rw)});Le.prototype.on.call(Le.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(oy)});const un=ee.addGetterSetter;un(Le,"zIndex");un(Le,"absolutePosition");un(Le,"position");un(Le,"x",0,Me());un(Le,"y",0,Me());un(Le,"globalCompositeOperation","source-over",Gd());un(Le,"opacity",1,Me());un(Le,"name","",Gd());un(Le,"id","",Gd());un(Le,"rotation",0,Me());ee.addComponentsGetterSetter(Le,"scale",["x","y"]);un(Le,"scaleX",1,Me());un(Le,"scaleY",1,Me());ee.addComponentsGetterSetter(Le,"skew",["x","y"]);un(Le,"skewX",0,Me());un(Le,"skewY",0,Me());ee.addComponentsGetterSetter(Le,"offset",["x","y"]);un(Le,"offsetX",0,Me());un(Le,"offsetY",0,Me());un(Le,"dragDistance",void 0,Me());un(Le,"width",0,Me());un(Le,"height",0,Me());un(Le,"listening",!0,Mo());un(Le,"preventDefault",!0,Mo());un(Le,"filters",void 0,function(t){return this._filterUpToDate=!1,t});un(Le,"visible",!0,Mo());un(Le,"transformsEnabled","all",Gd());un(Le,"size");un(Le,"dragBoundFunc");un(Le,"draggable",!1,Mo());ee.backCompat(Le,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class wi extends Le{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(s=>{const i=s._isMatch(e);return i&&r.push(s),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const s of r){if(n=e(s),n)return!0;if(s.hasChildren()&&(n=s._descendants(e),n))return!0}return!1}toObject(){const e=Le.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Le.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas(),o=i&&i.getContext(),l=this._getCanvasCache(),d=l&&l.scene,p=i&&i.isCache;if(!this.isVisible()&&!p)return this;if(d){o.save();const m=this.getAbsoluteTransform(n).getMatrix();o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),s=e||r&&r.hitCanvas,i=s&&s.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();const d=this.getAbsoluteTransform(n).getMatrix();i.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",s,n);return this}_drawChildren(e,n,r,s){var i;const o=n&&n.getContext(),l=this.clipWidth(),d=this.clipHeight(),p=this.clipFunc(),m=typeof l=="number"&&typeof d=="number"||p,y=r===this;if(m){o.save();const S=this.getAbsoluteTransform(r);let C=S.getMatrix();o.transform(C[0],C[1],C[2],C[3],C[4],C[5]),o.beginPath();let k;if(p)k=p.call(this,o,this);else{const P=this.clipX(),M=this.clipY();o.rect(P||0,M||0,l,d)}o.clip.apply(o,k),C=S.copy().invert().getMatrix(),o.transform(C[0],C[1],C[2],C[3],C[4],C[5])}const v=!y&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";v&&(o.save(),o._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(S){S[e](n,r,s)}),v&&o.restore(),m&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,s=e.relativeTo;let i,o,l,d,p={x:1/0,y:1/0,width:0,height:0};const m=this;(n=this.children)===null||n===void 0||n.forEach(function(S){if(!S.visible())return;const C=S.getClientRect({relativeTo:m,skipShadow:e.skipShadow,skipStroke:e.skipStroke});C.width===0&&C.height===0||(i===void 0?(i=C.x,o=C.y,l=C.x+C.width,d=C.y+C.height):(i=Math.min(i,C.x),o=Math.min(o,C.y),l=Math.max(l,C.x+C.width),d=Math.max(d,C.y+C.height)))});const y=this.find("Shape");let v=!1;for(let S=0;S<y.length;S++)if(y[S]._isVisible(this)){v=!0;break}return v&&i!==void 0?p={x:i,y:o,width:l-i,height:d-o}:p={x:0,y:0,width:0,height:0},r?p:this._transformedRect(p,s)}}ee.addComponentsGetterSetter(wi,"clip",["x","y","width","height"]);ee.addGetterSetter(wi,"clipX",void 0,Me());ee.addGetterSetter(wi,"clipY",void 0,Me());ee.addGetterSetter(wi,"clipWidth",void 0,Me());ee.addGetterSetter(wi,"clipHeight",void 0,Me());ee.addGetterSetter(wi,"clipFunc");const $m=new Map,V9=Ve._global.PointerEvent!==void 0;function Sx(t){return $m.get(t)}function Db(t){return{evt:t,pointerId:t.pointerId}}function F9(t,e){return $m.get(t)===e}function z9(t,e){mm(t),e.getStage()&&($m.set(t,e),V9&&e._fire("gotpointercapture",Db(new PointerEvent("gotpointercapture"))))}function mm(t,e){const n=$m.get(t);if(!n)return;const r=n.getStage();r&&r.content,$m.delete(t),V9&&n._fire("lostpointercapture",Db(new PointerEvent("lostpointercapture")))}const are="Stage",lre="string",dE="px",cre="mouseout",B9="mouseleave",U9="mouseover",$9="mouseenter",H9="mousemove",W9="mousedown",G9="mouseup",Qp="pointermove",Jp="pointerdown",of="pointerup",Zp="pointercancel",ure="lostpointercapture",M0="pointerout",em="pointerleave",O0="pointerover",L0="pointerenter",ow="contextmenu",q9="touchstart",K9="touchend",Y9="touchmove",X9="touchcancel",aw="wheel",dre=5,hre=[[$9,"_pointerenter"],[W9,"_pointerdown"],[H9,"_pointermove"],[G9,"_pointerup"],[B9,"_pointerleave"],[q9,"_pointerdown"],[Y9,"_pointermove"],[K9,"_pointerup"],[X9,"_pointercancel"],[U9,"_pointerover"],[aw,"_wheel"],[ow,"_contextmenu"],[Jp,"_pointerdown"],[Qp,"_pointermove"],[of,"_pointerup"],[Zp,"_pointercancel"],[em,"_pointerleave"],[ure,"_lostpointercapture"]],Ex={mouse:{[M0]:cre,[em]:B9,[O0]:U9,[L0]:$9,[Qp]:H9,[Jp]:W9,[of]:G9,[Zp]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[M0]:"touchout",[em]:"touchleave",[O0]:"touchover",[L0]:"touchenter",[Qp]:Y9,[Jp]:q9,[of]:K9,[Zp]:X9,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[M0]:M0,[em]:em,[O0]:O0,[L0]:L0,[Qp]:Qp,[Jp]:Jp,[of]:of,[Zp]:Zp,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},tm=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",qh=t=>{const e=tm(t);if(e==="pointer")return Ve.pointerEventsEnabled&&Ex.pointer;if(e==="touch")return Ex.touch;if(e==="mouse")return Ex.mouse};function hE(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ce.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const fre="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",gm=[];let ev=class extends wi{constructor(e){super(hE(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),gm.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{hE(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||ce.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===lre){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),wi.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&ce._isInDocument(e)&&this.container().removeChild(e);const n=gm.indexOf(this);return n>-1&&gm.splice(n,1),ce.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ce.warn(fre),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Gc({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,s=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),s.forEach(function(i){if(!i.isVisible())return;const o=i._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,s=r-1;for(let i=s;i>=0;i--){const o=n[i].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+dE,this.content.style.height=n+dE),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(e);const r=this.children.length;return r>dre&&ce.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ve.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return F9(e,this)}setPointerCapture(e){z9(e,this)}releaseCapture(e){mm(e)}getLayers(){return this.children}_bindContentEvents(){Ve.isBrowser&&hre.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=qh(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=qh(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=qh(e.type),r=tm(e.type);if(!n)return;this.setPointersPositions(e);const s=this._getTargetShape(r),i=!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled;s&&i?(s._fireAndBubble(n.pointerout,{evt:e}),s._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=qh(e.type),r=tm(e.type);if(!n)return;this.setPointersPositions(e);let s=!1;this._changedPointerPositions.forEach(i=>{const o=this.getIntersection(i);if($t.justDragged=!1,Ve["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}Ve.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),s=!0;const l=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),s||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=qh(e.type),r=tm(e.type);if(!n)return;const s=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ve.isDragging()&&$t.node.preventDefault()&&e.cancelable&&s&&e.preventDefault(),this.setPointersPositions(e),!(!(Ve.isDragging()||Ve.isTransforming())||Ve.hitOnDragEnabled))return;const o={};let l=!1;const d=this._getTargetShape(r);this._changedPointerPositions.forEach(p=>{const m=Sx(p.id)||this.getIntersection(p),y=p.id,v={evt:e,pointerId:y},S=d!==m;if(S&&d&&(d._fireAndBubble(n.pointerout,{...v},m),d._fireAndBubble(n.pointerleave,{...v},m)),m){if(o[m._id])return;o[m._id]=!0}m&&m.isListening()?(l=!0,S&&(m._fireAndBubble(n.pointerover,{...v},d),m._fireAndBubble(n.pointerenter,{...v},d),this[r+"targetShape"]=m),m._fireAndBubble(n.pointermove,{...v})):d&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:y}),this[r+"targetShape"]=null)}),l||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=qh(e.type),r=tm(e.type);if(!n)return;this.setPointersPositions(e);const s=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],o={};let l=!1;this._changedPointerPositions.forEach(d=>{const p=Sx(d.id)||this.getIntersection(d);if(p){if(p.releaseCapture(d.id),o[p._id])return;o[p._id]=!0}const m=d.id,y={evt:e,pointerId:m};let v=!1;Ve["_"+r+"InDblClickWindow"]?(v=!0,clearTimeout(this[r+"DblTimeout"])):$t.justDragged||(Ve["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Ve["_"+r+"InDblClickWindow"]=!1},Ve.dblClickWindow),p&&p.isListening()?(l=!0,this[r+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,{...y}),Ve["_"+r+"ListenClick"]&&s&&s===p&&(p._fireAndBubble(n.pointerclick,{...y}),v&&i&&i===p&&p._fireAndBubble(n.pointerdblclick,{...y}))):(this[r+"ClickEndShape"]=null,l||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l=!0),Ve["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:m}),v&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:m}))}),l||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ve["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(ow,{evt:e}):this._fire(ow,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(aw,{evt:e}):this._fire(aw,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Sx(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(of,Db(e)),mm(e.pointerId)}_lostpointercapture(e){mm(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,s=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:s},this._pointerPositions=[{x:r,y:s,id:ce._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:s,id:ce._getFirstPointerId(e)}])}_setPointerPosition(e){ce.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Gc({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Ib({pixelRatio:1,width:this.width(),height:this.height()}),!Ve.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return ce.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};ev.prototype.nodeType=are;Fn(ev);ee.addGetterSetter(ev,"container");Ve.isBrowser&&document.addEventListener("visibilitychange",()=>{gm.forEach(t=>{t.batchDraw()})});const Q9="hasShadow",J9="shadowRGBA",Z9="patternImage",eA="linearGradient",tA="radialGradient";let V0;function Cx(){return V0||(V0=ce.createCanvasElement().getContext("2d"),V0)}const ym={};function pre(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function mre(t){t.stroke()}function gre(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function yre(t){t.stroke()}function vre(){this._clearCache(Q9)}function xre(){this._clearCache(J9)}function wre(){this._clearCache(Z9)}function _re(){this._clearCache(eA)}function bre(){this._clearCache(tA)}class Pe extends Le{constructor(e){super(e);let n,r=0;for(;n=ce.getHitColor(),!(n&&!(n in ym));)if(r++,r>=1e4){ce.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=ce.getRandomColor();break}this.colorKey=n,ym[n]=this}getContext(){return ce.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ce.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Q9,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Z9,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=Cx().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new yi;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Ve.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(eA,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=Cx(),r=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,s.x,s.y);for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(tA,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=Cx(),r=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(J9,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=ce.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Le.prototype.destroy.call(this),delete ym[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const s=e||this.hasFill(),i=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(s&&i&&o)return!0;const l=this.hasShadow(),d=this.shadowForStrokeEnabled();return!!(s&&i&&l&&d)}setStrokeHitEnabled(e){ce.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const s=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),d=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,p=o.width+d,m=o.height+d,y=!e.skipShadow&&this.hasShadow(),v=y?this.shadowOffsetX():0,S=y?this.shadowOffsetY():0,C=p+Math.abs(v),k=m+Math.abs(S),P=y&&this.shadowBlur()||0,M=C+P*2,j=k+P*2,D={width:M,height:j,x:-(d/2+P)+Math.min(v,0)+o.x,y:-(d/2+P)+Math.min(S,0)+o.y};return s?D:this._transformedRect(D,i)}drawScene(e,n,r){const s=this.getLayer(),i=e||s.getCanvas(),o=i.getContext(),l=this._getCanvasCache(),d=this.getSceneFunc(),p=this.hasShadow();let m;const y=n===this;if(!this.isVisible()&&!y)return this;if(l){o.save();const v=this.getAbsoluteTransform(n).getMatrix();return o.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!d)return this;if(o.save(),this._useBufferCanvas()){m=this.getStage();const v=r||m.bufferCanvas,S=v.getContext();S.clear(),S.save(),S._applyLineJoin(this),S._applyMiterLimit(this);const C=this.getAbsoluteTransform(n).getMatrix();S.transform(C[0],C[1],C[2],C[3],C[4],C[5]),d.call(this,S,this),S.restore();const k=v.pixelRatio;p&&o._applyShadow(this),y||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(v._canvas,v.x||0,v.y||0,v.width/k,v.height/k)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!y){const v=this.getAbsoluteTransform(n).getMatrix();o.transform(v[0],v[1],v[2],v[3],v[4],v[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}p&&o._applyShadow(this),d.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const s=this.getLayer(),i=e||s.hitCanvas,o=i&&i.getContext(),l=this.hitFunc()||this.sceneFunc(),d=this._getCanvasCache(),p=d&&d.hit;if(this.colorKey||ce.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){o.save();const y=this.getAbsoluteTransform(n).getMatrix();return o.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const y=this.getAbsoluteTransform(n).getMatrix();o.transform(y[0],y[1],y[2],y[3],y[4],y[5])}return l.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),s=n.hit,i=s.getContext(),o=s.getWidth(),l=s.getHeight();i.clear(),i.drawImage(r._canvas,0,0,o,l);try{const d=i.getImageData(0,0,o,l),p=d.data,m=p.length,y=ce._hexToRgb(this.colorKey);for(let v=0;v<m;v+=4)p[v+3]>e?(p[v]=y.r,p[v+1]=y.g,p[v+2]=y.b,p[v+3]=255):p[v+3]=0;i.putImageData(d,0,0)}catch(d){ce.error("Unable to draw hit graph from cached scene canvas. "+d.message)}return this}hasPointerCapture(e){return F9(e,this)}setPointerCapture(e){z9(e,this)}releaseCapture(e){mm(e)}}Pe.prototype._fillFunc=pre;Pe.prototype._strokeFunc=mre;Pe.prototype._fillFuncHit=gre;Pe.prototype._strokeFuncHit=yre;Pe.prototype._centroid=!1;Pe.prototype.nodeType="Shape";Fn(Pe);Pe.prototype.eventListeners={};Pe.prototype.on.call(Pe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",vre);Pe.prototype.on.call(Pe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",xre);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",wre);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",_re);Pe.prototype.on.call(Pe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",bre);ee.addGetterSetter(Pe,"stroke",void 0,L9());ee.addGetterSetter(Pe,"strokeWidth",2,Me());ee.addGetterSetter(Pe,"fillAfterStrokeEnabled",!1);ee.addGetterSetter(Pe,"hitStrokeWidth","auto",jb());ee.addGetterSetter(Pe,"strokeHitEnabled",!0,Mo());ee.addGetterSetter(Pe,"perfectDrawEnabled",!0,Mo());ee.addGetterSetter(Pe,"shadowForStrokeEnabled",!0,Mo());ee.addGetterSetter(Pe,"lineJoin");ee.addGetterSetter(Pe,"lineCap");ee.addGetterSetter(Pe,"miterLimit");ee.addGetterSetter(Pe,"sceneFunc");ee.addGetterSetter(Pe,"hitFunc");ee.addGetterSetter(Pe,"dash");ee.addGetterSetter(Pe,"dashOffset",0,Me());ee.addGetterSetter(Pe,"shadowColor",void 0,Gd());ee.addGetterSetter(Pe,"shadowBlur",0,Me());ee.addGetterSetter(Pe,"shadowOpacity",1,Me());ee.addComponentsGetterSetter(Pe,"shadowOffset",["x","y"]);ee.addGetterSetter(Pe,"shadowOffsetX",0,Me());ee.addGetterSetter(Pe,"shadowOffsetY",0,Me());ee.addGetterSetter(Pe,"fillPatternImage");ee.addGetterSetter(Pe,"fill",void 0,L9());ee.addGetterSetter(Pe,"fillPatternX",0,Me());ee.addGetterSetter(Pe,"fillPatternY",0,Me());ee.addGetterSetter(Pe,"fillLinearGradientColorStops");ee.addGetterSetter(Pe,"strokeLinearGradientColorStops");ee.addGetterSetter(Pe,"fillRadialGradientStartRadius",0);ee.addGetterSetter(Pe,"fillRadialGradientEndRadius",0);ee.addGetterSetter(Pe,"fillRadialGradientColorStops");ee.addGetterSetter(Pe,"fillPatternRepeat","repeat");ee.addGetterSetter(Pe,"fillEnabled",!0);ee.addGetterSetter(Pe,"strokeEnabled",!0);ee.addGetterSetter(Pe,"shadowEnabled",!0);ee.addGetterSetter(Pe,"dashEnabled",!0);ee.addGetterSetter(Pe,"strokeScaleEnabled",!0);ee.addGetterSetter(Pe,"fillPriority","color");ee.addComponentsGetterSetter(Pe,"fillPatternOffset",["x","y"]);ee.addGetterSetter(Pe,"fillPatternOffsetX",0,Me());ee.addGetterSetter(Pe,"fillPatternOffsetY",0,Me());ee.addComponentsGetterSetter(Pe,"fillPatternScale",["x","y"]);ee.addGetterSetter(Pe,"fillPatternScaleX",1,Me());ee.addGetterSetter(Pe,"fillPatternScaleY",1,Me());ee.addComponentsGetterSetter(Pe,"fillLinearGradientStartPoint",["x","y"]);ee.addComponentsGetterSetter(Pe,"strokeLinearGradientStartPoint",["x","y"]);ee.addGetterSetter(Pe,"fillLinearGradientStartPointX",0);ee.addGetterSetter(Pe,"strokeLinearGradientStartPointX",0);ee.addGetterSetter(Pe,"fillLinearGradientStartPointY",0);ee.addGetterSetter(Pe,"strokeLinearGradientStartPointY",0);ee.addComponentsGetterSetter(Pe,"fillLinearGradientEndPoint",["x","y"]);ee.addComponentsGetterSetter(Pe,"strokeLinearGradientEndPoint",["x","y"]);ee.addGetterSetter(Pe,"fillLinearGradientEndPointX",0);ee.addGetterSetter(Pe,"strokeLinearGradientEndPointX",0);ee.addGetterSetter(Pe,"fillLinearGradientEndPointY",0);ee.addGetterSetter(Pe,"strokeLinearGradientEndPointY",0);ee.addComponentsGetterSetter(Pe,"fillRadialGradientStartPoint",["x","y"]);ee.addGetterSetter(Pe,"fillRadialGradientStartPointX",0);ee.addGetterSetter(Pe,"fillRadialGradientStartPointY",0);ee.addComponentsGetterSetter(Pe,"fillRadialGradientEndPoint",["x","y"]);ee.addGetterSetter(Pe,"fillRadialGradientEndPointX",0);ee.addGetterSetter(Pe,"fillRadialGradientEndPointY",0);ee.addGetterSetter(Pe,"fillPatternRotation",0);ee.addGetterSetter(Pe,"fillRule",void 0,Gd());ee.backCompat(Pe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const Sre="beforeDraw",Ere="draw",nA=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Cre=nA.length;let qd=class extends wi{constructor(e){super(e),this.canvas=new Gc,this.hitCanvas=new Ib({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Le.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Le.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Le.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Le.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Le.prototype.remove.call(this),e&&e.parentNode&&ce._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Le.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ce.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ce.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ce.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let s=0;s<Cre;s++){const i=nA[s],o=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),l=o.shape;if(l)return l;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,s=r[3];if(s===255){const i=ce.getHitColorKey(r[0],r[1],r[2]),o=ym[i];return o?{shape:o}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas();return this._fire(Sre,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),wi.prototype.drawScene.call(this,i,n,r),this._fire(Ere,{node:this}),this}drawHit(e,n){const r=this.getLayer(),s=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),wi.prototype.drawHit.call(this,s,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return ce.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};qd.prototype.nodeType="Layer";Fn(qd);ee.addGetterSetter(qd,"imageSmoothingEnabled",!0);ee.addGetterSetter(qd,"clearBeforeDraw",!0);ee.addGetterSetter(qd,"hitGraphEnabled",!0,Mo());class Mb extends qd{constructor(e){super(e),this.listening(!1),ce.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Mb.prototype.nodeType="FastLayer";Fn(Mb);class Tf extends wi{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to groups.")}}Tf.prototype.nodeType="Group";Fn(Tf);const Tx=(function(){return Ed.performance&&Ed.performance.now?function(){return Ed.performance.now()}:function(){return new Date().getTime()}})();class Ui{constructor(e,n){this.id=Ui.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Tx(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let s=0;s<r;s++)if(n[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Ui.animations,r=n.length;for(let s=0;s<r;s++)if(n[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Tx(),Ui._addAnimation(this),this}stop(){return Ui._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,s=r.length;for(let i=0;i<s;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const s=n[r],i=s.layers,o=s.func;s._updateFrameObject(Tx());const l=i.length;let d;if(o?d=o.call(s,s.frame)!==!1:d=!0,!!d)for(let p=0;p<l;p++){const m=i[p];m._id!==void 0&&(e[m._id]=m)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Ui;e.animations.length?(e._runFrames(),ce.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ce.requestAnimFrame(this._animationLoop))}}Ui.animations=[];Ui.animIdCounter=0;Ui.animRunning=!1;const Tre={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Nre=1,fE=2,pE=3,mE=["fill","stroke","shadowColor"];let kre=0;class Pre{constructor(e,n,r,s,i,o,l){this.prop=e,this.propFunc=n,this.begin=s,this._pos=s,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=l,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=fE,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=pE,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===fE?this.setTime(e):this.state===pE&&this.setTime(this.duration-e)}pause(){this.state=Nre,this.fire("onPause")}getTimer(){return new Date().getTime()}}class gn{constructor(e){const n=this,r=e.node,s=r._id,i=e.easing||vm.Linear,o=!!e.yoyo;let l,d;typeof e.duration>"u"?l=.3:e.duration===0?l=.001:l=e.duration,this.node=r,this._id=kre++;const p=r.getLayer()||(r instanceof Ve.Stage?r.getLayers():null);p||ce.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Ui(function(){n.tween.onEnterFrame()},p),this.tween=new Pre(d,function(m){n._tweenFunc(m)},i,0,1,l*1e3,o),this._addListeners(),gn.attrs[s]||(gn.attrs[s]={}),gn.attrs[s][this._id]||(gn.attrs[s][this._id]={}),gn.tweens[s]||(gn.tweens[s]={});for(d in e)Tre[d]===void 0&&this._addAttr(d,e[d]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,s=r._id;let i,o,l,d,p;const m=gn.tweens[s][e];m&&delete gn.attrs[s][m][e];let y=r.getAttr(e);if(ce._isArray(n))if(i=[],o=Math.max(n.length,y.length),e==="points"&&n.length!==y.length&&(n.length>y.length?(d=y,y=ce._prepareArrayForTween(y,n,r.closed())):(l=n,n=ce._prepareArrayForTween(n,y,r.closed()))),e.indexOf("fill")===0)for(let v=0;v<o;v++)if(v%2===0)i.push(n[v]-y[v]);else{const S=ce.colorToRGBA(y[v]);p=ce.colorToRGBA(n[v]),y[v]=S,i.push({r:p.r-S.r,g:p.g-S.g,b:p.b-S.b,a:p.a-S.a})}else for(let v=0;v<o;v++)i.push(n[v]-y[v]);else mE.indexOf(e)!==-1?(y=ce.colorToRGBA(y),p=ce.colorToRGBA(n),i={r:p.r-y.r,g:p.g-y.g,b:p.b-y.b,a:p.a-y.a}):i=n-y;gn.attrs[s][this._id][e]={start:y,diff:i,end:n,trueEnd:l,trueStart:d},gn.tweens[s][e]=this._id}_tweenFunc(e){const n=this.node,r=gn.attrs[n._id][this._id];let s,i,o,l,d,p,m,y;for(s in r){if(i=r[s],o=i.start,l=i.diff,y=i.end,ce._isArray(o))if(d=[],m=Math.max(o.length,y.length),s.indexOf("fill")===0)for(p=0;p<m;p++)p%2===0?d.push((o[p]||0)+l[p]*e):d.push("rgba("+Math.round(o[p].r+l[p].r*e)+","+Math.round(o[p].g+l[p].g*e)+","+Math.round(o[p].b+l[p].b*e)+","+(o[p].a+l[p].a*e)+")");else for(p=0;p<m;p++)d.push((o[p]||0)+l[p]*e);else mE.indexOf(s)!==-1?d="rgba("+Math.round(o.r+l.r*e)+","+Math.round(o.g+l.g*e)+","+Math.round(o.b+l.b*e)+","+(o.a+l.a*e)+")":d=o+l*e;n.setAttr(s,d)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=gn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const s in r)delete gn.tweens[e][s];delete gn.attrs[e][n],gn.tweens[e]&&(Object.keys(gn.tweens[e]).length===0&&delete gn.tweens[e],Object.keys(gn.attrs[e]).length===0&&delete gn.attrs[e])}}gn.attrs={};gn.tweens={};Le.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new gn(t).play()};const vm={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let s=1.70158;return(t/=r/2)<1?n/2*(t*t*(((s*=1.525)+1)*t-s))+e:n/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},ElasticEaseIn(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-vm.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?vm.BounceEaseIn(t*2,0,n,r)*.5+e:vm.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Ld=ce._assign(Ve,{Util:ce,Transform:yi,Node:Le,Container:wi,Stage:ev,stages:gm,Layer:qd,FastLayer:Mb,Group:Tf,DD:$t,Shape:Pe,shapes:ym,Animation:Ui,Tween:gn,Easings:vm,Context:J1,Canvas:Ab});class Wl extends Pe{_sceneFunc(e){const n=Ve.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),s=Ve.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(s,Math.PI)),o=1,l=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),d=Math.sin(Math.min(s,Math.PI/2)),p=i*(i>0?e:n),m=o*n,y=l*(l>0?e:n),v=d*(d>0?n:e);return{x:p,y:r?-1*v:y,width:m-p,height:v-y}}}Wl.prototype._centroid=!0;Wl.prototype.className="Arc";Wl.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Fn(Wl);ee.addGetterSetter(Wl,"innerRadius",0,Me());ee.addGetterSetter(Wl,"outerRadius",0,Me());ee.addGetterSetter(Wl,"angle",0,Me());ee.addGetterSetter(Wl,"clockwise",!1,Mo());function lw(t,e,n,r,s,i,o){const l=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),d=Math.sqrt(Math.pow(s-n,2)+Math.pow(i-r,2)),p=o*l/(l+d),m=o*d/(l+d),y=n-p*(s-t),v=r-p*(i-e),S=n+m*(s-t),C=r+m*(i-e);return[y,v,S,C]}function gE(t,e){const n=t.length,r=[];for(let s=2;s<n-2;s+=2){const i=lw(t[s-2],t[s-1],t[s],t[s+1],t[s+2],t[s+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[s]),r.push(t[s+1]),r.push(i[2]),r.push(i[3]))}return r}class Gl extends Pe{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,s=this.tension(),i=this.closed(),o=this.bezier();if(!r)return;let l=0;if(e.beginPath(),e.moveTo(n[0],n[1]),s!==0&&r>4){const d=this.getTensionPoints(),p=d.length;for(l=i?0:4,i||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);l<p-2;)e.bezierCurveTo(d[l++],d[l++],d[l++],d[l++],d[l++],d[l++]);i||e.quadraticCurveTo(d[p-2],d[p-1],n[r-2],n[r-1])}else if(o)for(l=2;l<r;)e.bezierCurveTo(n[l++],n[l++],n[l++],n[l++],n[l++],n[l++]);else for(l=2;l<r;l+=2)e.lineTo(n[l],n[l+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():gE(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),s=lw(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=lw(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=gE(e,r);return[s[2],s[3]].concat(o).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],s[0],s[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],s=e[1],i=e[1],o,l;for(let d=0;d<e.length/2;d++)o=e[d*2],l=e[d*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,l),i=Math.max(i,l);return{x:n,y:s,width:r-n,height:i-s}}}Gl.prototype.className="Line";Gl.prototype._attrsAffectingSize=["points","bezier","tension"];Fn(Gl);ee.addGetterSetter(Gl,"closed",!1);ee.addGetterSetter(Gl,"bezier",!1);ee.addGetterSetter(Gl,"tension",0,Me());ee.addGetterSetter(Gl,"points",[],Gne());const Rre=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Are=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Ire=[[1],[1,1],[1,2,1],[1,3,3,1]],yE=(t,e,n)=>{let r,s;const o=n/2;r=0;for(let l=0;l<20;l++)s=o*Rre[20][l]+o,r+=Are[20][l]*jre(t,e,s);return o*r},vE=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],s=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],o=2*e[1]-2*e[0],l=4*(r*r+s*s),d=4*(r*i+s*o),p=i*i+o*o;if(l===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const m=d/(2*l),y=p/l,v=n+m,S=y-m*m,C=v*v+S>0?Math.sqrt(v*v+S):0,k=m*m+S>0?Math.sqrt(m*m+S):0,P=m+Math.sqrt(m*m+S)!==0?S*Math.log(Math.abs((v+C)/(m+k))):0;return Math.sqrt(l)/2*(v*C-m*k+P)};function jre(t,e,n){const r=cw(1,n,t),s=cw(1,n,e),i=r*r+s*s;return Math.sqrt(i)}const cw=(t,e,n)=>{const r=n.length-1;let s,i;if(r===0)return 0;if(t===0){i=0;for(let o=0;o<=r;o++)i+=Ire[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return i}else{s=new Array(r);for(let o=0;o<r;o++)s[o]=r*(n[o+1]-n[o]);return cw(t-1,e,s)}},xE=(t,e,n)=>{let r=1,s=t/e,i=(t-n(s))/e,o=0;for(;r>.001;){const l=n(s+i),d=Math.abs(t-l)/e;if(d<r)r=d,s+=i;else{const p=n(s-i),m=Math.abs(t-p)/e;m<r?(r=m,s-=i):i/=2}if(o++,o>500)break}return s};class yn extends Pe{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=yn.parsePathData(this.data()),this.pathLength=yn.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let s=0;s<n.length;s++){const i=n[s].command,o=n[s].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const l=o[0],d=o[1],p=o[2],m=o[3],y=o[4],v=o[5],S=o[6],C=o[7],k=p>m?p:m,P=p>m?1:p/m,M=p>m?m/p:1;e.translate(l,d),e.rotate(S),e.scale(P,M),e.arc(0,0,k,y,y+v,1-C),e.scale(1/P,1/M),e.rotate(-S),e.translate(-l,-d);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(d){if(d.command==="A"){const p=d.points[4],m=d.points[5],y=d.points[4]+m;let v=Math.PI/180;if(Math.abs(p-y)<v&&(v=Math.abs(p-y)),m<0)for(let S=p-v;S>y;S-=v){const C=yn.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],S,0);e.push(C.x,C.y)}else for(let S=p+v;S<y;S+=v){const C=yn.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],S,0);e.push(C.x,C.y)}}else if(d.command==="C")for(let p=0;p<=1;p+=.01){const m=yn.getPointOnCubicBezier(p,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);e.push(m.x,m.y)}else e=e.concat(d.points)});let n=e[0],r=e[0],s=e[1],i=e[1],o,l;for(let d=0;d<e.length/2;d++)o=e[d*2],l=e[d*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(l)||(s=Math.min(s,l),i=Math.max(i,l));return{x:n,y:s,width:r-n,height:i-s}}getLength(){return this.pathLength}getPointAtLength(e){return yn.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,s){return Math.sqrt((r-e)*(r-e)+(s-n)*(s-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,s=0,i=n.length;if(!i)return null;for(;s<i&&e>n[s].pathLength;)e-=n[s].pathLength,++s;if(s===i)return r=n[s-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[s].command==="M"?(r=n[s].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[s].start.x,y:n[s].start.y};const o=n[s],l=o.points;switch(o.command){case"L":return yn.getPointOnLine(e,o.start.x,o.start.y,l[0],l[1]);case"C":return yn.getPointOnCubicBezier(xE(e,yn.getPathLength(n),k=>yE([o.start.x,l[0],l[2],l[4]],[o.start.y,l[1],l[3],l[5]],k)),o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return yn.getPointOnQuadraticBezier(xE(e,yn.getPathLength(n),k=>vE([o.start.x,l[0],l[2]],[o.start.y,l[1],l[3]],k)),o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":const d=l[0],p=l[1],m=l[2],y=l[3],v=l[5],S=l[6];let C=l[4];return C+=v*e/o.pathLength,yn.getPointOnEllipticalArc(d,p,m,y,C,S)}return null}static getPointOnLine(e,n,r,s,i,o,l){o=o??n,l=l??r;const d=this.getLineLength(n,r,s,i);if(d<1e-10)return{x:n,y:r};if(s===n)return{x:o,y:l+(i>r?e:-e)};const p=(i-r)/(s-n),m=Math.sqrt(e*e/(1+p*p))*(s<n?-1:1),y=p*m;if(Math.abs(l-r-p*(o-n))<1e-10)return{x:o+m,y:l+y};const v=((o-n)*(s-n)+(l-r)*(i-r))/(d*d),S=n+v*(s-n),C=r+v*(i-r),k=this.getLineLength(o,l,S,C),P=Math.sqrt(e*e-k*k),M=Math.sqrt(P*P/(1+p*p))*(s<n?-1:1),j=p*M;return{x:S+M,y:C+j}}static getPointOnCubicBezier(e,n,r,s,i,o,l,d,p){function m(P){return P*P*P}function y(P){return 3*P*P*(1-P)}function v(P){return 3*P*(1-P)*(1-P)}function S(P){return(1-P)*(1-P)*(1-P)}const C=d*m(e)+o*y(e)+s*v(e)+n*S(e),k=p*m(e)+l*y(e)+i*v(e)+r*S(e);return{x:C,y:k}}static getPointOnQuadraticBezier(e,n,r,s,i,o,l){function d(S){return S*S}function p(S){return 2*S*(1-S)}function m(S){return(1-S)*(1-S)}const y=o*d(e)+s*p(e)+n*m(e),v=l*d(e)+i*p(e)+r*m(e);return{x:y,y:v}}static getPointOnEllipticalArc(e,n,r,s,i,o){const l=Math.cos(o),d=Math.sin(o),p={x:r*Math.cos(i),y:s*Math.sin(i)};return{x:e+(p.x*l-p.y*d),y:n+(p.x*d+p.y*l)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let y=0;y<r.length;y++)n=n.replace(new RegExp(r[y],"g"),"|"+r[y]);const s=n.split("|"),i=[],o=[];let l=0,d=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let m;for(let y=1;y<s.length;y++){let v=s[y],S=v.charAt(0);for(v=v.slice(1),o.length=0;m=p.exec(v);)o.push(m[0]);let C=[],k=S==="A"||S==="a"?0:-1;for(let P=0,M=o.length;P<M;P++){const j=o[P];if(j==="00"){C.push(0,0),k>=0&&(k+=2,k>=7&&(k-=7));continue}if(k>=0){if(k===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){C.push(parseInt(j[0],10)),C.push(parseInt(j[1],10)),C.push(parseFloat(j.slice(2))),k+=3,k>=7&&(k-=7);continue}if(j==="11"||j==="10"||j==="01"){C.push(parseInt(j[0],10)),C.push(parseInt(j[1],10)),k+=2,k>=7&&(k-=7);continue}if(j==="0"||j==="1"){C.push(parseInt(j,10)),k+=1,k>=7&&(k-=7);continue}}else if(k===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){C.push(parseInt(j[0],10)),C.push(parseFloat(j.slice(1))),k+=2,k>=7&&(k-=7);continue}if(j==="0"||j==="1"){C.push(parseInt(j,10)),k+=1,k>=7&&(k-=7);continue}}const D=parseFloat(j);isNaN(D)?C.push(0):C.push(D),k+=1,k>=7&&(k-=7)}else{const D=parseFloat(j);isNaN(D)?C.push(0):C.push(D)}}for(;C.length>0&&!isNaN(C[0]);){let P="",M=[];const j=l,D=d;let V,G,J,B,R,F,z,H,$,U;switch(S){case"l":l+=C.shift(),d+=C.shift(),P="L",M.push(l,d);break;case"L":l=C.shift(),d=C.shift(),M.push(l,d);break;case"m":const ie=C.shift(),de=C.shift();if(l+=ie,d+=de,P="M",i.length>2&&i[i.length-1].command==="z"){for(let ue=i.length-2;ue>=0;ue--)if(i[ue].command==="M"){l=i[ue].points[0]+ie,d=i[ue].points[1]+de;break}}M.push(l,d),S="l";break;case"M":l=C.shift(),d=C.shift(),P="M",M.push(l,d),S="L";break;case"h":l+=C.shift(),P="L",M.push(l,d);break;case"H":l=C.shift(),P="L",M.push(l,d);break;case"v":d+=C.shift(),P="L",M.push(l,d);break;case"V":d=C.shift(),P="L",M.push(l,d);break;case"C":M.push(C.shift(),C.shift(),C.shift(),C.shift()),l=C.shift(),d=C.shift(),M.push(l,d);break;case"c":M.push(l+C.shift(),d+C.shift(),l+C.shift(),d+C.shift()),l+=C.shift(),d+=C.shift(),P="C",M.push(l,d);break;case"S":G=l,J=d,V=i[i.length-1],V.command==="C"&&(G=l+(l-V.points[2]),J=d+(d-V.points[3])),M.push(G,J,C.shift(),C.shift()),l=C.shift(),d=C.shift(),P="C",M.push(l,d);break;case"s":G=l,J=d,V=i[i.length-1],V.command==="C"&&(G=l+(l-V.points[2]),J=d+(d-V.points[3])),M.push(G,J,l+C.shift(),d+C.shift()),l+=C.shift(),d+=C.shift(),P="C",M.push(l,d);break;case"Q":M.push(C.shift(),C.shift()),l=C.shift(),d=C.shift(),M.push(l,d);break;case"q":M.push(l+C.shift(),d+C.shift()),l+=C.shift(),d+=C.shift(),P="Q",M.push(l,d);break;case"T":G=l,J=d,V=i[i.length-1],V.command==="Q"&&(G=l+(l-V.points[0]),J=d+(d-V.points[1])),l=C.shift(),d=C.shift(),P="Q",M.push(G,J,l,d);break;case"t":G=l,J=d,V=i[i.length-1],V.command==="Q"&&(G=l+(l-V.points[0]),J=d+(d-V.points[1])),l+=C.shift(),d+=C.shift(),P="Q",M.push(G,J,l,d);break;case"A":B=C.shift(),R=C.shift(),F=C.shift(),z=C.shift(),H=C.shift(),$=l,U=d,l=C.shift(),d=C.shift(),P="A",M=this.convertEndpointToCenterParameterization($,U,l,d,z,H,B,R,F);break;case"a":B=C.shift(),R=C.shift(),F=C.shift(),z=C.shift(),H=C.shift(),$=l,U=d,l+=C.shift(),d+=C.shift(),P="A",M=this.convertEndpointToCenterParameterization($,U,l,d,z,H,B,R,F);break}i.push({command:P||S,points:M,start:{x:j,y:D},pathLength:this.calcLength(j,D,P||S,M)})}(S==="z"||S==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,s){let i,o,l,d;const p=yn;switch(r){case"L":return p.getLineLength(e,n,s[0],s[1]);case"C":return yE([e,s[0],s[2],s[4]],[n,s[1],s[3],s[5]],1);case"Q":return vE([e,s[0],s[2]],[n,s[1],s[3]],1);case"A":i=0;const m=s[4],y=s[5],v=s[4]+y;let S=Math.PI/180;if(Math.abs(m-v)<S&&(S=Math.abs(m-v)),o=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],m,0),y<0)for(d=m-S;d>v;d-=S)l=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),i+=p.getLineLength(o.x,o.y,l.x,l.y),o=l;else for(d=m+S;d<v;d+=S)l=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),i+=p.getLineLength(o.x,o.y,l.x,l.y),o=l;return l=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],v,0),i+=p.getLineLength(o.x,o.y,l.x,l.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,s,i,o,l,d,p){const m=p*(Math.PI/180),y=Math.cos(m)*(e-r)/2+Math.sin(m)*(n-s)/2,v=-1*Math.sin(m)*(e-r)/2+Math.cos(m)*(n-s)/2,S=y*y/(l*l)+v*v/(d*d);S>1&&(l*=Math.sqrt(S),d*=Math.sqrt(S));let C=Math.sqrt((l*l*(d*d)-l*l*(v*v)-d*d*(y*y))/(l*l*(v*v)+d*d*(y*y)));i===o&&(C*=-1),isNaN(C)&&(C=0);const k=C*l*v/d,P=C*-d*y/l,M=(e+r)/2+Math.cos(m)*k-Math.sin(m)*P,j=(n+s)/2+Math.sin(m)*k+Math.cos(m)*P,D=function(z){return Math.sqrt(z[0]*z[0]+z[1]*z[1])},V=function(z,H){return(z[0]*H[0]+z[1]*H[1])/(D(z)*D(H))},G=function(z,H){return(z[0]*H[1]<z[1]*H[0]?-1:1)*Math.acos(V(z,H))},J=G([1,0],[(y-k)/l,(v-P)/d]),B=[(y-k)/l,(v-P)/d],R=[(-1*y-k)/l,(-1*v-P)/d];let F=G(B,R);return V(B,R)<=-1&&(F=Math.PI),V(B,R)>=1&&(F=0),o===0&&F>0&&(F=F-2*Math.PI),o===1&&F<0&&(F=F+2*Math.PI),[M,j,l,d,J,F,m,o]}}yn.prototype.className="Path";yn.prototype._attrsAffectingSize=["data"];Fn(yn);ee.addGetterSetter(yn,"data");class Kd extends Gl{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let s=r;const i=this.tension()!==0&&r.length>4;i&&(s=this.getTensionPoints());const o=this.pointerLength(),l=r.length;let d,p;if(i){const v=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],r[l-2],r[l-1]],S=yn.calcLength(s[s.length-4],s[s.length-3],"C",v),C=yn.getPointOnQuadraticBezier(Math.min(1,1-o/S),v[0],v[1],v[2],v[3],v[4],v[5]);d=r[l-2]-C.x,p=r[l-1]-C.y}else d=r[l-2]-r[l-4],p=r[l-1]-r[l-3];const m=(Math.atan2(p,d)+n)%n,y=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(m),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(d=(s[0]+s[2])/2-r[0],p=(s[1]+s[3])/2-r[1]):(d=r[2]-r[0],p=r[3]-r[1]),e.rotate((Math.atan2(-p,-d)+n)%n),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Kd.prototype.className="Arrow";Fn(Kd);ee.addGetterSetter(Kd,"pointerLength",10,Me());ee.addGetterSetter(Kd,"pointerWidth",10,Me());ee.addGetterSetter(Kd,"pointerAtBeginning",!1);ee.addGetterSetter(Kd,"pointerAtEnding",!0);let Wf=class extends Pe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Wf.prototype._centroid=!0;Wf.prototype.className="Circle";Wf.prototype._attrsAffectingSize=["radius"];Fn(Wf);ee.addGetterSetter(Wf,"radius",0,Me());class Su extends Pe{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Su.prototype.className="Ellipse";Su.prototype._centroid=!0;Su.prototype._attrsAffectingSize=["radiusX","radiusY"];Fn(Su);ee.addComponentsGetterSetter(Su,"radius",["x","y"]);ee.addGetterSetter(Su,"radiusX",0,Me());ee.addGetterSetter(Su,"radiusY",0,Me());let Oo=class rA extends Pe{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),s=this.cornerRadius(),i=this.attrs.image;let o;if(i){const l=this.attrs.cropWidth,d=this.attrs.cropHeight;l&&d?o=[i,this.cropX(),this.cropY(),l,d,0,0,n,r]:o=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||s)&&(e.beginPath(),s?ce.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(s&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),s=this.cornerRadius();e.beginPath(),s?ce.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const s=ce.createImageElement();s.onload=function(){const i=new rA({image:s});n(i)},s.onerror=r,s.crossOrigin="Anonymous",s.src=e}};Oo.prototype.className="Image";Oo.prototype._attrsAffectingSize=["image"];Fn(Oo);ee.addGetterSetter(Oo,"cornerRadius",0,Z1(4));ee.addGetterSetter(Oo,"image");ee.addComponentsGetterSetter(Oo,"crop",["x","y","width","height"]);ee.addGetterSetter(Oo,"cropX",0,Me());ee.addGetterSetter(Oo,"cropY",0,Me());ee.addGetterSetter(Oo,"cropWidth",0,Me());ee.addGetterSetter(Oo,"cropHeight",0,Me());const sA=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Dre="Change.konva",Mre="none",uw="up",dw="right",hw="down",fw="left",Ore=sA.length;class Ob extends Tf{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const s=function(){n._sync()};for(r=0;r<Ore;r++)e.on(sA[r]+Dre,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,s,i,o,l,d,p;if(e&&n){switch(r=e.width(),s=e.height(),i=n.pointerDirection(),o=n.pointerWidth(),p=n.pointerHeight(),l=0,d=0,i){case uw:l=r/2,d=-1*p;break;case dw:l=r+o,d=s/2;break;case hw:l=r/2,d=s+p;break;case fw:l=-1*o,d=s/2;break}n.setAttrs({x:-1*l,y:-1*d,width:r,height:s}),e.setAttrs({x:-1*l,y:-1*d})}}}Ob.prototype.className="Label";Fn(Ob);class Yd extends Pe{_sceneFunc(e){const n=this.width(),r=this.height(),s=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),l=this.cornerRadius();let d=0,p=0,m=0,y=0;typeof l=="number"?d=p=m=y=Math.min(l,n/2,r/2):(d=Math.min(l[0]||0,n/2,r/2),p=Math.min(l[1]||0,n/2,r/2),y=Math.min(l[2]||0,n/2,r/2),m=Math.min(l[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(d,0),s===uw&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+i)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),s===dw&&(e.lineTo(n,(r-o)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-y),e.arc(n-y,r-y,y,0,Math.PI/2,!1),s===hw&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-i)/2,r)),e.lineTo(m,r),e.arc(m,r-m,m,Math.PI/2,Math.PI,!1),s===fw&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),s=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),l=this.height();return i===uw?(n-=s,l+=s):i===hw?l+=s:i===fw?(e-=r*1.5,o+=r):i===dw&&(o+=r*1.5),{x:e,y:n,width:o,height:l}}}Yd.prototype.className="Tag";Fn(Yd);ee.addGetterSetter(Yd,"pointerDirection",Mre);ee.addGetterSetter(Yd,"pointerWidth",0,Me());ee.addGetterSetter(Yd,"pointerHeight",0,Me());ee.addGetterSetter(Yd,"cornerRadius",0,Z1(4));let gg=class extends Pe{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),s=this.height();e.beginPath(),n?ce.drawRoundedRectPath(e,r,s,n):e.rect(0,0,r,s),e.closePath(),e.fillStrokeShape(this)}};gg.prototype.className="Rect";Fn(gg);ee.addGetterSetter(gg,"cornerRadius",0,Z1(4));class Eu extends Pe{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),s=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)ce.drawRoundedPolygonPath(e,n,s,r,i);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let s=0;s<e;s++)r.push({x:n*Math.sin(s*2*Math.PI/e),y:-1*n*Math.cos(s*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,s=e[0].y,i=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),s=Math.min(s,o.y),i=Math.max(i,o.y)}),{x:n,y:s,width:r-n,height:i-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Eu.prototype.className="RegularPolygon";Eu.prototype._centroid=!0;Eu.prototype._attrsAffectingSize=["radius"];Fn(Eu);ee.addGetterSetter(Eu,"radius",0,Me());ee.addGetterSetter(Eu,"sides",0,Me());ee.addGetterSetter(Eu,"cornerRadius",0,Z1(4));const wE=Math.PI*2;class Xd extends Pe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,wE,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),wE,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Xd.prototype.className="Ring";Xd.prototype._centroid=!0;Xd.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Fn(Xd);ee.addGetterSetter(Xd,"innerRadius",0,Me());ee.addGetterSetter(Xd,"outerRadius",0,Me());class za extends Pe{constructor(e){super(e),this._updated=!0,this.anim=new Ui(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),l=i[s+0],d=i[s+1],p=i[s+2],m=i[s+3],y=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,m),e.closePath(),e.fillStrokeShape(this)),y)if(o){const v=o[n],S=r*2;e.drawImage(y,l,d,p,m,v[S+0],v[S+1],p,m)}else e.drawImage(y,l,d,p,m,0,0,p,m)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),l=i[s+2],d=i[s+3];if(e.beginPath(),o){const p=o[n],m=r*2;e.rect(p[m+0],p[m+1],l,d)}else e.rect(0,0,l,d);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),s=r[n],i=s.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}za.prototype.className="Sprite";Fn(za);ee.addGetterSetter(za,"animation");ee.addGetterSetter(za,"animations");ee.addGetterSetter(za,"frameOffsets");ee.addGetterSetter(za,"image");ee.addGetterSetter(za,"frameIndex",0,Me());ee.addGetterSetter(za,"frameRate",17,Me());ee.backCompat(za,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});let Cu=class extends Pe{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<s*2;i++){const o=i%2===0?r:n,l=o*Math.sin(i*Math.PI/s),d=-1*o*Math.cos(i*Math.PI/s);e.lineTo(l,d)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Cu.prototype.className="Star";Cu.prototype._centroid=!0;Cu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Fn(Cu);ee.addGetterSetter(Cu,"numPoints",5,Me());ee.addGetterSetter(Cu,"innerRadius",0,Me());ee.addGetterSetter(Cu,"outerRadius",0,Me());function $c(t){return[...t].reduce((e,n,r,s)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=s[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),s[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(s[r+1]||""))?e.push(n+s[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Kh="auto",Lre="center",iA="inherit",$p="justify",Vre="Change.konva",Fre="2d",_E="-",oA="left",zre="text",Bre="Text",Ure="top",$re="bottom",bE="middle",aA="normal",Hre="px ",F0=" ",Wre="right",SE="rtl",Gre="word",qre="char",EE="none",Nx="",lA=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Kre=lA.length;function Yre(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let z0;function kx(){return z0||(z0=ce.createCanvasElement().getContext(Fre),z0)}function Xre(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Qre(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Jre(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let _n=class extends Pe{constructor(e){super(Jre(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Kre;n++)this.on(lA[n]+Vre,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const s=this.textArr,i=s.length;if(!this.text())return;let o=this.padding(),l=this.fontSize(),d=this.lineHeight()*l,p=this.verticalAlign(),m=this.direction(),y=0,v=this.align(),S=this.getWidth(),C=this.letterSpacing(),k=this.charRenderFunc(),P=this.fill(),M=this.textDecoration(),j=M.indexOf("underline")!==-1,D=M.indexOf("line-through")!==-1,V;m=m===iA?e.direction:m;let G=d/2,J=bE;if(!Ve.legacyTextRendering){const B=this.measureSize("M");J="alphabetic";const R=(n=B.fontBoundingBoxAscent)!==null&&n!==void 0?n:B.actualBoundingBoxAscent,F=(r=B.fontBoundingBoxDescent)!==null&&r!==void 0?r:B.actualBoundingBoxDescent;G=(R-F)/2+d/2}for(m===SE&&e.setAttr("direction",m),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",J),e.setAttr("textAlign",oA),p===bE?y=(this.getHeight()-i*d-o*2)/2:p===$re&&(y=this.getHeight()-i*d-o*2),e.translate(o,y+o),V=0;V<i;V++){let B=0,R=0;const F=s[V],z=F.text,H=F.width,$=F.lastInParagraph;if(e.save(),v===Wre?B+=S-H-o*2:v===Lre&&(B+=(S-H-o*2)/2),j){e.save(),e.beginPath();const ie=Ve.legacyTextRendering?Math.round(l/2):Math.round(l/4),de=B,ue=G+R+ie;e.moveTo(de,ue);const ne=v===$p&&!$?S-o*2:H;e.lineTo(de+Math.round(ne),ue),e.lineWidth=l/15;const K=this._getLinearGradient();e.strokeStyle=K||P,e.stroke(),e.restore()}const U=B;if(m!==SE&&(C!==0||v===$p||k)){const ie=z.split(" ").length-1,de=$c(z);for(let ue=0;ue<de.length;ue++){const ne=de[ue];if(ne===" "&&!$&&v===$p&&(B+=(S-o*2-H)/ie),this._partialTextX=B,this._partialTextY=G+R,this._partialText=ne,k){e.save();const te=s.slice(0,V).reduce((q,re)=>q+$c(re.text).length,0),Q=ue+te;k({char:ne,index:Q,x:B,y:G+R,lineIndex:V,column:ue,isLastInLine:$,width:this.measureSize(ne).width,context:e})}e.fillStrokeShape(this),k&&e.restore(),B+=this.measureSize(ne).width+C}}else C!==0&&e.setAttr("letterSpacing",`${C}px`),this._partialTextX=B,this._partialTextY=G+R,this._partialText=z,e.fillStrokeShape(this);if(D){e.save(),e.beginPath();const ie=Ve.legacyTextRendering?0:-Math.round(l/4),de=U;e.moveTo(de,G+R+ie);const ue=v===$p&&!$?S-o*2:H;e.lineTo(de+Math.round(ue),G+R+ie),e.lineWidth=l/15;const ne=this._getLinearGradient();e.strokeStyle=ne||P,e.stroke(),e.restore()}e.restore(),i>1&&(G+=d)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=ce._isString(e)?e:e==null?"":e+"";return this._setAttr(zre,n),this}getWidth(){return this.attrs.width===Kh||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Kh||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,s,i,o,l,d,p,m,y,v;let S=kx(),C=this.fontSize(),k;S.save(),S.font=this._getContextFont(),k=S.measureText(e),S.restore();const P=C/100;return{actualBoundingBoxAscent:(n=k.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*P,actualBoundingBoxDescent:(r=k.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(s=k.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*P,actualBoundingBoxRight:(i=k.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*P,alphabeticBaseline:(o=k.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(l=k.emHeightAscent)!==null&&l!==void 0?l:100*P,emHeightDescent:(d=k.emHeightDescent)!==null&&d!==void 0?d:-20*P,fontBoundingBoxAscent:(p=k.fontBoundingBoxAscent)!==null&&p!==void 0?p:91*P,fontBoundingBoxDescent:(m=k.fontBoundingBoxDescent)!==null&&m!==void 0?m:21*P,hangingBaseline:(y=k.hangingBaseline)!==null&&y!==void 0?y:72.80000305175781*P,ideographicBaseline:(v=k.ideographicBaseline)!==null&&v!==void 0?v:-21*P,width:k.width,height:C}}_getContextFont(){return this.fontStyle()+F0+this.fontVariant()+F0+(this.fontSize()+Hre)+Yre(this.fontFamily())}_addTextLine(e){this.align()===$p&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return kx().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,s=this.lineHeight()*n,i=this.attrs.width,o=this.attrs.height,l=i!==Kh&&i!==void 0,d=o!==Kh&&o!==void 0,p=this.padding(),m=i-p*2,y=o-p*2,v=0,S=this.wrap(),C=S!==EE,k=S!==qre&&C,P=this.ellipsis();this.textArr=[],kx().font=this._getContextFont();const M=P?this._getTextWidth(Nx):0;for(let j=0,D=e.length;j<D;++j){let V=e[j],G=this._getTextWidth(V);if(l&&G>m)for(;V.length>0;){let J=0,B=$c(V).length,R="",F=0;for(;J<B;){const z=J+B>>>1,H=$c(V),$=H.slice(0,z+1).join(""),U=this._getTextWidth($);(P&&d&&v+s>y?U+M:U)<=m?(J=z+1,R=$,F=U):B=z}if(R){if(k){const $=$c(V),U=$c(R),ie=$[U.length],de=ie===F0||ie===_E;let ue;if(de&&F<=m)ue=U.length;else{const ne=U.lastIndexOf(F0),K=U.lastIndexOf(_E);ue=Math.max(ne,K)+1}ue>0&&(J=ue,R=$.slice(0,J).join(""),F=this._getTextWidth(R))}if(R=R.trimRight(),this._addTextLine(R),r=Math.max(r,F),v+=s,this._shouldHandleEllipsis(v)){this._tryToAddEllipsisToLastLine();break}if(V=$c(V).slice(J).join("").trimLeft(),V.length>0&&(G=this._getTextWidth(V),G<=m)){this._addTextLine(V),v+=s,r=Math.max(r,G);break}}else break}else this._addTextLine(V),v+=s,r=Math.max(r,G),this._shouldHandleEllipsis(v)&&j<D-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&v+s>y)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,s=this.attrs.height,i=s!==Kh&&s!==void 0,o=this.padding(),l=s-o*2;return!(this.wrap()!==EE)||i&&e+r>l}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Kh&&e!==void 0,r=this.padding(),s=e-r*2,i=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!i||(n&&(this._getTextWidth(o.text+Nx)<s||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Nx))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};_n.prototype._fillFunc=Xre;_n.prototype._strokeFunc=Qre;_n.prototype.className=Bre;_n.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Fn(_n);ee.overWriteSetter(_n,"width",jb());ee.overWriteSetter(_n,"height",jb());ee.addGetterSetter(_n,"direction",iA);ee.addGetterSetter(_n,"fontFamily","Arial");ee.addGetterSetter(_n,"fontSize",12,Me());ee.addGetterSetter(_n,"fontStyle",aA);ee.addGetterSetter(_n,"fontVariant",aA);ee.addGetterSetter(_n,"padding",0,Me());ee.addGetterSetter(_n,"align",oA);ee.addGetterSetter(_n,"verticalAlign",Ure);ee.addGetterSetter(_n,"lineHeight",1,Me());ee.addGetterSetter(_n,"wrap",Gre);ee.addGetterSetter(_n,"ellipsis",!1,Mo());ee.addGetterSetter(_n,"letterSpacing",0,Me());ee.addGetterSetter(_n,"text","",Gd());ee.addGetterSetter(_n,"textDecoration","");ee.addGetterSetter(_n,"charRenderFunc",void 0);const Zre="",cA="normal";function uA(t){t.fillText(this.partialText,0,0)}function dA(t){t.strokeText(this.partialText,0,0)}class kr extends Pe{constructor(e){super(e),this.dummyCanvas=ce.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return yn.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:yn.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=yn.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),s=this.fontSize(),i=this.glyphInfo,o=n.indexOf("underline")!==-1,l=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let d=0;d<i.length;d++){e.save();const p=i[d].p0;e.translate(p.x,p.y),e.rotate(i[d].rotation),this.partialText=i[d].text,e.fillStrokeShape(this),o&&(d===0&&e.moveTo(0,s/2+1),e.lineTo(i[d].width,s/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=s/20,e.stroke()),l){e.beginPath();for(let d=0;d<i.length;d++){e.save();const p=i[d].p0;e.translate(p.x,p.y),e.rotate(i[d].rotation),d===0&&e.moveTo(0,0),e.lineTo(i[d].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=s/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const s=n[r].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return _n.prototype.setText.call(this,e)}_getContextFont(){return _n.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const s=r.measureText(e);return r.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=$c(this.text()),n=[];let r=0;for(let y=0;y<e.length;y++)n.push({char:e[y],width:this._getTextSize(e[y]).width}),r+=n[y].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),o=this.align(),l=this.kerningFunc(),d=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let p=0;o==="center"&&(p=Math.max(0,this.pathLength/2-d/2)),o==="right"&&(p=Math.max(0,this.pathLength-d));let m=p;for(let y=0;y<n.length;y++){const v=this._getPointAtLength(m);if(!v)return;const S=n[y].char;let C=n[y].width+i;if(S===" "&&o==="justify"){const V=this.text().split(" ").length-1;C+=(this.pathLength-d)/V}const k=this._getPointAtLength(m+C);if(!k)return;const P=yn.getLineLength(v.x,v.y,k.x,k.y);let M=0;if(l)try{M=l(n[y-1].char,S)*this.fontSize()}catch{M=0}v.x+=M,k.x+=M,this.textWidth+=M;const j=yn.getPointOnLine(M+P/2,v.x,v.y,k.x,k.y),D=Math.atan2(k.y-v.y,k.x-v.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:e[y],rotation:D,p0:v,p1:k,width:P}),m+=C}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(p){e.push(p.p0.x),e.push(p.p0.y),e.push(p.p1.x),e.push(p.p1.y)});let n=e[0]||0,r=e[0]||0,s=e[1]||0,i=e[1]||0,o,l;for(let p=0;p<e.length/2;p++)o=e[p*2],l=e[p*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,l),i=Math.max(i,l);const d=this.fontSize();return{x:n-d/2,y:s-d/2,width:r-n+d,height:i-s+d}}destroy(){return ce.releaseCanvas(this.dummyCanvas),super.destroy()}}kr.prototype._fillFunc=uA;kr.prototype._strokeFunc=dA;kr.prototype._fillFuncHit=uA;kr.prototype._strokeFuncHit=dA;kr.prototype.className="TextPath";kr.prototype._attrsAffectingSize=["text","fontSize","data"];Fn(kr);ee.addGetterSetter(kr,"data");ee.addGetterSetter(kr,"fontFamily","Arial");ee.addGetterSetter(kr,"fontSize",12,Me());ee.addGetterSetter(kr,"fontStyle",cA);ee.addGetterSetter(kr,"align","left");ee.addGetterSetter(kr,"letterSpacing",0,Me());ee.addGetterSetter(kr,"textBaseline","middle");ee.addGetterSetter(kr,"fontVariant",cA);ee.addGetterSetter(kr,"text",Zre);ee.addGetterSetter(kr,"textDecoration","");ee.addGetterSetter(kr,"kerningFunc",void 0);const hA="tr-konva",ese=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${hA}`).join(" "),CE="nodesRect",tse=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],nse={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},rse="ontouchstart"in Ve._global;function sse(t,e,n){if(t==="rotater")return n;e+=ce.degToRad(nse[t]||0);const r=(ce.radToDeg(e)%360+360)%360;return ce._inRange(r,315+22.5,360)||ce._inRange(r,0,22.5)?"ns-resize":ce._inRange(r,45-22.5,45+22.5)?"nesw-resize":ce._inRange(r,90-22.5,90+22.5)?"ew-resize":ce._inRange(r,135-22.5,135+22.5)?"nwse-resize":ce._inRange(r,180-22.5,180+22.5)?"ns-resize":ce._inRange(r,225-22.5,225+22.5)?"nesw-resize":ce._inRange(r,270-22.5,270+22.5)?"ew-resize":ce._inRange(r,315-22.5,315+22.5)?"nwse-resize":(ce.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Jy=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function ise(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function fA(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),s=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:s}}function ose(t,e){const n=ise(t);return fA(t,e,n)}function ase(t,e,n){let r=e;for(let s=0;s<t.length;s++){const i=Ve.getAngle(t[s]),o=Math.abs(i-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=i)}return r}let pw=0,Mt=class extends Tf{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ese,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ce.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return hA+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(s=>s.isAncestorOf(this)?(ce.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const o=s._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");s.on(o,i)}s.on(tse.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(s)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const s=e.getAbsolutePosition(),i=s.x-n.x,o=s.y-n.y;this.nodes().forEach(l=>{if(l===e||l.isDragging())return;const d=l.getAbsolutePosition();l.setAbsolutePosition({x:d.x+i,y:d.y+o}),l.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(CE),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(CE,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),l=s.x*i.x-e.offsetX()*i.x,d=s.y*i.y-e.offsetY()*i.y,p=(Ve.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),m={x:o.x+l*Math.cos(p)+d*Math.sin(-p),y:o.y+d*Math.cos(p)+l*Math.sin(p),width:s.width*i.x,height:s.height*i.y,rotation:p};return fA(m,-Ve.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const m=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),y=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}],v=p.getAbsoluteTransform();y.forEach(function(S){const C=v.point(S);n.push(C)})});const r=new yi;r.rotate(-Ve.getAngle(this.rotation()));let s=1/0,i=1/0,o=-1/0,l=-1/0;n.forEach(function(p){const m=r.point(p);s===void 0&&(s=o=m.x,i=l=m.y),s=Math.min(s,m.x),i=Math.min(i,m.y),o=Math.max(o,m.x),l=Math.max(l,m.y)}),r.invert();const d=r.point({x:s,y:i});return{x:d.x,y:d.y,width:o-s,height:l-i,rotation:Ve.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Jy.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new gg({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:rse?10:"auto"}),r=this;n.on("mousedown touchstart",function(s){r._handleMouseDown(s)}),n.on("dragstart",s=>{n.stopDrag(),s.cancelBubble=!0}),n.on("dragend",s=>{s.cancelBubble=!0}),n.on("mouseenter",()=>{const s=Ve.getAngle(this.rotation()),i=this.rotateAnchorCursor(),o=sse(e,s,i);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Pe({name:"back",width:0,height:0,sceneFunc(n,r){const s=r.getParent(),i=s.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),s.rotateEnabled()&&s.rotateLineVisible()&&n.lineTo(r.width()/2,-s.rotateAnchorOffset()*ce._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,s=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(s,2));this.sin=Math.abs(s/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),l=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:l.x-o.x,y:l.y-o.y},pw++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:e.evt,target:d})})}_handleMouseMove(e){let n,r,s;const i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);const l=o.getPointerPosition();let d={x:l.x-this._anchorDragOffset.x,y:l.y-this._anchorDragOffset.y};const p=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(p,d,e)),i.setAbsolutePosition(d);const m=i.getAbsolutePosition();if(p.x===m.x&&p.y===m.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=i.x()-j.width/2,r=-i.y()+j.height/2;let D=Math.atan2(-r,n)+Math.PI/2;j.height<0&&(D-=Math.PI);const G=Ve.getAngle(this.rotation())+D,J=Ve.getAngle(this.rotationSnapTolerance()),R=ase(this.rotationSnaps(),G,J)-j.rotation,F=ose(j,R);this._fitNodesInto(F,e);return}const y=this.shiftBehavior();let v;y==="inverted"?v=this.keepRatio()&&!e.shiftKey:y==="none"?v=this.keepRatio():v=this.keepRatio()||e.shiftKey;let S=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(v){const j=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(j.x-i.x(),2)+Math.pow(j.y-i.y(),2));const D=this.findOne(".top-left").x()>j.x?-1:1,V=this.findOne(".top-left").y()>j.y?-1:1;n=s*this.cos*D,r=s*this.sin*V,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(v){const j=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(i.x()-j.x,2)+Math.pow(j.y-i.y(),2));const D=this.findOne(".top-right").x()<j.x?-1:1,V=this.findOne(".top-right").y()>j.y?-1:1;n=s*this.cos*D,r=s*this.sin*V,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-r)}var C=i.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(v){const j=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(j.x-i.x(),2)+Math.pow(i.y()-j.y,2));const D=j.x<i.x()?-1:1,V=i.y()<j.y?-1:1;n=s*this.cos*D,r=s*this.sin*V,i.x(j.x-n),i.y(j.y+r)}C=i.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(v){const j=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(i.x()-j.x,2)+Math.pow(i.y()-j.y,2));const D=this.findOne(".bottom-right").x()<j.x?-1:1,V=this.findOne(".bottom-right").y()<j.y?-1:1;n=s*this.cos*D,r=s*this.sin*V,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(S=this.centeredScaling()||e.altKey,S){const j=this.findOne(".top-left"),D=this.findOne(".bottom-right"),V=j.x(),G=j.y(),J=this.getWidth()-D.x(),B=this.getHeight()-D.y();D.move({x:-V,y:-G}),j.move({x:J,y:B})}const k=this.findOne(".top-left").getAbsolutePosition();n=k.x,r=k.y;const P=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),M=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:P,height:M,rotation:Ve.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();pw--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(s=>{var i;s._fire("transformend",{evt:e,target:s}),(i=s.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),s=1;if(ce._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if(ce._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const i=new yi;if(i.rotate(Ve.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const v=i.point({x:-this.padding()*2,y:0});e.x+=v.x,e.y+=v.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const v=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const v=i.point({x:0,y:-this.padding()*2});e.x+=v.x,e.y+=v.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const v=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const v=this.boundBoxFunc()(r,e);v?e=v:ce.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new yi;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/o,r.height/o);const d=new yi,p=e.width/o,m=e.height/o;this.flipEnabled()===!1?(d.translate(e.x,e.y),d.rotate(e.rotation),d.translate(e.width<0?e.width:0,e.height<0?e.height:0),d.scale(Math.abs(p),Math.abs(m))):(d.translate(e.x,e.y),d.rotate(e.rotation),d.scale(p,m));const y=d.multiply(l.invert());this._nodes.forEach(v=>{var S;if(!v.getStage())return;const C=v.getParent().getAbsoluteTransform(),k=v.getTransform().copy();k.translate(v.offsetX(),v.offsetY());const P=new yi;P.multiply(C.copy().invert()).multiply(y).multiply(C).multiply(k);const M=P.decompose();v.setAttrs(M),(S=v.getLayer())===null||S===void 0||S.batchDraw()}),this.rotation(ce._getRotation(e.rotation)),this._nodes.forEach(v=>{this._fire("transform",{evt:n,target:v}),v._fire("transform",{evt:n,target:v})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ce._getRotation(n.rotation));const r=n.width,s=n.height,i=this.enabledAnchors(),o=this.resizeEnabled(),l=this.padding(),d=this.anchorSize(),p=this.find("._anchor");p.forEach(y=>{y.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+l,offsetY:d/2+l,visible:o&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:d/2+l,visible:o&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:d/2-l,offsetY:d/2+l,visible:o&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:d/2+l,visible:o&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:s/2,offsetX:d/2-l,visible:o&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:d/2+l,offsetY:d/2-l,visible:o&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:s,offsetY:d/2-l,visible:o&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:s,offsetX:d/2-l,offsetY:d/2-l,visible:o&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*ce._sign(s)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(y=>y.draggable()),x:0,y:0});const m=this.anchorStyleFunc();m&&p.forEach(y=>{m(y)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Tf.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Le.prototype.toObject.call(this)}clone(e){return Le.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Mt.isTransforming=()=>pw>0;function lse(t){return t instanceof Array||ce.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Jy.indexOf(e)===-1&&ce.warn("Unknown anchor name: "+e+". Available names are: "+Jy.join(", "))}),t||[]}Mt.prototype.className="Transformer";Fn(Mt);ee.addGetterSetter(Mt,"enabledAnchors",Jy,lse);ee.addGetterSetter(Mt,"flipEnabled",!0,Mo());ee.addGetterSetter(Mt,"resizeEnabled",!0);ee.addGetterSetter(Mt,"anchorSize",10,Me());ee.addGetterSetter(Mt,"rotateEnabled",!0);ee.addGetterSetter(Mt,"rotateLineVisible",!0);ee.addGetterSetter(Mt,"rotationSnaps",[]);ee.addGetterSetter(Mt,"rotateAnchorOffset",50,Me());ee.addGetterSetter(Mt,"rotateAnchorCursor","crosshair");ee.addGetterSetter(Mt,"rotationSnapTolerance",5,Me());ee.addGetterSetter(Mt,"borderEnabled",!0);ee.addGetterSetter(Mt,"anchorStroke","rgb(0, 161, 255)");ee.addGetterSetter(Mt,"anchorStrokeWidth",1,Me());ee.addGetterSetter(Mt,"anchorFill","white");ee.addGetterSetter(Mt,"anchorCornerRadius",0,Me());ee.addGetterSetter(Mt,"borderStroke","rgb(0, 161, 255)");ee.addGetterSetter(Mt,"borderStrokeWidth",1,Me());ee.addGetterSetter(Mt,"borderDash");ee.addGetterSetter(Mt,"keepRatio",!0);ee.addGetterSetter(Mt,"shiftBehavior","default");ee.addGetterSetter(Mt,"centeredScaling",!1);ee.addGetterSetter(Mt,"ignoreStroke",!1);ee.addGetterSetter(Mt,"padding",0,Me());ee.addGetterSetter(Mt,"nodes");ee.addGetterSetter(Mt,"node");ee.addGetterSetter(Mt,"boundBoxFunc");ee.addGetterSetter(Mt,"anchorDragBoundFunc");ee.addGetterSetter(Mt,"anchorStyleFunc");ee.addGetterSetter(Mt,"shouldOverdrawWholeArea",!1);ee.addGetterSetter(Mt,"useSingleNodeRotation",!0);ee.backCompat(Mt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ql extends Pe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ve.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ql.prototype.className="Wedge";ql.prototype._centroid=!0;ql.prototype._attrsAffectingSize=["radius"];Fn(ql);ee.addGetterSetter(ql,"radius",0,Me());ee.addGetterSetter(ql,"angle",0,Me());ee.addGetterSetter(ql,"clockwise",!1);ee.backCompat(ql,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function TE(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const cse=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],use=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function dse(t,e){const n=t.data,r=t.width,s=t.height;let i,o,l,d,p,m,y,v,S,C,k,P,M,j,D,V,G,J,B,R;const F=e+e+1,z=r-1,H=s-1,$=e+1,U=$*($+1)/2,ie=new TE,de=cse[e],ue=use[e];let ne=null,K=ie,te=null,Q=null;for(let q=1;q<F;q++)K=K.next=new TE,q===$&&(ne=K);K.next=ie,l=o=0;for(let q=0;q<s;q++){P=M=j=D=d=p=m=y=0,v=$*(V=n[o]),S=$*(G=n[o+1]),C=$*(J=n[o+2]),k=$*(B=n[o+3]),d+=U*V,p+=U*G,m+=U*J,y+=U*B,K=ie;for(let re=0;re<$;re++)K.r=V,K.g=G,K.b=J,K.a=B,K=K.next;for(let re=1;re<$;re++)i=o+((z<re?z:re)<<2),d+=(K.r=V=n[i])*(R=$-re),p+=(K.g=G=n[i+1])*R,m+=(K.b=J=n[i+2])*R,y+=(K.a=B=n[i+3])*R,P+=V,M+=G,j+=J,D+=B,K=K.next;te=ie,Q=ne;for(let re=0;re<r;re++)n[o+3]=B=y*de>>ue,B!==0?(B=255/B,n[o]=(d*de>>ue)*B,n[o+1]=(p*de>>ue)*B,n[o+2]=(m*de>>ue)*B):n[o]=n[o+1]=n[o+2]=0,d-=v,p-=S,m-=C,y-=k,v-=te.r,S-=te.g,C-=te.b,k-=te.a,i=l+((i=re+e+1)<z?i:z)<<2,P+=te.r=n[i],M+=te.g=n[i+1],j+=te.b=n[i+2],D+=te.a=n[i+3],d+=P,p+=M,m+=j,y+=D,te=te.next,v+=V=Q.r,S+=G=Q.g,C+=J=Q.b,k+=B=Q.a,P-=V,M-=G,j-=J,D-=B,Q=Q.next,o+=4;l+=r}for(let q=0;q<r;q++){M=j=D=P=p=m=y=d=0,o=q<<2,v=$*(V=n[o]),S=$*(G=n[o+1]),C=$*(J=n[o+2]),k=$*(B=n[o+3]),d+=U*V,p+=U*G,m+=U*J,y+=U*B,K=ie;for(let _e=0;_e<$;_e++)K.r=V,K.g=G,K.b=J,K.a=B,K=K.next;let re=r;for(let _e=1;_e<=e;_e++)o=re+q<<2,d+=(K.r=V=n[o])*(R=$-_e),p+=(K.g=G=n[o+1])*R,m+=(K.b=J=n[o+2])*R,y+=(K.a=B=n[o+3])*R,P+=V,M+=G,j+=J,D+=B,K=K.next,_e<H&&(re+=r);o=q,te=ie,Q=ne;for(let _e=0;_e<s;_e++)i=o<<2,n[i+3]=B=y*de>>ue,B>0?(B=255/B,n[i]=(d*de>>ue)*B,n[i+1]=(p*de>>ue)*B,n[i+2]=(m*de>>ue)*B):n[i]=n[i+1]=n[i+2]=0,d-=v,p-=S,m-=C,y-=k,v-=te.r,S-=te.g,C-=te.b,k-=te.a,i=q+((i=_e+$)<H?i:H)*r<<2,d+=P+=te.r=n[i],p+=M+=te.g=n[i+1],m+=j+=te.b=n[i+2],y+=D+=te.a=n[i+3],te=te.next,v+=V=Q.r,S+=G=Q.g,C+=J=Q.b,k+=B=Q.a,P-=V,M-=G,j-=J,D-=B,Q=Q.next,o+=r}}const hse=function(e){const n=Math.round(this.blurRadius());n>0&&dse(e,n)};ee.addGetterSetter(Le,"blurRadius",0,Me(),ee.afterSetFilter);const fse=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]+=e,n[s+1]+=e,n[s+2]+=e};ee.addGetterSetter(Le,"brightness",0,Me(),ee.afterSetFilter);const pse=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]=Math.min(255,n[s]*e),n[s+1]=Math.min(255,n[s+1]*e),n[s+2]=Math.min(255,n[s+2]*e)},mse=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let s=150,i=150,o=150;for(let l=0;l<r;l+=4)s=n[l],i=n[l+1],o=n[l+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s=s<0?0:s>255?255:s,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,n[l]=s,n[l+1]=i,n[l+2]=o};ee.addGetterSetter(Le,"contrast",0,Me(),ee.afterSetFilter);const gse=function(t){var e,n,r,s,i,o,l,d,p;const m=t.data,y=t.width,v=t.height,S=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),C=Math.min(1,Math.max(0,(s=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&s!==void 0?s:.5)),P=(l={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&l!==void 0?l:315,M=!!((p=(d=this.embossBlend)===null||d===void 0?void 0:d.call(this))!==null&&p!==void 0&&p),j=S*10,D=C*255,V=P*Math.PI/180,G=Math.cos(V),J=Math.sin(V),B=128/1020*j,R=new Uint8ClampedArray(m),F=new Float32Array(y*v);for(let ie=0,de=0;de<m.length;de+=4,ie++)F[ie]=.2126*R[de]+.7152*R[de+1]+.0722*R[de+2];const z=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],$=[-y-1,-y,-y+1,-1,0,1,y-1,y,y+1],U=ie=>ie<0?0:ie>255?255:ie;for(let ie=1;ie<v-1;ie++)for(let de=1;de<y-1;de++){const ue=ie*y+de;let ne=0,K=0;ne+=F[ue+$[0]]*z[0],K+=F[ue+$[0]]*H[0],ne+=F[ue+$[1]]*z[1],K+=F[ue+$[1]]*H[1],ne+=F[ue+$[2]]*z[2],K+=F[ue+$[2]]*H[2],ne+=F[ue+$[3]]*z[3],K+=F[ue+$[3]]*H[3],ne+=F[ue+$[5]]*z[5],K+=F[ue+$[5]]*H[5],ne+=F[ue+$[6]]*z[6],K+=F[ue+$[6]]*H[6],ne+=F[ue+$[7]]*z[7],K+=F[ue+$[7]]*H[7],ne+=F[ue+$[8]]*z[8],K+=F[ue+$[8]]*H[8];const te=G*ne+J*K,Q=U(D+te*B),q=ue*4;if(M){const re=Q-D;m[q]=U(R[q]+re),m[q+1]=U(R[q+1]+re),m[q+2]=U(R[q+2]+re),m[q+3]=R[q+3]}else m[q]=m[q+1]=m[q+2]=Q,m[q+3]=R[q+3]}for(let ie=0;ie<y;ie++){let de=ie*4,ue=((v-1)*y+ie)*4;m[de]=R[de],m[de+1]=R[de+1],m[de+2]=R[de+2],m[de+3]=R[de+3],m[ue]=R[ue],m[ue+1]=R[ue+1],m[ue+2]=R[ue+2],m[ue+3]=R[ue+3]}for(let ie=1;ie<v-1;ie++){let de=ie*y*4,ue=(ie*y+(y-1))*4;m[de]=R[de],m[de+1]=R[de+1],m[de+2]=R[de+2],m[de+3]=R[de+3],m[ue]=R[ue],m[ue+1]=R[ue+1],m[ue+2]=R[ue+2],m[ue+3]=R[ue+3]}return t};ee.addGetterSetter(Le,"embossStrength",.5,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"embossWhiteLevel",.5,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"embossDirection","top-left",void 0,ee.afterSetFilter);ee.addGetterSetter(Le,"embossBlend",!1,void 0,ee.afterSetFilter);function Px(t,e,n,r,s){const i=n-e,o=s-r;if(i===0)return r+o/2;if(o===0)return r;let l=(t-e)/i;return l=o*l+r,l}const yse=function(t){const e=t.data,n=e.length;let r=e[0],s=r,i,o=e[1],l=o,d,p=e[2],m=p,y;const v=this.enhance();if(v===0)return;for(let D=0;D<n;D+=4)i=e[D+0],i<r?r=i:i>s&&(s=i),d=e[D+1],d<o?o=d:d>l&&(l=d),y=e[D+2],y<p?p=y:y>m&&(m=y);s===r&&(s=255,r=0),l===o&&(l=255,o=0),m===p&&(m=255,p=0);let S,C,k,P,M,j;if(v>0)S=s+v*(255-s),C=r-v*(r-0),k=l+v*(255-l),P=o-v*(o-0),M=m+v*(255-m),j=p-v*(p-0);else{const D=(s+r)*.5;S=s+v*(s-D),C=r+v*(r-D);const V=(l+o)*.5;k=l+v*(l-V),P=o+v*(o-V);const G=(m+p)*.5;M=m+v*(m-G),j=p+v*(p-G)}for(let D=0;D<n;D+=4)e[D+0]=Px(e[D+0],r,s,C,S),e[D+1]=Px(e[D+1],o,l,P,k),e[D+2]=Px(e[D+2],p,m,j,M)};ee.addGetterSetter(Le,"enhance",0,Me(),ee.afterSetFilter);const vse=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=s,e[r+1]=s,e[r+2]=s}};ee.addGetterSetter(Le,"hue",0,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"saturation",0,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"luminance",0,Me(),ee.afterSetFilter);const xse=function(t){const e=t.data,n=e.length,r=1,s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=this.luminance()*127,l=r*s*Math.cos(i*Math.PI/180),d=r*s*Math.sin(i*Math.PI/180),p=.299*r+.701*l+.167*d,m=.587*r-.587*l+.33*d,y=.114*r-.114*l-.497*d,v=.299*r-.299*l-.328*d,S=.587*r+.413*l+.035*d,C=.114*r-.114*l+.293*d,k=.299*r-.3*l+1.25*d,P=.587*r-.586*l-1.05*d,M=.114*r+.886*l-.2*d;let j,D,V,G;for(let J=0;J<n;J+=4)j=e[J+0],D=e[J+1],V=e[J+2],G=e[J+3],e[J+0]=p*j+m*D+y*V+o,e[J+1]=v*j+S*D+C*V+o,e[J+2]=k*j+P*D+M*V+o,e[J+3]=G},wse=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=r*s*Math.cos(i*Math.PI/180),l=r*s*Math.sin(i*Math.PI/180),d=.299*r+.701*o+.167*l,p=.587*r-.587*o+.33*l,m=.114*r-.114*o-.497*l,y=.299*r-.299*o-.328*l,v=.587*r+.413*o+.035*l,S=.114*r-.114*o+.293*l,C=.299*r-.3*o+1.25*l,k=.587*r-.586*o-1.05*l,P=.114*r+.886*o-.2*l;for(let M=0;M<n;M+=4){const j=e[M+0],D=e[M+1],V=e[M+2],G=e[M+3];e[M+0]=d*j+p*D+m*V,e[M+1]=y*j+v*D+S*V,e[M+2]=C*j+k*D+P*V,e[M+3]=G}};ee.addGetterSetter(Le,"hue",0,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"saturation",0,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"value",0,Me(),ee.afterSetFilter);const _se=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},bse=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,l=n.polarCenterX||i/2,d=n.polarCenterY||o/2;let p=Math.sqrt(l*l+d*d),m=i-l,y=o-d;const v=Math.sqrt(m*m+y*y);p=v>p?v:p;const S=o,C=i,k=360/C*Math.PI/180;for(let P=0;P<C;P+=1){const M=Math.sin(P*k),j=Math.cos(P*k);for(let D=0;D<S;D+=1){m=Math.floor(l+p*D/S*j),y=Math.floor(d+p*D/S*M);let V=(y*i+m)*4;const G=r[V+0],J=r[V+1],B=r[V+2],R=r[V+3];V=(P+D*i)*4,s[V+0]=G,s[V+1]=J,s[V+2]=B,s[V+3]=R}}},Sse=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,l=n.polarCenterX||i/2,d=n.polarCenterY||o/2;let p=Math.sqrt(l*l+d*d),m=i-l,y=o-d;const v=Math.sqrt(m*m+y*y);p=v>p?v:p;const S=o,C=i,k=0;let P,M;for(m=0;m<i;m+=1)for(y=0;y<o;y+=1){const j=m-l,D=y-d,V=Math.sqrt(j*j+D*D)*S/p;let G=(Math.atan2(D,j)*180/Math.PI+360+k)%360;G=G*C/360,P=Math.floor(G),M=Math.floor(V);let J=(M*i+P)*4;const B=r[J+0],R=r[J+1],F=r[J+2],z=r[J+3];J=(y*i+m)*4,s[J+0]=B,s[J+1]=R,s[J+2]=F,s[J+3]=z}},Ese=function(t){const e=t.width,n=t.height;let r,s,i,o,l,d,p,m,y,v,S=Math.round(this.kaleidoscopePower());const C=Math.round(this.kaleidoscopeAngle()),k=Math.floor(e*(C%360)/360);if(S<1)return;const P=ce.createCanvasElement();P.width=e,P.height=n;const M=P.getContext("2d").getImageData(0,0,e,n);ce.releaseCanvas(P),bse(t,M,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,S);for(;j<=8;)j=j*2,S-=1;j=Math.ceil(j);let D=j,V=0,G=D,J=1;for(k+j>e&&(V=D,G=0,J=-1),s=0;s<n;s+=1)for(r=V;r!==G;r+=J)i=Math.round(r+k)%e,y=(e*s+i)*4,l=M.data[y+0],d=M.data[y+1],p=M.data[y+2],m=M.data[y+3],v=(e*s+r)*4,M.data[v+0]=l,M.data[v+1]=d,M.data[v+2]=p,M.data[v+3]=m;for(s=0;s<n;s+=1)for(D=Math.floor(j),o=0;o<S;o+=1){for(r=0;r<D+1;r+=1)y=(e*s+r)*4,l=M.data[y+0],d=M.data[y+1],p=M.data[y+2],m=M.data[y+3],v=(e*s+D*2-r-1)*4,M.data[v+0]=l,M.data[v+1]=d,M.data[v+2]=p,M.data[v+3]=m;D*=2}Sse(M,t,{})};ee.addGetterSetter(Le,"kaleidoscopePower",2,Me(),ee.afterSetFilter);ee.addGetterSetter(Le,"kaleidoscopeAngle",0,Me(),ee.afterSetFilter);function B0(t,e,n){let r=(n*t.width+e)*4;const s=[];return s.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),s}function Hp(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Cse(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Tse(t,e){const n=B0(t,0,0),r=B0(t,t.width-1,0),s=B0(t,0,t.height-1),i=B0(t,t.width-1,t.height-1),o=e||10;if(Hp(n,r)<o&&Hp(r,i)<o&&Hp(i,s)<o&&Hp(s,n)<o){const l=Cse([r,n,i,s]),d=[];for(let p=0;p<t.width*t.height;p++){const m=Hp(l,[t.data[p*4],t.data[p*4+1],t.data[p*4+2]]);d[p]=m<o?0:255}return d}}function Nse(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function kse(t,e,n){const r=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let l=0;l<n;l++)for(let d=0;d<e;d++){const p=l*e+d;let m=0;for(let y=0;y<s;y++)for(let v=0;v<s;v++){const S=l+y-i,C=d+v-i;if(S>=0&&S<n&&C>=0&&C<e){const k=S*e+C,P=r[y*s+v];m+=t[k]*P}}o[p]=m===2040?255:0}return o}function Pse(t,e,n){const r=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let l=0;l<n;l++)for(let d=0;d<e;d++){const p=l*e+d;let m=0;for(let y=0;y<s;y++)for(let v=0;v<s;v++){const S=l+y-i,C=d+v-i;if(S>=0&&S<n&&C>=0&&C<e){const k=S*e+C,P=r[y*s+v];m+=t[k]*P}}o[p]=m>=1020?255:0}return o}function Rse(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let l=0;l<n;l++)for(let d=0;d<e;d++){const p=l*e+d;let m=0;for(let y=0;y<s;y++)for(let v=0;v<s;v++){const S=l+y-i,C=d+v-i;if(S>=0&&S<n&&C>=0&&C<e){const k=S*e+C,P=r[y*s+v];m+=t[k]*P}}o[p]=m}return o}const Ase=function(t){const e=this.threshold();let n=Tse(t,e);return n&&(n=kse(n,t.width,t.height),n=Pse(n,t.width,t.height),n=Rse(n,t.width,t.height),Nse(t,n)),t};ee.addGetterSetter(Le,"threshold",0,Me(),ee.afterSetFilter);const Ise=function(t){const e=this.noise()*255,n=t.data,r=n.length,s=e/2;for(let i=0;i<r;i+=4)n[i+0]+=s-2*s*Math.random(),n[i+1]+=s-2*s*Math.random(),n[i+2]+=s-2*s*Math.random()};ee.addGetterSetter(Le,"noise",.2,Me(),ee.afterSetFilter);const jse=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,s=Math.ceil(n/e),i=Math.ceil(r/e),o=t.data;if(e<=0){ce.error("pixelSize value can not be <= 0");return}for(let l=0;l<s;l+=1)for(let d=0;d<i;d+=1){let p=0,m=0,y=0,v=0;const S=l*e,C=S+e,k=d*e,P=k+e;let M=0;for(let j=S;j<C;j+=1)if(!(j>=n))for(let D=k;D<P;D+=1){if(D>=r)continue;const V=(n*D+j)*4;p+=o[V+0],m+=o[V+1],y+=o[V+2],v+=o[V+3],M+=1}p=p/M,m=m/M,y=y/M,v=v/M;for(let j=S;j<C;j+=1)if(!(j>=n))for(let D=k;D<P;D+=1){if(D>=r)continue;const V=(n*D+j)*4;o[V+0]=p,o[V+1]=m,o[V+2]=y,o[V+3]=v}}};ee.addGetterSetter(Le,"pixelSize",8,Me(),ee.afterSetFilter);const Dse=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,s=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/s)*s};ee.addGetterSetter(Le,"levels",.5,Me(),ee.afterSetFilter);const Mse=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue();for(let o=0;o<n;o+=4){const l=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=l*r,e[o+1]=l*s,e[o+2]=l*i,e[o+3]=e[o+3]}};ee.addGetterSetter(Le,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ee.addGetterSetter(Le,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ee.addGetterSetter(Le,"blue",0,O9,ee.afterSetFilter);const Ose=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue(),o=this.alpha();for(let l=0;l<n;l+=4){const d=1-o;e[l]=r*o+e[l]*d,e[l+1]=s*o+e[l+1]*d,e[l+2]=i*o+e[l+2]*d}};ee.addGetterSetter(Le,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ee.addGetterSetter(Le,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ee.addGetterSetter(Le,"blue",0,O9,ee.afterSetFilter);ee.addGetterSetter(Le,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Lse=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=e[r+0],i=e[r+1],o=e[r+2];e[r+0]=Math.min(255,s*.393+i*.769+o*.189),e[r+1]=Math.min(255,s*.349+i*.686+o*.168),e[r+2]=Math.min(255,s*.272+i*.534+o*.131)}},Vse=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const s=n[r],i=n[r+1],o=n[r+2];.2126*s+.7152*i+.0722*o>=128&&(n[r]=255-s,n[r+1]=255-i,n[r+2]=255-o)}return t},Fse=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=1)n[s]=n[s]<e?0:255};ee.addGetterSetter(Le,"threshold",.5,Me(),ee.afterSetFilter);Ld.Util._assign(Ld,{Arc:Wl,Arrow:Kd,Circle:Wf,Ellipse:Su,Image:Oo,Label:Ob,Tag:Yd,Line:Gl,Path:yn,Rect:gg,RegularPolygon:Eu,Ring:Xd,Sprite:za,Star:Cu,Text:_n,TextPath:kr,Transformer:Mt,Wedge:ql,Filters:{Blur:hse,Brightness:pse,Brighten:fse,Contrast:mse,Emboss:gse,Enhance:yse,Grayscale:vse,HSL:xse,HSV:wse,Invert:_se,Kaleidoscope:Ese,Mask:Ase,Noise:Ise,Pixelate:jse,Posterize:Dse,RGB:Mse,RGBA:Ose,Sepia:Lse,Solarize:Vse,Threshold:Fse}});var Rx={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax,NE;function zse(){return NE||(NE=1,Ax=function(e){var n={},r=Wm(),s=gw(),i=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,w=1;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function J(u){return u===null||typeof u!="object"?null:(u=G&&u[G]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case m:return"Fragment";case p:return"Portal";case v:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case C:return(u.displayName||"Context")+".Consumer";case S:return(u._context.displayName||"Context")+".Provider";case k:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return f=u.displayName||null,f!==null?f:B(u.type)||"Memo";case D:f=u._payload,u=u._init;try{return B(u(f))}catch{}}return null}function R(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function F(u){var f=u,w=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(w=f.return),u=f.return;while(u)}return f.tag===3?w:null}function z(u){if(F(u)!==u)throw Error(o(188))}function H(u){var f=u.alternate;if(!f){if(f=F(u),f===null)throw Error(o(188));return f!==u?null:u}for(var w=u,E=f;;){var N=w.return;if(N===null)break;var O=N.alternate;if(O===null){if(E=N.return,E!==null){w=E;continue}break}if(N.child===O.child){for(O=N.child;O;){if(O===w)return z(N),u;if(O===E)return z(N),f;O=O.sibling}throw Error(o(188))}if(w.return!==E.return)w=N,E=O;else{for(var Y=!1,ae=N.child;ae;){if(ae===w){Y=!0,w=N,E=O;break}if(ae===E){Y=!0,E=N,w=O;break}ae=ae.sibling}if(!Y){for(ae=O.child;ae;){if(ae===w){Y=!0,w=O,E=N;break}if(ae===E){Y=!0,E=O,w=N;break}ae=ae.sibling}if(!Y)throw Error(o(189))}}if(w.alternate!==E)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?u:f}function $(u){return u=H(u),u!==null?U(u):null}function U(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=U(u);if(f!==null)return f;u=u.sibling}return null}function ie(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=ie(u);if(f!==null)return f}u=u.sibling}return null}var de=Array.isArray,ue=e.getPublicInstance,ne=e.getRootHostContext,K=e.getChildHostContext,te=e.prepareForCommit,Q=e.resetAfterCommit,q=e.createInstance,re=e.appendInitialChild,_e=e.finalizeInitialChildren,ke=e.prepareUpdate,Je=e.shouldSetTextContent,Ue=e.createTextInstance,xe=e.scheduleTimeout,Ce=e.cancelTimeout,je=e.noTimeout,Xe=e.isPrimaryRenderer,Ae=e.supportsMutation,ze=e.supportsPersistence,ot=e.supportsHydration,Ct=e.getInstanceFromNode,kn=e.preparePortalMount,zs=e.getCurrentEventPriority,xs=e.detachDeletedInstance,Ba=e.supportsMicrotasks,rn=e.scheduleMicrotask,sn=e.supportsTestSelectors,ti=e.findFiberRoot,Nu=e.getBoundingRect,ku=e.getTextContent,Lo=e.isHiddenSubtree,Vo=e.matchAccessibilityRole,Pu=e.setFocusIfFocusable,Kl=e.setupIntersectionObserver,Fo=e.appendChild,Qd=e.appendChildToContainer,Ua=e.commitTextUpdate,zo=e.commitMount,Jd=e.commitUpdate,Bo=e.insertBefore,Yl=e.insertInContainerBefore,Ru=e.removeChild,ni=e.removeChildFromContainer,$a=e.resetTextContent,Uo=e.hideInstance,Xl=e.hideTextInstance,Yi=e.unhideInstance,Xi=e.unhideTextInstance,bn=e.clearContainer,Au=e.cloneInstance,Qi=e.createContainerChildSet,Ji=e.appendChildToContainerChildSet,Zd=e.finalizeContainerChildren,Ql=e.replaceContainerChildren,ri=e.cloneHiddenInstance,Iu=e.cloneHiddenTextInstance,Ha=e.canHydrateInstance,$o=e.canHydrateTextInstance,Ho=e.canHydrateSuspenseInstance,ju=e.isSuspenseInstancePending,si=e.isSuspenseInstanceFallback,bi=e.getSuspenseInstanceFallbackErrorDetails,Jl=e.registerSuspenseInstanceRetry,Br=e.getNextHydratableSibling,eh=e.getFirstHydratableChild,th=e.getFirstHydratableChildWithinContainer,Du=e.getFirstHydratableChildWithinSuspenseInstance,ii=e.hydrateInstance,Mu=e.hydrateTextInstance,nh=e.hydrateSuspenseInstance,rh=e.getNextHydratableInstanceAfterSuspenseInstance,sh=e.commitHydratedContainer,Wa=e.commitHydratedSuspenseInstance,Ou=e.clearSuspenseBoundary,Zl=e.clearSuspenseBoundaryFromContainer,Ga=e.shouldDeleteUnhydratedTailInstances,Zi=e.didNotMatchHydratedContainerTextInstance,on=e.didNotMatchHydratedTextInstance,Lu;function Si(u){if(Lu===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);Lu=f&&f[1]||""}return`
`+Lu+u}var qa=!1;function eo(u,f){if(!u||qa)return"";qa=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ie){var E=Ie}Reflect.construct(u,[],f)}else{try{f.call()}catch(Ie){E=Ie}u.call(f.prototype)}else{try{throw Error()}catch(Ie){E=Ie}u()}}catch(Ie){if(Ie&&E&&typeof Ie.stack=="string"){for(var N=Ie.stack.split(`
`),O=E.stack.split(`
`),Y=N.length-1,ae=O.length-1;1<=Y&&0<=ae&&N[Y]!==O[ae];)ae--;for(;1<=Y&&0<=ae;Y--,ae--)if(N[Y]!==O[ae]){if(Y!==1||ae!==1)do if(Y--,ae--,0>ae||N[Y]!==O[ae]){var ve=`
`+N[Y].replace(" at new "," at ");return u.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",u.displayName)),ve}while(1<=Y&&0<=ae);break}}}finally{qa=!1,Error.prepareStackTrace=w}return(u=u?u.displayName||u.name:"")?Si(u):""}var Vu=Object.prototype.hasOwnProperty,Wo=[],Bs=-1;function zn(u){return{current:u}}function Ht(u){0>Bs||(u.current=Wo[Bs],Wo[Bs]=null,Bs--)}function Tt(u,f){Bs++,Wo[Bs]=u.current,u.current=f}var vr={},Kt=zn(vr),Bn=zn(!1),Pr=vr;function ws(u,f){var w=u.type.contextTypes;if(!w)return vr;var E=u.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var N={},O;for(O in w)N[O]=f[O];return E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=N),N}function gt(u){return u=u.childContextTypes,u!=null}function Us(){Ht(Bn),Ht(Kt)}function Go(u,f,w){if(Kt.current!==vr)throw Error(o(168));Tt(Kt,f),Tt(Bn,w)}function qo(u,f,w){var E=u.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return w;E=E.getChildContext();for(var N in E)if(!(N in f))throw Error(o(108,R(u)||"Unknown",N));return i({},w,E)}function Ko(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||vr,Pr=Kt.current,Tt(Kt,u),Tt(Bn,Bn.current),!0}function ec(u,f,w){var E=u.stateNode;if(!E)throw Error(o(169));w?(u=qo(u,f,Pr),E.__reactInternalMemoizedMergedChildContext=u,Ht(Bn),Ht(Kt),Tt(Kt,u)):Ht(Bn),Tt(Bn,w)}var Ur=Math.clz32?Math.clz32:Fu,Ka=Math.log,Gf=Math.LN2;function Fu(u){return u>>>=0,u===0?32:31-(Ka(u)/Gf|0)|0}var Nt=64,_s=4194304;function to(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function no(u,f){var w=u.pendingLanes;if(w===0)return 0;var E=0,N=u.suspendedLanes,O=u.pingedLanes,Y=w&268435455;if(Y!==0){var ae=Y&~N;ae!==0?E=to(ae):(O&=Y,O!==0&&(E=to(O)))}else Y=w&~N,Y!==0?E=to(Y):O!==0&&(E=to(O));if(E===0)return 0;if(f!==0&&f!==E&&(f&N)===0&&(N=E&-E,O=f&-f,N>=O||N===16&&(O&4194240)!==0))return f;if((E&4)!==0&&(E|=w&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=E;0<f;)w=31-Ur(f),N=1<<w,E|=u[w],f&=~N;return E}function zu(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(u,f){for(var w=u.suspendedLanes,E=u.pingedLanes,N=u.expirationTimes,O=u.pendingLanes;0<O;){var Y=31-Ur(O),ae=1<<Y,ve=N[Y];ve===-1?((ae&w)===0||(ae&E)!==0)&&(N[Y]=zu(ae,f)):ve<=f&&(u.expiredLanes|=ae),O&=~ae}}function Ya(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function oi(){var u=Nt;return Nt<<=1,(Nt&4194240)===0&&(Nt=64),u}function Yo(u){for(var f=[],w=0;31>w;w++)f.push(u);return f}function os(u,f,w){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Ur(f),u[f]=w}function Ei(u,f){var w=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var E=u.eventTimes;for(u=u.expirationTimes;0<w;){var N=31-Ur(w),O=1<<N;f[N]=0,E[N]=-1,u[N]=-1,w&=~O}}function Xn(u,f){var w=u.entangledLanes|=f;for(u=u.entanglements;w;){var E=31-Ur(w),N=1<<E;N&f|u[E]&f&&(u[E]|=f),w&=~N}}var kt=0;function Ci(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var $r=s.unstable_scheduleCallback,Uu=s.unstable_cancelCallback,Xo=s.unstable_shouldYield,ai=s.unstable_requestPaint,Pn=s.unstable_now,Qo=s.unstable_ImmediatePriority,Yt=s.unstable_UserBlockingPriority,tc=s.unstable_NormalPriority,qf=s.unstable_IdlePriority,li=null,xr=null;function ro(u){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(li,u,void 0,(u.current.flags&128)===128)}catch{}}function so(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Un=typeof Object.is=="function"?Object.is:so,$s=null,Jo=!1,Hs=!1;function Xa(u){$s===null?$s=[u]:$s.push(u)}function nc(u){Jo=!0,Xa(u)}function Sn(){if(!Hs&&$s!==null){Hs=!0;var u=0,f=kt;try{var w=$s;for(kt=1;u<w.length;u++){var E=w[u];do E=E(!0);while(E!==null)}$s=null,Jo=!1}catch(N){throw $s!==null&&($s=$s.slice(u+1)),$r(Qo,Sn),N}finally{kt=f,Hs=!1}}return null}var ci=[],as=0,Qa=null,Ti=0,Rn=[],Rr=0,En=null,ir=1,Hr="";function ls(u,f){ci[as++]=Ti,ci[as++]=Qa,Qa=u,Ti=f}function Ja(u,f,w){Rn[Rr++]=ir,Rn[Rr++]=Hr,Rn[Rr++]=En,En=u;var E=ir;u=Hr;var N=32-Ur(E)-1;E&=~(1<<N),w+=1;var O=32-Ur(f)+N;if(30<O){var Y=N-N%5;O=(E&(1<<Y)-1).toString(32),E>>=Y,N-=Y,ir=1<<32-Ur(f)+N|w<<N|E,Hr=O+u}else ir=1<<O|w<<N|E,Hr=u}function Zo(u){u.return!==null&&(ls(u,1),Ja(u,1,0))}function ea(u){for(;u===Qa;)Qa=ci[--as],ci[as]=null,Ti=ci[--as],ci[as]=null;for(;u===En;)En=Rn[--Rr],Rn[Rr]=null,Hr=Rn[--Rr],Rn[Rr]=null,ir=Rn[--Rr],Rn[Rr]=null}var an=null,or=null,Wt=!1,ta=!1,cs=null;function Za(u,f){var w=js(5,null,null,0);w.elementType="DELETED",w.stateNode=f,w.return=u,f=u.deletions,f===null?(u.deletions=[w],u.flags|=16):f.push(w)}function ar(u,f){switch(u.tag){case 5:return f=Ha(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,an=u,or=eh(f),!0):!1;case 6:return f=$o(f,u.pendingProps),f!==null?(u.stateNode=f,an=u,or=null,!0):!1;case 13:if(f=Ho(f),f!==null){var w=En!==null?{id:ir,overflow:Hr}:null;return u.memoizedState={dehydrated:f,treeContext:w,retryLane:1073741824},w=js(18,null,null,0),w.stateNode=f,w.return=u,u.child=w,an=u,or=null,!0}return!1;default:return!1}}function rc(u){return(u.mode&1)!==0&&(u.flags&128)===0}function sc(u){if(Wt){var f=or;if(f){var w=f;if(!ar(u,f)){if(rc(u))throw Error(o(418));f=Br(w);var E=an;f&&ar(u,f)?Za(E,w):(u.flags=u.flags&-4097|2,Wt=!1,an=u)}}else{if(rc(u))throw Error(o(418));u.flags=u.flags&-4097|2,Wt=!1,an=u}}}function io(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;an=u}function x(u){if(!ot||u!==an)return!1;if(!Wt)return io(u),Wt=!0,!1;if(u.tag!==3&&(u.tag!==5||Ga(u.type)&&!Je(u.type,u.memoizedProps))){var f=or;if(f){if(rc(u))throw A(),Error(o(418));for(;f;)Za(u,f),f=Br(f)}}if(io(u),u.tag===13){if(!ot)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));or=rh(u)}else or=an?Br(u.stateNode):null;return!0}function A(){for(var u=or;u;)u=Br(u)}function L(){ot&&(or=an=null,ta=Wt=!1)}function X(u){cs===null?cs=[u]:cs.push(u)}var he=l.ReactCurrentBatchConfig;function ge(u,f){if(Un(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var w=Object.keys(u),E=Object.keys(f);if(w.length!==E.length)return!1;for(E=0;E<w.length;E++){var N=w[E];if(!Vu.call(f,N)||!Un(u[N],f[N]))return!1}return!0}function Oe(u){switch(u.tag){case 5:return Si(u.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return u=eo(u.type,!1),u;case 11:return u=eo(u.type.render,!1),u;case 1:return u=eo(u.type,!0),u;default:return""}}function dt(u,f,w){if(u=w.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var E=w.stateNode}if(!E)throw Error(o(147,u));var N=E,O=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===O?f.ref:(f=function(Y){var ae=N.refs;Y===null?delete ae[O]:ae[O]=Y},f._stringRef=O,f)}if(typeof u!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,u))}return u}function dn(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Ft(u){var f=u._init;return f(u._payload)}function An(u){function f(me,le){if(u){var we=me.deletions;we===null?(me.deletions=[le],me.flags|=16):we.push(le)}}function w(me,le){if(!u)return null;for(;le!==null;)f(me,le),le=le.sibling;return null}function E(me,le){for(me=new Map;le!==null;)le.key!==null?me.set(le.key,le):me.set(le.index,le),le=le.sibling;return me}function N(me,le){return me=xa(me,le),me.index=0,me.sibling=null,me}function O(me,le,we){return me.index=we,u?(we=me.alternate,we!==null?(we=we.index,we<le?(me.flags|=2,le):we):(me.flags|=2,le)):(me.flags|=1048576,le)}function Y(me){return u&&me.alternate===null&&(me.flags|=2),me}function ae(me,le,we,He){return le===null||le.tag!==6?(le=kc(we,me.mode,He),le.return=me,le):(le=N(le,we),le.return=me,le)}function ve(me,le,we,He){var it=we.type;return it===m?Qe(me,le,we.props.children,He,we.key):le!==null&&(le.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===D&&Ft(it)===le.type)?(He=N(le,we.props),He.ref=dt(me,le,we),He.return=me,He):(He=Dh(we.type,we.key,we.props,null,me.mode,He),He.ref=dt(me,le,we),He.return=me,He)}function Ie(me,le,we,He){return le===null||le.tag!==4||le.stateNode.containerInfo!==we.containerInfo||le.stateNode.implementation!==we.implementation?(le=Mh(we,me.mode,He),le.return=me,le):(le=N(le,we.children||[]),le.return=me,le)}function Qe(me,le,we,He,it){return le===null||le.tag!==7?(le=br(we,me.mode,He,it),le.return=me,le):(le=N(le,we),le.return=me,le)}function yt(me,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return le=kc(""+le,me.mode,we),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case d:return we=Dh(le.type,le.key,le.props,null,me.mode,we),we.ref=dt(me,null,le),we.return=me,we;case p:return le=Mh(le,me.mode,we),le.return=me,le;case D:var He=le._init;return yt(me,He(le._payload),we)}if(de(le)||J(le))return le=br(le,me.mode,we,null),le.return=me,le;dn(me,le)}return null}function $e(me,le,we,He){var it=le!==null?le.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return it!==null?null:ae(me,le,""+we,He);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return we.key===it?ve(me,le,we,He):null;case p:return we.key===it?Ie(me,le,we,He):null;case D:return it=we._init,$e(me,le,it(we._payload),He)}if(de(we)||J(we))return it!==null?null:Qe(me,le,we,He,null);dn(me,we)}return null}function nn(me,le,we,He,it){if(typeof He=="string"&&He!==""||typeof He=="number")return me=me.get(we)||null,ae(le,me,""+He,it);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case d:return me=me.get(He.key===null?we:He.key)||null,ve(le,me,He,it);case p:return me=me.get(He.key===null?we:He.key)||null,Ie(le,me,He,it);case D:var St=He._init;return nn(me,le,we,St(He._payload),it)}if(de(He)||J(He))return me=me.get(we)||null,Qe(le,me,He,it,null);dn(le,He)}return null}function Ut(me,le,we,He){for(var it=null,St=null,vt=le,It=le=0,tr=null;vt!==null&&It<we.length;It++){vt.index>It?(tr=vt,vt=null):tr=vt.sibling;var At=$e(me,vt,we[It],He);if(At===null){vt===null&&(vt=tr);break}u&&vt&&At.alternate===null&&f(me,vt),le=O(At,le,It),St===null?it=At:St.sibling=At,St=At,vt=tr}if(It===we.length)return w(me,vt),Wt&&ls(me,It),it;if(vt===null){for(;It<we.length;It++)vt=yt(me,we[It],He),vt!==null&&(le=O(vt,le,It),St===null?it=vt:St.sibling=vt,St=vt);return Wt&&ls(me,It),it}for(vt=E(me,vt);It<we.length;It++)tr=nn(vt,me,It,we[It],He),tr!==null&&(u&&tr.alternate!==null&&vt.delete(tr.key===null?It:tr.key),le=O(tr,le,It),St===null?it=tr:St.sibling=tr,St=tr);return u&&vt.forEach(function(Or){return f(me,Or)}),Wt&&ls(me,It),it}function Xr(me,le,we,He){var it=J(we);if(typeof it!="function")throw Error(o(150));if(we=it.call(we),we==null)throw Error(o(151));for(var St=it=null,vt=le,It=le=0,tr=null,At=we.next();vt!==null&&!At.done;It++,At=we.next()){vt.index>It?(tr=vt,vt=null):tr=vt.sibling;var Or=$e(me,vt,At.value,He);if(Or===null){vt===null&&(vt=tr);break}u&&vt&&Or.alternate===null&&f(me,vt),le=O(Or,le,It),St===null?it=Or:St.sibling=Or,St=Or,vt=tr}if(At.done)return w(me,vt),Wt&&ls(me,It),it;if(vt===null){for(;!At.done;It++,At=we.next())At=yt(me,At.value,He),At!==null&&(le=O(At,le,It),St===null?it=At:St.sibling=At,St=At);return Wt&&ls(me,It),it}for(vt=E(me,vt);!At.done;It++,At=we.next())At=nn(vt,me,It,At.value,He),At!==null&&(u&&At.alternate!==null&&vt.delete(At.key===null?It:At.key),le=O(At,le,It),St===null?it=At:St.sibling=At,St=At);return u&&vt.forEach(function(ov){return f(me,ov)}),Wt&&ls(me,It),it}function Oi(me,le,we,He){if(typeof we=="object"&&we!==null&&we.type===m&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var it=we.key,St=le;St!==null;){if(St.key===it){if(it=we.type,it===m){if(St.tag===7){w(me,St.sibling),le=N(St,we.props.children),le.return=me,me=le;break e}}else if(St.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===D&&Ft(it)===St.type){w(me,St.sibling),le=N(St,we.props),le.ref=dt(me,St,we),le.return=me,me=le;break e}w(me,St);break}else f(me,St);St=St.sibling}we.type===m?(le=br(we.props.children,me.mode,He,we.key),le.return=me,me=le):(He=Dh(we.type,we.key,we.props,null,me.mode,He),He.ref=dt(me,le,we),He.return=me,me=He)}return Y(me);case p:e:{for(St=we.key;le!==null;){if(le.key===St)if(le.tag===4&&le.stateNode.containerInfo===we.containerInfo&&le.stateNode.implementation===we.implementation){w(me,le.sibling),le=N(le,we.children||[]),le.return=me,me=le;break e}else{w(me,le);break}else f(me,le);le=le.sibling}le=Mh(we,me.mode,He),le.return=me,me=le}return Y(me);case D:return St=we._init,Oi(me,le,St(we._payload),He)}if(de(we))return Ut(me,le,we,He);if(J(we))return Xr(me,le,we,He);dn(me,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,le!==null&&le.tag===6?(w(me,le.sibling),le=N(le,we),le.return=me,me=le):(w(me,le),le=kc(we,me.mode,He),le.return=me,me=le),Y(me)):w(me,le)}return Oi}var lr=An(!0),Ni=An(!1),bs=zn(null),Ss=null,ui=null,el=null;function Kf(){el=ui=Ss=null}function yg(u,f,w){Xe?(Tt(bs,f._currentValue),f._currentValue=w):(Tt(bs,f._currentValue2),f._currentValue2=w)}function $u(u){var f=bs.current;Ht(bs),Xe?u._currentValue=f:u._currentValue2=f}function tl(u,f,w){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===w)break;u=u.return}}function ic(u,f){Ss=u,el=ui=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Jn=!0),u.firstContext=null)}function Es(u){var f=Xe?u._currentValue:u._currentValue2;if(el!==u)if(u={context:u,memoizedValue:f,next:null},ui===null){if(Ss===null)throw Error(o(308));ui=u,Ss.dependencies={lanes:0,firstContext:u}}else ui=ui.next=u;return f}var na=null;function ih(u){na===null?na=[u]:na.push(u)}function Yf(u,f,w,E){var N=f.interleaved;return N===null?(w.next=w,ih(f)):(w.next=N.next,N.next=w),f.interleaved=w,di(u,E)}function di(u,f){u.lanes|=f;var w=u.alternate;for(w!==null&&(w.lanes|=f),w=u,u=u.return;u!==null;)u.childLanes|=f,w=u.alternate,w!==null&&(w.childLanes|=f),w=u,u=u.return;return w.tag===3?w.stateNode:null}var Cs=!1;function Xf(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function oo(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function ao(u,f,w){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(wt&2)!==0){var N=E.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),E.pending=f,di(u,w)}return N=E.interleaved,N===null?(f.next=f,ih(E)):(f.next=N.next,N.next=f),E.interleaved=f,di(u,w)}function Hu(u,f,w){if(f=f.updateQueue,f!==null&&(f=f.shared,(w&4194240)!==0)){var E=f.lanes;E&=u.pendingLanes,w|=E,f.lanes=w,Xn(u,w)}}function oc(u,f){var w=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,w===E)){var N=null,O=null;if(w=w.firstBaseUpdate,w!==null){do{var Y={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};O===null?N=O=Y:O=O.next=Y,w=w.next}while(w!==null);O===null?N=O=f:O=O.next=f}else N=O=f;w={baseState:E.baseState,firstBaseUpdate:N,lastBaseUpdate:O,shared:E.shared,effects:E.effects},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=f:u.next=f,w.lastBaseUpdate=f}function ra(u,f,w,E){var N=u.updateQueue;Cs=!1;var O=N.firstBaseUpdate,Y=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var ve=ae,Ie=ve.next;ve.next=null,Y===null?O=Ie:Y.next=Ie,Y=ve;var Qe=u.alternate;Qe!==null&&(Qe=Qe.updateQueue,ae=Qe.lastBaseUpdate,ae!==Y&&(ae===null?Qe.firstBaseUpdate=Ie:ae.next=Ie,Qe.lastBaseUpdate=ve))}if(O!==null){var yt=N.baseState;Y=0,Qe=Ie=ve=null,ae=O;do{var $e=ae.lane,nn=ae.eventTime;if((E&$e)===$e){Qe!==null&&(Qe=Qe.next={eventTime:nn,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Ut=u,Xr=ae;switch($e=f,nn=w,Xr.tag){case 1:if(Ut=Xr.payload,typeof Ut=="function"){yt=Ut.call(nn,yt,$e);break e}yt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Xr.payload,$e=typeof Ut=="function"?Ut.call(nn,yt,$e):Ut,$e==null)break e;yt=i({},yt,$e);break e;case 2:Cs=!0}}ae.callback!==null&&ae.lane!==0&&(u.flags|=64,$e=N.effects,$e===null?N.effects=[ae]:$e.push(ae))}else nn={eventTime:nn,lane:$e,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Qe===null?(Ie=Qe=nn,ve=yt):Qe=Qe.next=nn,Y|=$e;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;$e=ae,ae=$e.next,$e.next=null,N.lastBaseUpdate=$e,N.shared.pending=null}}while(!0);if(Qe===null&&(ve=yt),N.baseState=ve,N.firstBaseUpdate=Ie,N.lastBaseUpdate=Qe,f=N.shared.interleaved,f!==null){N=f;do Y|=N.lane,N=N.next;while(N!==f)}else O===null&&(N.shared.lanes=0);fo|=Y,u.lanes=Y,u.memoizedState=yt}}function xg(u,f,w){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var E=u[f],N=E.callback;if(N!==null){if(E.callback=null,E=w,typeof N!="function")throw Error(o(191,N));N.call(E)}}}var sa={},Ws=zn(sa),ac=zn(sa),ia=zn(sa);function Gs(u){if(u===sa)throw Error(o(174));return u}function oh(u,f){Tt(ia,f),Tt(ac,u),Tt(Ws,sa),u=ne(f),Ht(Ws),Tt(Ws,u)}function nl(){Ht(Ws),Ht(ac),Ht(ia)}function Qf(u){var f=Gs(ia.current),w=Gs(Ws.current);f=K(w,u.type,f),w!==f&&(Tt(ac,u),Tt(Ws,f))}function Jf(u){ac.current===u&&(Ht(Ws),Ht(ac))}var xn=zn(0);function ah(u){for(var f=u;f!==null;){if(f.tag===13){var w=f.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ju(w)||si(w)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Zf=[];function ep(){for(var u=0;u<Zf.length;u++){var f=Zf[u];Xe?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Zf.length=0}var us=l.ReactCurrentDispatcher,rl=l.ReactCurrentBatchConfig,oa=0,hn=null,$n=null,Qn=null,lc=!1,Wu=!1,Gu=0,cc=0;function cr(){throw Error(o(321))}function sl(u,f){if(f===null)return!1;for(var w=0;w<f.length&&w<u.length;w++)if(!Un(u[w],f[w]))return!1;return!0}function qu(u,f,w,E,N,O){if(oa=O,hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,us.current=u===null||u.memoizedState===null?up:dp,u=w(E,N),Wu){O=0;do{if(Wu=!1,Gu=0,25<=O)throw Error(o(301));O+=1,Qn=$n=null,f.updateQueue=null,us.current=hp,u=w(E,N)}while(Wu)}if(us.current=cl,f=$n!==null&&$n.next!==null,oa=0,Qn=$n=hn=null,lc=!1,f)throw Error(o(300));return u}function lh(){var u=Gu!==0;return Gu=0,u}function Ts(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?hn.memoizedState=Qn=u:Qn=Qn.next=u,Qn}function wr(){if($n===null){var u=hn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var f=Qn===null?hn.memoizedState:Qn.next;if(f!==null)Qn=f,$n=u;else{if(u===null)throw Error(o(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Qn===null?hn.memoizedState=Qn=u:Qn=Qn.next=u}return Qn}function il(u,f){return typeof f=="function"?f(u):f}function ch(u){var f=wr(),w=f.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=u;var E=$n,N=E.baseQueue,O=w.pending;if(O!==null){if(N!==null){var Y=N.next;N.next=O.next,O.next=Y}E.baseQueue=N=O,w.pending=null}if(N!==null){O=N.next,E=E.baseState;var ae=Y=null,ve=null,Ie=O;do{var Qe=Ie.lane;if((oa&Qe)===Qe)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),E=Ie.hasEagerState?Ie.eagerState:u(E,Ie.action);else{var yt={lane:Qe,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(ae=ve=yt,Y=E):ve=ve.next=yt,hn.lanes|=Qe,fo|=Qe}Ie=Ie.next}while(Ie!==null&&Ie!==O);ve===null?Y=E:ve.next=ae,Un(E,f.memoizedState)||(Jn=!0),f.memoizedState=E,f.baseState=Y,f.baseQueue=ve,w.lastRenderedState=E}if(u=w.interleaved,u!==null){N=u;do O=N.lane,hn.lanes|=O,fo|=O,N=N.next;while(N!==u)}else N===null&&(w.lanes=0);return[f.memoizedState,w.dispatch]}function uc(u){var f=wr(),w=f.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=u;var E=w.dispatch,N=w.pending,O=f.memoizedState;if(N!==null){w.pending=null;var Y=N=N.next;do O=u(O,Y.action),Y=Y.next;while(Y!==N);Un(O,f.memoizedState)||(Jn=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),w.lastRenderedState=O}return[O,E]}function tp(){}function np(u,f){var w=hn,E=wr(),N=f(),O=!Un(E.memoizedState,N);if(O&&(E.memoizedState=N,Jn=!0),E=E.queue,hh(ip.bind(null,w,E,u),[u]),E.getSnapshot!==f||O||Qn!==null&&Qn.memoizedState.tag&1){if(w.flags|=2048,ol(9,sp.bind(null,w,E,N,f),void 0,null),Qt===null)throw Error(o(349));(oa&30)!==0||rp(w,f,N)}return N}function rp(u,f,w){u.flags|=16384,u={getSnapshot:f,value:w},f=hn.updateQueue,f===null?(f={lastEffect:null,stores:null},hn.updateQueue=f,f.stores=[u]):(w=f.stores,w===null?f.stores=[u]:w.push(u))}function sp(u,f,w,E){f.value=w,f.getSnapshot=E,op(f)&&lo(u)}function ip(u,f,w){return w(function(){op(f)&&lo(u)})}function op(u){var f=u.getSnapshot;u=u.value;try{var w=f();return!Un(u,w)}catch{return!0}}function lo(u){var f=di(u,1);f!==null&&Dr(f,u,1,-1)}function uh(u){var f=Ts();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:u},f.queue=u,u=u.dispatch=nv.bind(null,hn,u),[f.memoizedState,u]}function ol(u,f,w,E){return u={tag:u,create:f,destroy:w,deps:E,next:null},f=hn.updateQueue,f===null?(f={lastEffect:null,stores:null},hn.updateQueue=f,f.lastEffect=u.next=u):(w=f.lastEffect,w===null?f.lastEffect=u.next=u:(E=w.next,w.next=u,u.next=E,f.lastEffect=u)),u}function wg(){return wr().memoizedState}function dh(u,f,w,E){var N=Ts();hn.flags|=u,N.memoizedState=ol(1|f,w,void 0,E===void 0?null:E)}function aa(u,f,w,E){var N=wr();E=E===void 0?null:E;var O=void 0;if($n!==null){var Y=$n.memoizedState;if(O=Y.destroy,E!==null&&sl(E,Y.deps)){N.memoizedState=ol(f,w,O,E);return}}hn.flags|=u,N.memoizedState=ol(1|f,w,O,E)}function _g(u,f){return dh(8390656,8,u,f)}function hh(u,f){return aa(2048,8,u,f)}function ap(u,f){return aa(4,2,u,f)}function Zt(u,f){return aa(4,4,u,f)}function fh(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Ku(u,f,w){return w=w!=null?w.concat([u]):null,aa(4,4,fh.bind(null,f,u),w)}function al(){}function lp(u,f){var w=wr();f=f===void 0?null:f;var E=w.memoizedState;return E!==null&&f!==null&&sl(f,E[1])?E[0]:(w.memoizedState=[u,f],u)}function ph(u,f){var w=wr();f=f===void 0?null:f;var E=w.memoizedState;return E!==null&&f!==null&&sl(f,E[1])?E[0]:(u=u(),w.memoizedState=[u,f],u)}function dc(u,f,w){return(oa&21)===0?(u.baseState&&(u.baseState=!1,Jn=!0),u.memoizedState=w):(Un(w,f)||(w=oi(),hn.lanes|=w,fo|=w,u.baseState=!0),f)}function mh(u,f){var w=kt;kt=w!==0&&4>w?w:4,u(!0);var E=rl.transition;rl.transition={};try{u(!1),f()}finally{kt=w,rl.transition=E}}function ll(){return wr().memoizedState}function bg(u,f,w){var E=er(u);if(w={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null},Sg(u))cp(f,w);else if(w=Yf(u,f,w,E),w!==null){var N=ln();Dr(w,u,E,N),Yu(w,f,E)}}function nv(u,f,w){var E=er(u),N={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null};if(Sg(u))cp(f,N);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var Y=f.lastRenderedState,ae=O(Y,w);if(N.hasEagerState=!0,N.eagerState=ae,Un(ae,Y)){var ve=f.interleaved;ve===null?(N.next=N,ih(f)):(N.next=ve.next,ve.next=N),f.interleaved=N;return}}catch{}finally{}w=Yf(u,f,N,E),w!==null&&(N=ln(),Dr(w,u,E,N),Yu(w,f,E))}}function Sg(u){var f=u.alternate;return u===hn||f!==null&&f===hn}function cp(u,f){Wu=lc=!0;var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}function Yu(u,f,w){if((w&4194240)!==0){var E=f.lanes;E&=u.pendingLanes,w|=E,f.lanes=w,Xn(u,w)}}var cl={readContext:Es,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},up={readContext:Es,useCallback:function(u,f){return Ts().memoizedState=[u,f===void 0?null:f],u},useContext:Es,useEffect:_g,useImperativeHandle:function(u,f,w){return w=w!=null?w.concat([u]):null,dh(4194308,4,fh.bind(null,f,u),w)},useLayoutEffect:function(u,f){return dh(4194308,4,u,f)},useInsertionEffect:function(u,f){return dh(4,2,u,f)},useMemo:function(u,f){var w=Ts();return f=f===void 0?null:f,u=u(),w.memoizedState=[u,f],u},useReducer:function(u,f,w){var E=Ts();return f=w!==void 0?w(f):f,E.memoizedState=E.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},E.queue=u,u=u.dispatch=bg.bind(null,hn,u),[E.memoizedState,u]},useRef:function(u){var f=Ts();return u={current:u},f.memoizedState=u},useState:uh,useDebugValue:al,useDeferredValue:function(u){return Ts().memoizedState=u},useTransition:function(){var u=uh(!1),f=u[0];return u=mh.bind(null,u[1]),Ts().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,w){var E=hn,N=Ts();if(Wt){if(w===void 0)throw Error(o(407));w=w()}else{if(w=f(),Qt===null)throw Error(o(349));(oa&30)!==0||rp(E,f,w)}N.memoizedState=w;var O={value:w,getSnapshot:f};return N.queue=O,_g(ip.bind(null,E,O,u),[u]),E.flags|=2048,ol(9,sp.bind(null,E,O,w,f),void 0,null),w},useId:function(){var u=Ts(),f=Qt.identifierPrefix;if(Wt){var w=Hr,E=ir;w=(E&~(1<<32-Ur(E)-1)).toString(32)+w,f=":"+f+"R"+w,w=Gu++,0<w&&(f+="H"+w.toString(32)),f+=":"}else w=cc++,f=":"+f+"r"+w.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},dp={readContext:Es,useCallback:lp,useContext:Es,useEffect:hh,useImperativeHandle:Ku,useInsertionEffect:ap,useLayoutEffect:Zt,useMemo:ph,useReducer:ch,useRef:wg,useState:function(){return ch(il)},useDebugValue:al,useDeferredValue:function(u){var f=wr();return dc(f,$n.memoizedState,u)},useTransition:function(){var u=ch(il)[0],f=wr().memoizedState;return[u,f]},useMutableSource:tp,useSyncExternalStore:np,useId:ll,unstable_isNewReconciler:!1},hp={readContext:Es,useCallback:lp,useContext:Es,useEffect:hh,useImperativeHandle:Ku,useInsertionEffect:ap,useLayoutEffect:Zt,useMemo:ph,useReducer:uc,useRef:wg,useState:function(){return uc(il)},useDebugValue:al,useDeferredValue:function(u){var f=wr();return $n===null?f.memoizedState=u:dc(f,$n.memoizedState,u)},useTransition:function(){var u=uc(il)[0],f=wr().memoizedState;return[u,f]},useMutableSource:tp,useSyncExternalStore:np,useId:ll,unstable_isNewReconciler:!1};function Ns(u,f){if(u&&u.defaultProps){f=i({},f),u=u.defaultProps;for(var w in u)f[w]===void 0&&(f[w]=u[w]);return f}return f}function fp(u,f,w,E){f=u.memoizedState,w=w(E,f),w=w==null?f:i({},f,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var Xu={isMounted:function(u){return(u=u._reactInternals)?F(u)===u:!1},enqueueSetState:function(u,f,w){u=u._reactInternals;var E=ln(),N=er(u),O=oo(E,N);O.payload=f,w!=null&&(O.callback=w),f=ao(u,O,N),f!==null&&(Dr(f,u,N,E),Hu(f,u,N))},enqueueReplaceState:function(u,f,w){u=u._reactInternals;var E=ln(),N=er(u),O=oo(E,N);O.tag=1,O.payload=f,w!=null&&(O.callback=w),f=ao(u,O,N),f!==null&&(Dr(f,u,N,E),Hu(f,u,N))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var w=ln(),E=er(u),N=oo(w,E);N.tag=2,f!=null&&(N.callback=f),f=ao(u,N,E),f!==null&&(Dr(f,u,E,w),Hu(f,u,E))}};function Eg(u,f,w,E,N,O,Y){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,O,Y):f.prototype&&f.prototype.isPureReactComponent?!ge(w,E)||!ge(N,O):!0}function Cg(u,f,w){var E=!1,N=vr,O=f.contextType;return typeof O=="object"&&O!==null?O=Es(O):(N=gt(f)?Pr:Kt.current,E=f.contextTypes,O=(E=E!=null)?ws(u,N):vr),f=new f(w,O),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xu,u.stateNode=f,f._reactInternals=u,E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=N,u.__reactInternalMemoizedMaskedChildContext=O),f}function gh(u,f,w,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(w,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(w,E),f.state!==u&&Xu.enqueueReplaceState(f,f.state,null)}function ki(u,f,w,E){var N=u.stateNode;N.props=w,N.state=u.memoizedState,N.refs={},Xf(u);var O=f.contextType;typeof O=="object"&&O!==null?N.context=Es(O):(O=gt(f)?Pr:Kt.current,N.context=ws(u,O)),N.state=u.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(fp(u,f,O,w),N.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(f=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),f!==N.state&&Xu.enqueueReplaceState(N,N.state,null),ra(u,w,N,E),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308)}function ul(u,f){try{var w="",E=f;do w+=Oe(E),E=E.return;while(E);var N=w}catch(O){N=`
Error generating stack: `+O.message+`
`+O.stack}return{value:u,source:f,stack:N,digest:null}}function la(u,f,w){return{value:u,source:null,stack:w??null,digest:f??null}}function qs(u,f){try{console.error(f.value)}catch(w){setTimeout(function(){throw w})}}var Qu=typeof WeakMap=="function"?WeakMap:Map;function Pi(u,f,w){w=oo(-1,w),w.tag=3,w.payload={element:null};var E=f.value;return w.callback=function(){Tn||(Tn=!0,Hn=E),qs(u,f)},w}function yh(u,f,w){w=oo(-1,w),w.tag=3;var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var N=f.value;w.payload=function(){return E(N)},w.callback=function(){qs(u,f)}}var O=u.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(w.callback=function(){qs(u,f),typeof E!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var Y=f.stack;this.componentDidCatch(f.value,{componentStack:Y!==null?Y:""})}),w}function Tg(u,f,w){var E=u.pingCache;if(E===null){E=u.pingCache=new Qu;var N=new Set;E.set(f,N)}else N=E.get(f),N===void 0&&(N=new Set,E.set(f,N));N.has(w)||(N.add(w),u=Dg.bind(null,u,f,w),f.then(u,u))}function Ng(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function ca(u,f,w,E,N){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(f=oo(-1,1),f.tag=2,ao(w,f,1))),w.lanes|=1),u):(u.flags|=65536,u.lanes=N,u)}var Ju=l.ReactCurrentOwner,Jn=!1;function ur(u,f,w,E){f.child=u===null?Ni(f,null,w,E):lr(f,u.child,w,E)}function vh(u,f,w,E,N){w=w.render;var O=f.ref;return ic(f,N),E=qu(u,f,w,E,O,N),w=lh(),u!==null&&!Jn?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~N,uo(u,f,N)):(Wt&&w&&Zo(f),f.flags|=1,ur(u,f,E,N),f.child)}function dl(u,f,w,E,N){if(u===null){var O=w.type;return typeof O=="function"&&!Tc(O)&&O.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(f.tag=15,f.type=O,co(u,f,O,E,N)):(u=Dh(w.type,null,E,f,f.mode,N),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,(u.lanes&N)===0){var Y=O.memoizedProps;if(w=w.compare,w=w!==null?w:ge,w(Y,E)&&u.ref===f.ref)return uo(u,f,N)}return f.flags|=1,u=xa(O,E),u.ref=f.ref,u.return=f,f.child=u}function co(u,f,w,E,N){if(u!==null){var O=u.memoizedProps;if(ge(O,E)&&u.ref===f.ref)if(Jn=!1,f.pendingProps=E=O,(u.lanes&N)!==0)(u.flags&131072)!==0&&(Jn=!0);else return f.lanes=u.lanes,uo(u,f,N)}return Ri(u,f,w,E,N)}function en(u,f,w){var E=f.pendingProps,N=E.children,O=u!==null?u.memoizedState:null;if(E.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ma,Zn),Zn|=w;else{if((w&1073741824)===0)return u=O!==null?O.baseLanes|w:w,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Tt(ma,Zn),Zn|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=O!==null?O.baseLanes:w,Tt(ma,Zn),Zn|=E}else O!==null?(E=O.baseLanes|w,f.memoizedState=null):E=w,Tt(ma,Zn),Zn|=E;return ur(u,f,N,w),f.child}function Xt(u,f){var w=f.ref;(u===null&&w!==null||u!==null&&u.ref!==w)&&(f.flags|=512,f.flags|=2097152)}function Ri(u,f,w,E,N){var O=gt(w)?Pr:Kt.current;return O=ws(f,O),ic(f,N),w=qu(u,f,w,E,O,N),E=lh(),u!==null&&!Jn?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~N,uo(u,f,N)):(Wt&&E&&Zo(f),f.flags|=1,ur(u,f,w,N),f.child)}function _r(u,f,w,E,N){if(gt(w)){var O=!0;Ko(f)}else O=!1;if(ic(f,N),f.stateNode===null)Zu(u,f),Cg(f,w,E),ki(f,w,E,N),E=!0;else if(u===null){var Y=f.stateNode,ae=f.memoizedProps;Y.props=ae;var ve=Y.context,Ie=w.contextType;typeof Ie=="object"&&Ie!==null?Ie=Es(Ie):(Ie=gt(w)?Pr:Kt.current,Ie=ws(f,Ie));var Qe=w.getDerivedStateFromProps,yt=typeof Qe=="function"||typeof Y.getSnapshotBeforeUpdate=="function";yt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==E||ve!==Ie)&&gh(f,Y,E,Ie),Cs=!1;var $e=f.memoizedState;Y.state=$e,ra(f,E,Y,N),ve=f.memoizedState,ae!==E||$e!==ve||Bn.current||Cs?(typeof Qe=="function"&&(fp(f,w,Qe,E),ve=f.memoizedState),(ae=Cs||Eg(f,w,ae,E,$e,ve,Ie))?(yt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(f.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=ve),Y.props=E,Y.state=ve,Y.context=Ie,E=ae):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{Y=f.stateNode,vg(u,f),ae=f.memoizedProps,Ie=f.type===f.elementType?ae:Ns(f.type,ae),Y.props=Ie,yt=f.pendingProps,$e=Y.context,ve=w.contextType,typeof ve=="object"&&ve!==null?ve=Es(ve):(ve=gt(w)?Pr:Kt.current,ve=ws(f,ve));var nn=w.getDerivedStateFromProps;(Qe=typeof nn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==yt||$e!==ve)&&gh(f,Y,E,ve),Cs=!1,$e=f.memoizedState,Y.state=$e,ra(f,E,Y,N);var Ut=f.memoizedState;ae!==yt||$e!==Ut||Bn.current||Cs?(typeof nn=="function"&&(fp(f,w,nn,E),Ut=f.memoizedState),(Ie=Cs||Eg(f,w,Ie,E,$e,Ut,ve)||!1)?(Qe||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(E,Ut,ve),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(E,Ut,ve)),typeof Y.componentDidUpdate=="function"&&(f.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ae===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=Ut),Y.props=E,Y.state=Ut,Y.context=ve,E=Ie):(typeof Y.componentDidUpdate!="function"||ae===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),E=!1)}return Ar(u,f,w,E,O,N)}function Ar(u,f,w,E,N,O){Xt(u,f);var Y=(f.flags&128)!==0;if(!E&&!Y)return N&&ec(f,w,!1),uo(u,f,O);E=f.stateNode,Ju.current=f;var ae=Y&&typeof w.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,u!==null&&Y?(f.child=lr(f,u.child,null,O),f.child=lr(f,null,ae,O)):ur(u,f,ae,O),f.memoizedState=E.state,N&&ec(f,w,!0),f.child}function ua(u){var f=u.stateNode;f.pendingContext?Go(u,f.pendingContext,f.pendingContext!==f.context):f.context&&Go(u,f.context,!1),oh(u,f.containerInfo)}function hl(u,f,w,E,N){return L(),X(N),f.flags|=256,ur(u,f,w,E),f.child}var Ir={dehydrated:null,treeContext:null,retryLane:0};function hc(u){return{baseLanes:u,cachePool:null,transitions:null}}function pp(u,f,w){var E=f.pendingProps,N=xn.current,O=!1,Y=(f.flags&128)!==0,ae;if((ae=Y)||(ae=u!==null&&u.memoizedState===null?!1:(N&2)!==0),ae?(O=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(N|=1),Tt(xn,N&1),u===null)return sc(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:si(u)?f.lanes=8:f.lanes=1073741824,null):(Y=E.children,u=E.fallback,O?(E=f.mode,O=f.child,Y={mode:"hidden",children:Y},(E&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=Y):O=Nc(Y,E,0,null),u=br(u,E,w,null),O.return=f,u.return=f,O.sibling=u,f.child=O,f.child.memoizedState=hc(w),f.memoizedState=Ir,u):xh(f,Y));if(N=u.memoizedState,N!==null&&(ae=N.dehydrated,ae!==null))return kg(u,f,Y,E,ae,N,w);if(O){O=E.fallback,Y=f.mode,N=u.child,ae=N.sibling;var ve={mode:"hidden",children:E.children};return(Y&1)===0&&f.child!==N?(E=f.child,E.childLanes=0,E.pendingProps=ve,f.deletions=null):(E=xa(N,ve),E.subtreeFlags=N.subtreeFlags&14680064),ae!==null?O=xa(ae,O):(O=br(O,Y,w,null),O.flags|=2),O.return=f,E.return=f,E.sibling=O,f.child=E,E=O,O=f.child,Y=u.child.memoizedState,Y=Y===null?hc(w):{baseLanes:Y.baseLanes|w,cachePool:null,transitions:Y.transitions},O.memoizedState=Y,O.childLanes=u.childLanes&~w,f.memoizedState=Ir,E}return O=u.child,u=O.sibling,E=xa(O,{mode:"visible",children:E.children}),(f.mode&1)===0&&(E.lanes=w),E.return=f,E.sibling=null,u!==null&&(w=f.deletions,w===null?(f.deletions=[u],f.flags|=16):w.push(u)),f.child=E,f.memoizedState=null,E}function xh(u,f){return f=Nc({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function fl(u,f,w,E){return E!==null&&X(E),lr(f,u.child,null,w),u=xh(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function kg(u,f,w,E,N,O,Y){if(w)return f.flags&256?(f.flags&=-257,E=la(Error(o(422))),fl(u,f,Y,E)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(O=E.fallback,N=f.mode,E=Nc({mode:"visible",children:E.children},N,0,null),O=br(O,N,Y,null),O.flags|=2,E.return=f,O.return=f,E.sibling=O,f.child=E,(f.mode&1)!==0&&lr(f,u.child,null,Y),f.child.memoizedState=hc(Y),f.memoizedState=Ir,O);if((f.mode&1)===0)return fl(u,f,Y,null);if(si(N))return E=bi(N).digest,O=Error(o(419)),E=la(O,E,void 0),fl(u,f,Y,E);if(w=(Y&u.childLanes)!==0,Jn||w){if(E=Qt,E!==null){switch(Y&-Y){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(E.suspendedLanes|Y))!==0?0:N,N!==0&&N!==O.retryLane&&(O.retryLane=N,di(u,N),Dr(E,u,N,-1))}return Cc(),E=la(Error(o(421))),fl(u,f,Y,E)}return ju(N)?(f.flags|=128,f.child=u.child,f=Og.bind(null,u),Jl(N,f),null):(u=O.treeContext,ot&&(or=Du(N),an=f,Wt=!0,cs=null,ta=!1,u!==null&&(Rn[Rr++]=ir,Rn[Rr++]=Hr,Rn[Rr++]=En,ir=u.id,Hr=u.overflow,En=f)),f=xh(f,E.children),f.flags|=4096,f)}function Ai(u,f,w){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),tl(u.return,f,w)}function fc(u,f,w,E,N){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:w,tailMode:N}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=w,O.tailMode=N)}function wh(u,f,w){var E=f.pendingProps,N=E.revealOrder,O=E.tail;if(ur(u,f,E.children,w),E=xn.current,(E&2)!==0)E=E&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ai(u,w,f);else if(u.tag===19)Ai(u,w,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}if(Tt(xn,E),(f.mode&1)===0)f.memoizedState=null;else switch(N){case"forwards":for(w=f.child,N=null;w!==null;)u=w.alternate,u!==null&&ah(u)===null&&(N=w),w=w.sibling;w=N,w===null?(N=f.child,f.child=null):(N=w.sibling,w.sibling=null),fc(f,!1,N,w,O);break;case"backwards":for(w=null,N=f.child,f.child=null;N!==null;){if(u=N.alternate,u!==null&&ah(u)===null){f.child=N;break}u=N.sibling,N.sibling=w,w=N,N=u}fc(f,!0,w,null,O);break;case"together":fc(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Zu(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function uo(u,f,w){if(u!==null&&(f.dependencies=u.dependencies),fo|=f.lanes,(w&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,w=xa(u,u.pendingProps),f.child=w,w.return=f;u.sibling!==null;)u=u.sibling,w=w.sibling=xa(u,u.pendingProps),w.return=f;w.sibling=null}return f.child}function da(u,f,w){switch(f.tag){case 3:ua(f),L();break;case 5:Qf(f);break;case 1:gt(f.type)&&Ko(f);break;case 4:oh(f,f.stateNode.containerInfo);break;case 10:yg(f,f.type._context,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(Tt(xn,xn.current&1),f.flags|=128,null):(w&f.child.childLanes)!==0?pp(u,f,w):(Tt(xn,xn.current&1),u=uo(u,f,w),u!==null?u.sibling:null);Tt(xn,xn.current&1);break;case 19:if(E=(w&f.childLanes)!==0,(u.flags&128)!==0){if(E)return wh(u,f,w);f.flags|=128}var N=f.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Tt(xn,xn.current),E)break;return null;case 22:case 23:return f.lanes=0,en(u,f,w)}return uo(u,f,w)}function Wr(u){u.flags|=4}function pl(u,f){if(u!==null&&u.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(u=f.child;u!==null;){if((u.flags&12854)!==0||(u.subtreeFlags&12854)!==0)return!1;u=u.sibling}return!0}var ha,fa,Gr,qr;if(Ae)ha=function(u,f){for(var w=f.child;w!==null;){if(w.tag===5||w.tag===6)re(u,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},fa=function(){},Gr=function(u,f,w,E,N){if(u=u.memoizedProps,u!==E){var O=f.stateNode,Y=Gs(Ws.current);w=ke(O,w,u,E,N,Y),(f.updateQueue=w)&&Wr(f)}},qr=function(u,f,w,E){w!==E&&Wr(f)};else if(ze){ha=function(u,f,w,E){for(var N=f.child;N!==null;){if(N.tag===5){var O=N.stateNode;w&&E&&(O=ri(O,N.type,N.memoizedProps,N)),re(u,O)}else if(N.tag===6)O=N.stateNode,w&&E&&(O=Iu(O,N.memoizedProps,N)),re(u,O);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)O=N.child,O!==null&&(O.return=N),ha(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var pa=function(u,f,w,E){for(var N=f.child;N!==null;){if(N.tag===5){var O=N.stateNode;w&&E&&(O=ri(O,N.type,N.memoizedProps,N)),Ji(u,O)}else if(N.tag===6)O=N.stateNode,w&&E&&(O=Iu(O,N.memoizedProps,N)),Ji(u,O);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)O=N.child,O!==null&&(O.return=N),pa(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};fa=function(u,f){var w=f.stateNode;if(!pl(u,f)){u=w.containerInfo;var E=Qi(u);pa(E,f,!1,!1),w.pendingChildren=E,Wr(f),Zd(u,E)}},Gr=function(u,f,w,E,N){var O=u.stateNode,Y=u.memoizedProps;if((u=pl(u,f))&&Y===E)f.stateNode=O;else{var ae=f.stateNode,ve=Gs(Ws.current),Ie=null;Y!==E&&(Ie=ke(ae,w,Y,E,N,ve)),u&&Ie===null?f.stateNode=O:(O=Au(O,Ie,w,Y,E,f,u,ae),_e(O,w,E,N,ve)&&Wr(f),f.stateNode=O,u?Wr(f):ha(O,f,!1,!1))}},qr=function(u,f,w,E){w!==E?(u=Gs(ia.current),w=Gs(Ws.current),f.stateNode=Ue(E,u,w,f),Wr(f)):f.stateNode=u.stateNode}}else fa=function(){},Gr=function(){},qr=function(){};function ks(u,f){if(!Wt)switch(u.tailMode){case"hidden":f=u.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function fn(u){var f=u.alternate!==null&&u.alternate.child===u.child,w=0,E=0;if(f)for(var N=u.child;N!==null;)w|=N.lanes|N.childLanes,E|=N.subtreeFlags&14680064,E|=N.flags&14680064,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)w|=N.lanes|N.childLanes,E|=N.subtreeFlags,E|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=E,u.childLanes=w,f}function ml(u,f,w){var E=f.pendingProps;switch(ea(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(f),null;case 1:return gt(f.type)&&Us(),fn(f),null;case 3:return w=f.stateNode,nl(),Ht(Bn),Ht(Kt),ep(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(x(f)?Wr(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,cs!==null&&(Ih(cs),cs=null))),fa(u,f),fn(f),null;case 5:Jf(f),w=Gs(ia.current);var N=f.type;if(u!==null&&f.stateNode!=null)Gr(u,f,N,E,w),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(o(166));return fn(f),null}if(u=Gs(Ws.current),x(f)){if(!ot)throw Error(o(175));u=ii(f.stateNode,f.type,f.memoizedProps,w,u,f,!ta),f.updateQueue=u,u!==null&&Wr(f)}else{var O=q(N,E,w,u,f);ha(O,f,!1,!1),f.stateNode=O,_e(O,N,E,w,u)&&Wr(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return fn(f),null;case 6:if(u&&f.stateNode!=null)qr(u,f,u.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(o(166));if(u=Gs(ia.current),w=Gs(Ws.current),x(f)){if(!ot)throw Error(o(176));if(u=f.stateNode,w=f.memoizedProps,(E=Mu(u,w,f,!ta))&&(N=an,N!==null))switch(N.tag){case 3:Zi(N.stateNode.containerInfo,u,w,(N.mode&1)!==0);break;case 5:on(N.type,N.memoizedProps,N.stateNode,u,w,(N.mode&1)!==0)}E&&Wr(f)}else f.stateNode=Ue(E,u,w,f)}return fn(f),null;case 13:if(Ht(xn),E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Wt&&or!==null&&(f.mode&1)!==0&&(f.flags&128)===0)A(),L(),f.flags|=98560,N=!1;else if(N=x(f),E!==null&&E.dehydrated!==null){if(u===null){if(!N)throw Error(o(318));if(!ot)throw Error(o(344));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(o(317));nh(N,f)}else L(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;fn(f),N=!1}else cs!==null&&(Ih(cs),cs=null),N=!0;if(!N)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=w,f):(w=E!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(xn.current&1)!==0?mn===0&&(mn=3):Cc())),f.updateQueue!==null&&(f.flags|=4),fn(f),null);case 4:return nl(),fa(u,f),u===null&&kn(f.stateNode.containerInfo),fn(f),null;case 10:return $u(f.type._context),fn(f),null;case 17:return gt(f.type)&&Us(),fn(f),null;case 19:if(Ht(xn),N=f.memoizedState,N===null)return fn(f),null;if(E=(f.flags&128)!==0,O=N.rendering,O===null)if(E)ks(N,!1);else{if(mn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(O=ah(u),O!==null){for(f.flags|=128,ks(N,!1),u=O.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=w,w=f.child;w!==null;)E=w,N=u,E.flags&=14680066,O=E.alternate,O===null?(E.childLanes=0,E.lanes=N,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=O.childLanes,E.lanes=O.lanes,E.child=O.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=O.memoizedProps,E.memoizedState=O.memoizedState,E.updateQueue=O.updateQueue,E.type=O.type,N=O.dependencies,E.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),w=w.sibling;return Tt(xn,xn.current&1|2),f.child}u=u.sibling}N.tail!==null&&Pn()>od&&(f.flags|=128,E=!0,ks(N,!1),f.lanes=4194304)}else{if(!E)if(u=ah(O),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),ks(N,!0),N.tail===null&&N.tailMode==="hidden"&&!O.alternate&&!Wt)return fn(f),null}else 2*Pn()-N.renderingStartTime>od&&w!==1073741824&&(f.flags|=128,E=!0,ks(N,!1),f.lanes=4194304);N.isBackwards?(O.sibling=f.child,f.child=O):(u=N.last,u!==null?u.sibling=O:f.child=O,N.last=O)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=Pn(),f.sibling=null,u=xn.current,Tt(xn,E?u&1|2:u&1),f):(fn(f),null);case 22:case 23:return jh(),w=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(f.flags|=8192),w&&(f.mode&1)!==0?(Zn&1073741824)!==0&&(fn(f),Ae&&f.subtreeFlags&6&&(f.flags|=8192)):fn(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}function Pg(u,f){switch(ea(f),f.tag){case 1:return gt(f.type)&&Us(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return nl(),Ht(Bn),Ht(Kt),ep(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Jf(f),null;case 13:if(Ht(xn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));L()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ht(xn),null;case 4:return nl(),null;case 10:return $u(f.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var pc=!1,dr=!1,Ps=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Bt(u,f){var w=u.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(E){cn(u,f,E)}else w.current=null}function Rs(u,f,w){try{w()}catch(E){cn(u,f,E)}}var mp=!1;function Rg(u,f){for(te(u.containerInfo),Fe=f;Fe!==null;)if(u=Fe,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Fe=f;else for(;Fe!==null;){u=Fe;try{var w=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,N=w.memoizedState,O=u.stateNode,Y=O.getSnapshotBeforeUpdate(u.elementType===u.type?E:Ns(u.type,E),N);O.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:Ae&&bn(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){cn(u,u.return,ae)}if(f=u.sibling,f!==null){f.return=u.return,Fe=f;break}Fe=u.return}return w=mp,mp=!1,w}function gl(u,f,w){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var N=E=E.next;do{if((N.tag&u)===u){var O=N.destroy;N.destroy=void 0,O!==void 0&&Rs(f,w,O)}N=N.next}while(N!==E)}}function mc(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var w=f=f.next;do{if((w.tag&u)===u){var E=w.create;w.destroy=E()}w=w.next}while(w!==f)}}function _h(u){var f=u.ref;if(f!==null){var w=u.stateNode;switch(u.tag){case 5:u=ue(w);break;default:u=w}typeof f=="function"?f(u):f.current=u}}function ed(u){var f=u.alternate;f!==null&&(u.alternate=null,ed(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&xs(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function gp(u){return u.tag===5||u.tag===3||u.tag===4}function yl(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||gp(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function td(u,f,w){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?Yl(w,u,f):Qd(w,u);else if(E!==4&&(u=u.child,u!==null))for(td(u,f,w),u=u.sibling;u!==null;)td(u,f,w),u=u.sibling}function yp(u,f,w){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?Bo(w,u,f):Fo(w,u);else if(E!==4&&(u=u.child,u!==null))for(yp(u,f,w),u=u.sibling;u!==null;)yp(u,f,w),u=u.sibling}var In=null,ds=!1;function hi(u,f,w){for(w=w.child;w!==null;)bh(u,f,w),w=w.sibling}function bh(u,f,w){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(li,w)}catch{}switch(w.tag){case 5:dr||Bt(w,f);case 6:if(Ae){var E=In,N=ds;In=null,hi(u,f,w),In=E,ds=N,In!==null&&(ds?ni(In,w.stateNode):Ru(In,w.stateNode))}else hi(u,f,w);break;case 18:Ae&&In!==null&&(ds?Zl(In,w.stateNode):Ou(In,w.stateNode));break;case 4:Ae?(E=In,N=ds,In=w.stateNode.containerInfo,ds=!0,hi(u,f,w),In=E,ds=N):(ze&&(E=w.stateNode.containerInfo,N=Qi(E),Ql(E,N)),hi(u,f,w));break;case 0:case 11:case 14:case 15:if(!dr&&(E=w.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){N=E=E.next;do{var O=N,Y=O.destroy;O=O.tag,Y!==void 0&&((O&2)!==0||(O&4)!==0)&&Rs(w,f,Y),N=N.next}while(N!==E)}hi(u,f,w);break;case 1:if(!dr&&(Bt(w,f),E=w.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=w.memoizedProps,E.state=w.memoizedState,E.componentWillUnmount()}catch(ae){cn(w,f,ae)}hi(u,f,w);break;case 21:hi(u,f,w);break;case 22:w.mode&1?(dr=(E=dr)||w.memoizedState!==null,hi(u,f,w),dr=E):hi(u,f,w);break;default:hi(u,f,w)}}function vl(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var w=u.stateNode;w===null&&(w=u.stateNode=new Ps),f.forEach(function(E){var N=rv.bind(null,u,E);w.has(E)||(w.add(E),E.then(N,N))})}}function Ks(u,f){var w=f.deletions;if(w!==null)for(var E=0;E<w.length;E++){var N=w[E];try{var O=u,Y=f;if(Ae){var ae=Y;e:for(;ae!==null;){switch(ae.tag){case 5:In=ae.stateNode,ds=!1;break e;case 3:In=ae.stateNode.containerInfo,ds=!0;break e;case 4:In=ae.stateNode.containerInfo,ds=!0;break e}ae=ae.return}if(In===null)throw Error(o(160));bh(O,Y,N),In=null,ds=!1}else bh(O,Y,N);var ve=N.alternate;ve!==null&&(ve.return=null),N.return=null}catch(Ie){cn(N,f,Ie)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)nd(f,u),f=f.sibling}function nd(u,f){var w=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ks(f,u),As(u),E&4){try{gl(3,u,u.return),mc(3,u)}catch($e){cn(u,u.return,$e)}try{gl(5,u,u.return)}catch($e){cn(u,u.return,$e)}}break;case 1:Ks(f,u),As(u),E&512&&w!==null&&Bt(w,w.return);break;case 5:if(Ks(f,u),As(u),E&512&&w!==null&&Bt(w,w.return),Ae){if(u.flags&32){var N=u.stateNode;try{$a(N)}catch($e){cn(u,u.return,$e)}}if(E&4&&(N=u.stateNode,N!=null)){var O=u.memoizedProps;if(w=w!==null?w.memoizedProps:O,E=u.type,f=u.updateQueue,u.updateQueue=null,f!==null)try{Jd(N,f,E,w,O,u)}catch($e){cn(u,u.return,$e)}}}break;case 6:if(Ks(f,u),As(u),E&4&&Ae){if(u.stateNode===null)throw Error(o(162));N=u.stateNode,O=u.memoizedProps,w=w!==null?w.memoizedProps:O;try{Ua(N,w,O)}catch($e){cn(u,u.return,$e)}}break;case 3:if(Ks(f,u),As(u),E&4){if(Ae&&ot&&w!==null&&w.memoizedState.isDehydrated)try{sh(f.containerInfo)}catch($e){cn(u,u.return,$e)}if(ze){N=f.containerInfo,O=f.pendingChildren;try{Ql(N,O)}catch($e){cn(u,u.return,$e)}}}break;case 4:if(Ks(f,u),As(u),E&4&&ze){O=u.stateNode,N=O.containerInfo,O=O.pendingChildren;try{Ql(N,O)}catch($e){cn(u,u.return,$e)}}break;case 13:Ks(f,u),As(u),N=u.child,N.flags&8192&&(O=N.memoizedState!==null,N.stateNode.isHidden=O,!O||N.alternate!==null&&N.alternate.memoizedState!==null||(_c=Pn())),E&4&&vl(u);break;case 22:var Y=w!==null&&w.memoizedState!==null;if(u.mode&1?(dr=(w=dr)||Y,Ks(f,u),dr=w):Ks(f,u),As(u),E&8192){if(w=u.memoizedState!==null,(u.stateNode.isHidden=w)&&!Y&&(u.mode&1)!==0)for(Fe=u,E=u.child;E!==null;){for(f=Fe=E;Fe!==null;){Y=Fe;var ae=Y.child;switch(Y.tag){case 0:case 11:case 14:case 15:gl(4,Y,Y.return);break;case 1:Bt(Y,Y.return);var ve=Y.stateNode;if(typeof ve.componentWillUnmount=="function"){var Ie=Y,Qe=Y.return;try{var yt=Ie;ve.props=yt.memoizedProps,ve.state=yt.memoizedState,ve.componentWillUnmount()}catch($e){cn(Ie,Qe,$e)}}break;case 5:Bt(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Ch(f);continue}}ae!==null?(ae.return=Y,Fe=ae):Ch(f)}E=E.sibling}if(Ae){e:if(E=null,Ae)for(f=u;;){if(f.tag===5){if(E===null){E=f;try{N=f.stateNode,w?Uo(N):Yi(f.stateNode,f.memoizedProps)}catch($e){cn(u,u.return,$e)}}}else if(f.tag===6){if(E===null)try{O=f.stateNode,w?Xl(O):Xi(O,f.memoizedProps)}catch($e){cn(u,u.return,$e)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;E===f&&(E=null),f=f.return}E===f&&(E=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:Ks(f,u),As(u),E&4&&vl(u);break;case 21:break;default:Ks(f,u),As(u)}}function As(u){var f=u.flags;if(f&2){try{if(Ae){e:{for(var w=u.return;w!==null;){if(gp(w)){var E=w;break e}w=w.return}throw Error(o(160))}switch(E.tag){case 5:var N=E.stateNode;E.flags&32&&($a(N),E.flags&=-33);var O=yl(u);yp(u,O,N);break;case 3:case 4:var Y=E.stateNode.containerInfo,ae=yl(u);td(u,ae,Y);break;default:throw Error(o(161))}}}catch(ve){cn(u,u.return,ve)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function gc(u,f,w){Fe=u,Sh(u)}function Sh(u,f,w){for(var E=(u.mode&1)!==0;Fe!==null;){var N=Fe,O=N.child;if(N.tag===22&&E){var Y=N.memoizedState!==null||pc;if(!Y){var ae=N.alternate,ve=ae!==null&&ae.memoizedState!==null||dr;ae=pc;var Ie=dr;if(pc=Y,(dr=ve)&&!Ie)for(Fe=N;Fe!==null;)Y=Fe,ve=Y.child,Y.tag===22&&Y.memoizedState!==null?Th(N):ve!==null?(ve.return=Y,Fe=ve):Th(N);for(;O!==null;)Fe=O,Sh(O),O=O.sibling;Fe=N,pc=ae,dr=Ie}Eh(u)}else(N.subtreeFlags&8772)!==0&&O!==null?(O.return=N,Fe=O):Eh(u)}}function Eh(u){for(;Fe!==null;){var f=Fe;if((f.flags&8772)!==0){var w=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:dr||mc(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!dr)if(w===null)E.componentDidMount();else{var N=f.elementType===f.type?w.memoizedProps:Ns(f.type,w.memoizedProps);E.componentDidUpdate(N,w.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var O=f.updateQueue;O!==null&&xg(f,O,E);break;case 3:var Y=f.updateQueue;if(Y!==null){if(w=null,f.child!==null)switch(f.child.tag){case 5:w=ue(f.child.stateNode);break;case 1:w=f.child.stateNode}xg(f,Y,w)}break;case 5:var ae=f.stateNode;w===null&&f.flags&4&&zo(ae,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ot&&f.memoizedState===null){var ve=f.alternate;if(ve!==null){var Ie=ve.memoizedState;if(Ie!==null){var Qe=Ie.dehydrated;Qe!==null&&Wa(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}dr||f.flags&512&&_h(f)}catch(yt){cn(f,f.return,yt)}}if(f===u){Fe=null;break}if(w=f.sibling,w!==null){w.return=f.return,Fe=w;break}Fe=f.return}}function Ch(u){for(;Fe!==null;){var f=Fe;if(f===u){Fe=null;break}var w=f.sibling;if(w!==null){w.return=f.return,Fe=w;break}Fe=f.return}}function Th(u){for(;Fe!==null;){var f=Fe;try{switch(f.tag){case 0:case 11:case 15:var w=f.return;try{mc(4,f)}catch(ve){cn(f,w,ve)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var N=f.return;try{E.componentDidMount()}catch(ve){cn(f,N,ve)}}var O=f.return;try{_h(f)}catch(ve){cn(f,O,ve)}break;case 5:var Y=f.return;try{_h(f)}catch(ve){cn(f,Y,ve)}}}catch(ve){cn(f,f.return,ve)}if(f===u){Fe=null;break}var ae=f.sibling;if(ae!==null){ae.return=f.return,Fe=ae;break}Fe=f.return}}var ho=0,Kr=1,Ii=2,yc=3,rd=4;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;ho=Is("selector.component"),Kr=Is("selector.has_pseudo_class"),Ii=Is("selector.role"),yc=Is("selector.test_id"),rd=Is("selector.text")}function ji(u){var f=Ct(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=ti(u),u===null)throw Error(o(362));return u.stateNode.current}function sd(u,f){switch(f.$$typeof){case ho:if(u.type===f.value)return!0;break;case Kr:e:{f=f.value,u=[u,0];for(var w=0;w<u.length;){var E=u[w++],N=u[w++],O=f[N];if(E.tag!==5||!Lo(E)){for(;O!=null&&sd(E,O);)N++,O=f[N];if(N===f.length){f=!0;break e}else for(E=E.child;E!==null;)u.push(E,N),E=E.sibling}}f=!1}return f;case Ii:if(u.tag===5&&Vo(u.stateNode,f.value))return!0;break;case rd:if((u.tag===5||u.tag===6)&&(u=ku(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case yc:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Nh(u){switch(u.$$typeof){case ho:return"<"+(B(u.value)||"Unknown")+">";case Kr:return":has("+(Nh(u)||"")+")";case Ii:return'[role="'+u.value+'"]';case rd:return'"'+u.value+'"';case yc:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function Di(u,f){var w=[];u=[u,0];for(var E=0;E<u.length;){var N=u[E++],O=u[E++],Y=f[O];if(N.tag!==5||!Lo(N)){for(;Y!=null&&sd(N,Y);)O++,Y=f[O];if(O===f.length)w.push(N);else for(N=N.child;N!==null;)u.push(N,O),N=N.sibling}}return w}function Mi(u,f){if(!sn)throw Error(o(363));u=ji(u),u=Di(u,f),f=[],u=Array.from(u);for(var w=0;w<u.length;){var E=u[w++];if(E.tag===5)Lo(E)||f.push(E.stateNode);else for(E=E.child;E!==null;)u.push(E),E=E.sibling}return f}var kh=Math.ceil,id=l.ReactCurrentDispatcher,vc=l.ReactCurrentOwner,Cn=l.ReactCurrentBatchConfig,wt=0,Qt=null,pn=null,jn=0,Zn=0,ma=zn(0),mn=0,xc=null,fo=0,tn=0,wc=0,xl=null,jr=null,_c=0,od=1/0,Yr=null;function Gt(){od=Pn()+500}var Tn=!1,Hn=null,fi=null,ga=!1,Ys=null,Ph=0,Wn=0,ad=null,bc=-1,Sc=0;function ln(){return(wt&6)!==0?Pn():bc!==-1?bc:bc=Pn()}function er(u){return(u.mode&1)===0?1:(wt&2)!==0&&jn!==0?jn&-jn:he.transition!==null?(Sc===0&&(Sc=oi()),Sc):(u=kt,u!==0?u:zs())}function Dr(u,f,w,E){if(50<Wn)throw Wn=0,ad=null,Error(o(185));os(u,w,E),((wt&2)===0||u!==Qt)&&(u===Qt&&((wt&2)===0&&(tn|=w),mn===4&&po(u,jn)),Mr(u,E),w===1&&wt===0&&(f.mode&1)===0&&(Gt(),Jo&&Sn()))}function Mr(u,f){var w=u.callbackNode;Bu(u,f);var E=no(u,u===Qt?jn:0);if(E===0)w!==null&&Uu(w),u.callbackNode=null,u.callbackPriority=0;else if(f=E&-E,u.callbackPriority!==f){if(w!=null&&Uu(w),f===1)u.tag===0?nc(vp.bind(null,u)):Xa(vp.bind(null,u)),Ba?rn(function(){(wt&6)===0&&Sn()}):$r(Qo,Sn),w=null;else{switch(Ci(E)){case 1:w=Qo;break;case 4:w=Yt;break;case 16:w=tc;break;case 536870912:w=qf;break;default:w=tc}w=Cp(w,Rh.bind(null,u))}u.callbackPriority=f,u.callbackNode=w}}function Rh(u,f){if(bc=-1,Sc=0,(wt&6)!==0)throw Error(o(327));var w=u.callbackNode;if(mo()&&u.callbackNode!==w)return null;var E=no(u,u===Qt?jn:0);if(E===0)return null;if((E&30)!==0||(E&u.expiredLanes)!==0||f)f=wl(u,E);else{f=E;var N=wt;wt|=2;var O=wp();(Qt!==u||jn!==f)&&(Yr=null,Gt(),ya(u,f));do try{_p();break}catch(ae){Ec(u,ae)}while(!0);Kf(),id.current=O,wt=N,pn!==null?f=0:(Qt=null,jn=0,f=mn)}if(f!==0){if(f===2&&(N=Ya(u),N!==0&&(E=N,f=Ah(u,N))),f===1)throw w=xc,ya(u,0),po(u,E),Mr(u,Pn()),w;if(f===6)po(u,E);else{if(N=u.current.alternate,(E&30)===0&&!Ag(N)&&(f=wl(u,E),f===2&&(O=Ya(u),O!==0&&(E=O,f=Ah(u,O))),f===1))throw w=xc,ya(u,0),po(u,E),Mr(u,Pn()),w;switch(u.finishedWork=N,u.finishedLanes=E,f){case 0:case 1:throw Error(o(345));case 2:va(u,jr,Yr);break;case 3:if(po(u,E),(E&130023424)===E&&(f=_c+500-Pn(),10<f)){if(no(u,0)!==0)break;if(N=u.suspendedLanes,(N&E)!==E){ln(),u.pingedLanes|=u.suspendedLanes&N;break}u.timeoutHandle=xe(va.bind(null,u,jr,Yr),f);break}va(u,jr,Yr);break;case 4:if(po(u,E),(E&4194240)===E)break;for(f=u.eventTimes,N=-1;0<E;){var Y=31-Ur(E);O=1<<Y,Y=f[Y],Y>N&&(N=Y),E&=~O}if(E=N,E=Pn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*kh(E/1960))-E,10<E){u.timeoutHandle=xe(va.bind(null,u,jr,Yr),E);break}va(u,jr,Yr);break;case 5:va(u,jr,Yr);break;default:throw Error(o(329))}}}return Mr(u,Pn()),u.callbackNode===w?Rh.bind(null,u):null}function Ah(u,f){var w=xl;return u.current.memoizedState.isDehydrated&&(ya(u,f).flags|=256),u=wl(u,f),u!==2&&(f=jr,jr=w,f!==null&&Ih(f)),u}function Ih(u){jr===null?jr=u:jr.push.apply(jr,u)}function Ag(u){for(var f=u;;){if(f.flags&16384){var w=f.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var E=0;E<w.length;E++){var N=w[E],O=N.getSnapshot;N=N.value;try{if(!Un(O(),N))return!1}catch{return!1}}}if(w=f.child,f.subtreeFlags&16384&&w!==null)w.return=f,f=w;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function po(u,f){for(f&=~wc,f&=~tn,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var w=31-Ur(f),E=1<<w;u[w]=-1,f&=~E}}function vp(u){if((wt&6)!==0)throw Error(o(327));mo();var f=no(u,0);if((f&1)===0)return Mr(u,Pn()),null;var w=wl(u,f);if(u.tag!==0&&w===2){var E=Ya(u);E!==0&&(f=E,w=Ah(u,E))}if(w===1)throw w=xc,ya(u,0),po(u,f),Mr(u,Pn()),w;if(w===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,va(u,jr,Yr),Mr(u,Pn()),null}function xp(u){Ys!==null&&Ys.tag===0&&(wt&6)===0&&mo();var f=wt;wt|=1;var w=Cn.transition,E=kt;try{if(Cn.transition=null,kt=1,u)return u()}finally{kt=E,Cn.transition=w,wt=f,(wt&6)===0&&Sn()}}function jh(){Zn=ma.current,Ht(ma)}function ya(u,f){u.finishedWork=null,u.finishedLanes=0;var w=u.timeoutHandle;if(w!==je&&(u.timeoutHandle=je,Ce(w)),pn!==null)for(w=pn.return;w!==null;){var E=w;switch(ea(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Us();break;case 3:nl(),Ht(Bn),Ht(Kt),ep();break;case 5:Jf(E);break;case 4:nl();break;case 13:Ht(xn);break;case 19:Ht(xn);break;case 10:$u(E.type._context);break;case 22:case 23:jh()}w=w.return}if(Qt=u,pn=u=xa(u.current,null),jn=Zn=f,mn=0,xc=null,wc=tn=fo=0,jr=xl=null,na!==null){for(f=0;f<na.length;f++)if(w=na[f],E=w.interleaved,E!==null){w.interleaved=null;var N=E.next,O=w.pending;if(O!==null){var Y=O.next;O.next=N,E.next=Y}w.pending=E}na=null}return u}function Ec(u,f){do{var w=pn;try{if(Kf(),us.current=cl,lc){for(var E=hn.memoizedState;E!==null;){var N=E.queue;N!==null&&(N.pending=null),E=E.next}lc=!1}if(oa=0,Qn=$n=hn=null,Wu=!1,Gu=0,vc.current=null,w===null||w.return===null){mn=1,xc=f,pn=null;break}e:{var O=u,Y=w.return,ae=w,ve=f;if(f=jn,ae.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,Qe=ae,yt=Qe.tag;if((Qe.mode&1)===0&&(yt===0||yt===11||yt===15)){var $e=Qe.alternate;$e?(Qe.updateQueue=$e.updateQueue,Qe.memoizedState=$e.memoizedState,Qe.lanes=$e.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var nn=Ng(Y);if(nn!==null){nn.flags&=-257,ca(nn,Y,ae,O,f),nn.mode&1&&Tg(O,Ie,f),f=nn,ve=Ie;var Ut=f.updateQueue;if(Ut===null){var Xr=new Set;Xr.add(ve),f.updateQueue=Xr}else Ut.add(ve);break e}else{if((f&1)===0){Tg(O,Ie,f),Cc();break e}ve=Error(o(426))}}else if(Wt&&ae.mode&1){var Oi=Ng(Y);if(Oi!==null){(Oi.flags&65536)===0&&(Oi.flags|=256),ca(Oi,Y,ae,O,f),X(ul(ve,ae));break e}}O=ve=ul(ve,ae),mn!==4&&(mn=2),xl===null?xl=[O]:xl.push(O),O=Y;do{switch(O.tag){case 3:O.flags|=65536,f&=-f,O.lanes|=f;var me=Pi(O,ve,f);oc(O,me);break e;case 1:ae=ve;var le=O.type,we=O.stateNode;if((O.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(fi===null||!fi.has(we)))){O.flags|=65536,f&=-f,O.lanes|=f;var He=yh(O,ae,f);oc(O,He);break e}}O=O.return}while(O!==null)}Sp(w)}catch(it){f=it,pn===w&&w!==null&&(pn=w=w.return);continue}break}while(!0)}function wp(){var u=id.current;return id.current=cl,u===null?cl:u}function Cc(){(mn===0||mn===3||mn===2)&&(mn=4),Qt===null||(fo&268435455)===0&&(tn&268435455)===0||po(Qt,jn)}function wl(u,f){var w=wt;wt|=2;var E=wp();(Qt!==u||jn!==f)&&(Yr=null,ya(u,f));do try{Ig();break}catch(N){Ec(u,N)}while(!0);if(Kf(),wt=w,id.current=E,pn!==null)throw Error(o(261));return Qt=null,jn=0,mn}function Ig(){for(;pn!==null;)bp(pn)}function _p(){for(;pn!==null&&!Xo();)bp(pn)}function bp(u){var f=Lg(u.alternate,u,Zn);u.memoizedProps=u.pendingProps,f===null?Sp(u):pn=f,vc.current=null}function Sp(u){var f=u;do{var w=f.alternate;if(u=f.return,(f.flags&32768)===0){if(w=ml(w,f,Zn),w!==null){pn=w;return}}else{if(w=Pg(w,f),w!==null){w.flags&=32767,pn=w;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{mn=6,pn=null;return}}if(f=f.sibling,f!==null){pn=f;return}pn=f=u}while(f!==null);mn===0&&(mn=5)}function va(u,f,w){var E=kt,N=Cn.transition;try{Cn.transition=null,kt=1,jg(u,f,w,E)}finally{Cn.transition=N,kt=E}return null}function jg(u,f,w,E){do mo();while(Ys!==null);if((wt&6)!==0)throw Error(o(327));w=u.finishedWork;var N=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var O=w.lanes|w.childLanes;if(Ei(u,O),u===Qt&&(pn=Qt=null,jn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||ga||(ga=!0,Cp(tc,function(){return mo(),null})),O=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||O){O=Cn.transition,Cn.transition=null;var Y=kt;kt=1;var ae=wt;wt|=4,vc.current=null,Rg(u,w),nd(w,u),Q(u.containerInfo),u.current=w,gc(w),ai(),wt=ae,kt=Y,Cn.transition=O}else u.current=w;if(ga&&(ga=!1,Ys=u,Ph=N),O=u.pendingLanes,O===0&&(fi=null),ro(w.stateNode),Mr(u,Pn()),f!==null)for(E=u.onRecoverableError,w=0;w<f.length;w++)N=f[w],E(N.value,{componentStack:N.stack,digest:N.digest});if(Tn)throw Tn=!1,u=Hn,Hn=null,u;return(Ph&1)!==0&&u.tag!==0&&mo(),O=u.pendingLanes,(O&1)!==0?u===ad?Wn++:(Wn=0,ad=u):Wn=0,Sn(),null}function mo(){if(Ys!==null){var u=Ci(Ph),f=Cn.transition,w=kt;try{if(Cn.transition=null,kt=16>u?16:u,Ys===null)var E=!1;else{if(u=Ys,Ys=null,Ph=0,(wt&6)!==0)throw Error(o(331));var N=wt;for(wt|=4,Fe=u.current;Fe!==null;){var O=Fe,Y=O.child;if((Fe.flags&16)!==0){var ae=O.deletions;if(ae!==null){for(var ve=0;ve<ae.length;ve++){var Ie=ae[ve];for(Fe=Ie;Fe!==null;){var Qe=Fe;switch(Qe.tag){case 0:case 11:case 15:gl(8,Qe,O)}var yt=Qe.child;if(yt!==null)yt.return=Qe,Fe=yt;else for(;Fe!==null;){Qe=Fe;var $e=Qe.sibling,nn=Qe.return;if(ed(Qe),Qe===Ie){Fe=null;break}if($e!==null){$e.return=nn,Fe=$e;break}Fe=nn}}}var Ut=O.alternate;if(Ut!==null){var Xr=Ut.child;if(Xr!==null){Ut.child=null;do{var Oi=Xr.sibling;Xr.sibling=null,Xr=Oi}while(Xr!==null)}}Fe=O}}if((O.subtreeFlags&2064)!==0&&Y!==null)Y.return=O,Fe=Y;else e:for(;Fe!==null;){if(O=Fe,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:gl(9,O,O.return)}var me=O.sibling;if(me!==null){me.return=O.return,Fe=me;break e}Fe=O.return}}var le=u.current;for(Fe=le;Fe!==null;){Y=Fe;var we=Y.child;if((Y.subtreeFlags&2064)!==0&&we!==null)we.return=Y,Fe=we;else e:for(Y=le;Fe!==null;){if(ae=Fe,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:mc(9,ae)}}catch(it){cn(ae,ae.return,it)}if(ae===Y){Fe=null;break e}var He=ae.sibling;if(He!==null){He.return=ae.return,Fe=He;break e}Fe=ae.return}}if(wt=N,Sn(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(li,u)}catch{}E=!0}return E}finally{kt=w,Cn.transition=f}}return!1}function Ep(u,f,w){f=ul(w,f),f=Pi(u,f,1),u=ao(u,f,1),f=ln(),u!==null&&(os(u,1,f),Mr(u,f))}function cn(u,f,w){if(u.tag===3)Ep(u,u,w);else for(;f!==null;){if(f.tag===3){Ep(f,u,w);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(fi===null||!fi.has(E))){u=ul(w,u),u=yh(f,u,1),f=ao(f,u,1),u=ln(),f!==null&&(os(f,1,u),Mr(f,u));break}}f=f.return}}function Dg(u,f,w){var E=u.pingCache;E!==null&&E.delete(f),f=ln(),u.pingedLanes|=u.suspendedLanes&w,Qt===u&&(jn&w)===w&&(mn===4||mn===3&&(jn&130023424)===jn&&500>Pn()-_c?ya(u,0):wc|=w),Mr(u,f)}function Mg(u,f){f===0&&((u.mode&1)===0?f=1:(f=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var w=ln();u=di(u,f),u!==null&&(os(u,f,w),Mr(u,w))}function Og(u){var f=u.memoizedState,w=0;f!==null&&(w=f.retryLane),Mg(u,w)}function rv(u,f){var w=0;switch(u.tag){case 13:var E=u.stateNode,N=u.memoizedState;N!==null&&(w=N.retryLane);break;case 19:E=u.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(f),Mg(u,w)}var Lg;Lg=function(u,f,w){if(u!==null)if(u.memoizedProps!==f.pendingProps||Bn.current)Jn=!0;else{if((u.lanes&w)===0&&(f.flags&128)===0)return Jn=!1,da(u,f,w);Jn=(u.flags&131072)!==0}else Jn=!1,Wt&&(f.flags&1048576)!==0&&Ja(f,Ti,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;Zu(u,f),u=f.pendingProps;var N=ws(f,Kt.current);ic(f,w),N=qu(null,f,E,u,N,w);var O=lh();return f.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,gt(E)?(O=!0,Ko(f)):O=!1,f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Xf(f),N.updater=Xu,f.stateNode=N,N._reactInternals=f,ki(f,E,u,w),f=Ar(null,f,E,!0,O,w)):(f.tag=0,Wt&&O&&Zo(f),ur(null,f,N,w),f=f.child),f;case 16:E=f.elementType;e:{switch(Zu(u,f),u=f.pendingProps,N=E._init,E=N(E._payload),f.type=E,N=f.tag=sv(E),u=Ns(E,u),N){case 0:f=Ri(null,f,E,u,w);break e;case 1:f=_r(null,f,E,u,w);break e;case 11:f=vh(null,f,E,u,w);break e;case 14:f=dl(null,f,E,Ns(E.type,u),w);break e}throw Error(o(306,E,""))}return f;case 0:return E=f.type,N=f.pendingProps,N=f.elementType===E?N:Ns(E,N),Ri(u,f,E,N,w);case 1:return E=f.type,N=f.pendingProps,N=f.elementType===E?N:Ns(E,N),_r(u,f,E,N,w);case 3:e:{if(ua(f),u===null)throw Error(o(387));E=f.pendingProps,O=f.memoizedState,N=O.element,vg(u,f),ra(f,E,null,w);var Y=f.memoizedState;if(E=Y.element,ot&&O.isDehydrated)if(O={element:E,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){N=ul(Error(o(423)),f),f=hl(u,f,E,w,N);break e}else if(E!==N){N=ul(Error(o(424)),f),f=hl(u,f,E,w,N);break e}else for(ot&&(or=th(f.stateNode.containerInfo),an=f,Wt=!0,cs=null,ta=!1),w=Ni(f,null,E,w),f.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(L(),E===N){f=uo(u,f,w);break e}ur(u,f,E,w)}f=f.child}return f;case 5:return Qf(f),u===null&&sc(f),E=f.type,N=f.pendingProps,O=u!==null?u.memoizedProps:null,Y=N.children,Je(E,N)?Y=null:O!==null&&Je(E,O)&&(f.flags|=32),Xt(u,f),ur(u,f,Y,w),f.child;case 6:return u===null&&sc(f),null;case 13:return pp(u,f,w);case 4:return oh(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=lr(f,null,E,w):ur(u,f,E,w),f.child;case 11:return E=f.type,N=f.pendingProps,N=f.elementType===E?N:Ns(E,N),vh(u,f,E,N,w);case 7:return ur(u,f,f.pendingProps,w),f.child;case 8:return ur(u,f,f.pendingProps.children,w),f.child;case 12:return ur(u,f,f.pendingProps.children,w),f.child;case 10:e:{if(E=f.type._context,N=f.pendingProps,O=f.memoizedProps,Y=N.value,yg(f,E,Y),O!==null)if(Un(O.value,Y)){if(O.children===N.children&&!Bn.current){f=uo(u,f,w);break e}}else for(O=f.child,O!==null&&(O.return=f);O!==null;){var ae=O.dependencies;if(ae!==null){Y=O.child;for(var ve=ae.firstContext;ve!==null;){if(ve.context===E){if(O.tag===1){ve=oo(-1,w&-w),ve.tag=2;var Ie=O.updateQueue;if(Ie!==null){Ie=Ie.shared;var Qe=Ie.pending;Qe===null?ve.next=ve:(ve.next=Qe.next,Qe.next=ve),Ie.pending=ve}}O.lanes|=w,ve=O.alternate,ve!==null&&(ve.lanes|=w),tl(O.return,w,f),ae.lanes|=w;break}ve=ve.next}}else if(O.tag===10)Y=O.type===f.type?null:O.child;else if(O.tag===18){if(Y=O.return,Y===null)throw Error(o(341));Y.lanes|=w,ae=Y.alternate,ae!==null&&(ae.lanes|=w),tl(Y,w,f),Y=O.sibling}else Y=O.child;if(Y!==null)Y.return=O;else for(Y=O;Y!==null;){if(Y===f){Y=null;break}if(O=Y.sibling,O!==null){O.return=Y.return,Y=O;break}Y=Y.return}O=Y}ur(u,f,N.children,w),f=f.child}return f;case 9:return N=f.type,E=f.pendingProps.children,ic(f,w),N=Es(N),E=E(N),f.flags|=1,ur(u,f,E,w),f.child;case 14:return E=f.type,N=Ns(E,f.pendingProps),N=Ns(E.type,N),dl(u,f,E,N,w);case 15:return co(u,f,f.type,f.pendingProps,w);case 17:return E=f.type,N=f.pendingProps,N=f.elementType===E?N:Ns(E,N),Zu(u,f),f.tag=1,gt(E)?(u=!0,Ko(f)):u=!1,ic(f,w),Cg(f,E,N),ki(f,E,N,w),Ar(null,f,E,!0,u,w);case 19:return wh(u,f,w);case 22:return en(u,f,w)}throw Error(o(156,f.tag))};function Cp(u,f){return $r(u,f)}function Vg(u,f,w,E){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(u,f,w,E){return new Vg(u,f,w,E)}function Tc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function sv(u){if(typeof u=="function")return Tc(u)?1:0;if(u!=null){if(u=u.$$typeof,u===k)return 11;if(u===j)return 14}return 2}function xa(u,f){var w=u.alternate;return w===null?(w=js(u.tag,f,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=f,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&14680064,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,f=u.dependencies,w.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w}function Dh(u,f,w,E,N,O){var Y=2;if(E=u,typeof u=="function")Tc(u)&&(Y=1);else if(typeof u=="string")Y=5;else e:switch(u){case m:return br(w.children,N,O,f);case y:Y=8,N|=8;break;case v:return u=js(12,w,f,N|2),u.elementType=v,u.lanes=O,u;case P:return u=js(13,w,f,N),u.elementType=P,u.lanes=O,u;case M:return u=js(19,w,f,N),u.elementType=M,u.lanes=O,u;case V:return Nc(w,N,O,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:Y=10;break e;case C:Y=9;break e;case k:Y=11;break e;case j:Y=14;break e;case D:Y=16,E=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=js(Y,w,f,N),f.elementType=u,f.type=E,f.lanes=O,f}function br(u,f,w,E){return u=js(7,u,E,f),u.lanes=w,u}function Nc(u,f,w,E){return u=js(22,u,E,f),u.elementType=V,u.lanes=w,u.stateNode={isHidden:!1},u}function kc(u,f,w){return u=js(6,u,null,f),u.lanes=w,u}function Mh(u,f,w){return f=js(4,u.children!==null?u.children:[],u.key,f),f.lanes=w,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Fg(u,f,w,E,N){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=E,this.onRecoverableError=N,ot&&(this.mutableSourceEagerHydrationData=null)}function Tp(u,f,w,E,N,O,Y,ae,ve){return u=new Fg(u,f,w,ae,ve),f===1?(f=1,O===!0&&(f|=8)):f=0,O=js(3,null,null,f),u.current=O,O.stateNode=u,O.memoizedState={element:E,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(O),u}function Oh(u){if(!u)return vr;u=u._reactInternals;e:{if(F(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(gt(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var w=u.type;if(gt(w))return qo(u,w,f)}return f}function _l(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=$(f),u===null?null:u.stateNode}function Lh(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<f?w:f}}function Pc(u,f){Lh(u,f),(u=u.alternate)&&Lh(u,f)}function iv(u){return u=$(u),u===null?null:u.stateNode}function zg(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=di(u,134217728);if(f!==null){var w=ln();Dr(f,u,134217728,w)}Pc(u,134217728)}},n.attemptDiscreteHydration=function(u){if(u.tag===13){var f=di(u,1);if(f!==null){var w=ln();Dr(f,u,1,w)}Pc(u,1)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=er(u),w=di(u,f);if(w!==null){var E=ln();Dr(w,u,f,E)}Pc(u,f)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var w=to(f.pendingLanes);w!==0&&(Xn(f,w|1),Mr(f,Pn()),(wt&6)===0&&(Gt(),Sn()))}break;case 13:xp(function(){var E=di(u,1);if(E!==null){var N=ln();Dr(E,u,1,N)}}),Pc(u,1)}},n.batchedUpdates=function(u,f){var w=wt;wt|=1;try{return u(f)}finally{wt=w,wt===0&&(Gt(),Jo&&Sn())}},n.createComponentSelector=function(u){return{$$typeof:ho,value:u}},n.createContainer=function(u,f,w,E,N,O,Y){return Tp(u,f,!1,null,w,E,N,O,Y)},n.createHasPseudoClassSelector=function(u){return{$$typeof:Kr,value:u}},n.createHydrationContainer=function(u,f,w,E,N,O,Y,ae,ve){return u=Tp(w,E,!0,u,N,O,Y,ae,ve),u.context=Oh(null),w=u.current,E=ln(),N=er(w),O=oo(E,N),O.callback=f??null,ao(w,O,N),u.current.lanes=N,os(u,N,E),Mr(u,E),u},n.createPortal=function(u,f,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:u,containerInfo:f,implementation:w}},n.createRoleSelector=function(u){return{$$typeof:Ii,value:u}},n.createTestNameSelector=function(u){return{$$typeof:yc,value:u}},n.createTextSelector=function(u){return{$$typeof:rd,value:u}},n.deferredUpdates=function(u){var f=kt,w=Cn.transition;try{return Cn.transition=null,kt=16,u()}finally{kt=f,Cn.transition=w}},n.discreteUpdates=function(u,f,w,E,N){var O=kt,Y=Cn.transition;try{return Cn.transition=null,kt=1,u(f,w,E,N)}finally{kt=O,Cn.transition=Y,wt===0&&Gt()}},n.findAllNodes=Mi,n.findBoundingRects=function(u,f){if(!sn)throw Error(o(363));f=Mi(u,f),u=[];for(var w=0;w<f.length;w++)u.push(Nu(f[w]));for(f=u.length-1;0<f;f--){w=u[f];for(var E=w.x,N=E+w.width,O=w.y,Y=O+w.height,ae=f-1;0<=ae;ae--)if(f!==ae){var ve=u[ae],Ie=ve.x,Qe=Ie+ve.width,yt=ve.y,$e=yt+ve.height;if(E>=Ie&&O>=yt&&N<=Qe&&Y<=$e){u.splice(f,1);break}else if(E!==Ie||w.width!==ve.width||$e<O||yt>Y){if(!(O!==yt||w.height!==ve.height||Qe<E||Ie>N)){Ie>E&&(ve.width+=Ie-E,ve.x=E),Qe<N&&(ve.width=N-Ie),u.splice(f,1);break}}else{yt>O&&(ve.height+=yt-O,ve.y=O),$e<Y&&(ve.height=Y-yt),u.splice(f,1);break}}}return u},n.findHostInstance=_l,n.findHostInstanceWithNoPortals=function(u){return u=H(u),u=u!==null?ie(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return _l(u)},n.flushControlled=function(u){var f=wt;wt|=1;var w=Cn.transition,E=kt;try{Cn.transition=null,kt=1,u()}finally{kt=E,Cn.transition=w,wt=f,wt===0&&(Gt(),Sn())}},n.flushPassiveEffects=mo,n.flushSync=xp,n.focusWithin=function(u,f){if(!sn)throw Error(o(363));for(u=ji(u),f=Di(u,f),f=Array.from(f),u=0;u<f.length;){var w=f[u++];if(!Lo(w)){if(w.tag===5&&Pu(w.stateNode))return!0;for(w=w.child;w!==null;)f.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return kt},n.getFindAllNodesFailureDescription=function(u,f){if(!sn)throw Error(o(363));var w=0,E=[];u=[ji(u),0];for(var N=0;N<u.length;){var O=u[N++],Y=u[N++],ae=f[Y];if((O.tag!==5||!Lo(O))&&(sd(O,ae)&&(E.push(Nh(ae)),Y++,Y>w&&(w=Y)),Y<f.length))for(O=O.child;O!==null;)u.push(O,Y),O=O.sibling}if(w<f.length){for(u=[];w<f.length;w++)u.push(Nh(f[w]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ue(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:iv,findFiberByHostInstance:u.findFiberByHostInstance||zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{li=f.inject(u),xr=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,w,E){if(!sn)throw Error(o(363));u=Mi(u,f);var N=Kl(u,w,E).disconnect;return{disconnect:function(){N()}}},n.registerMutableSourceForHydration=function(u,f){var w=f._getVersion;w=w(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,w]:u.mutableSourceEagerHydrationData.push(f,w)},n.runWithPriority=function(u,f){var w=kt;try{return kt=u,f()}finally{kt=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,w,E){var N=f.current,O=ln(),Y=er(N);return w=Oh(w),f.context===null?f.context=w:f.pendingContext=w,f=oo(O,Y),f.payload={element:u},E=E===void 0?null:E,E!==null&&(f.callback=E),u=ao(N,f,Y),u!==null&&(Dr(u,N,Y,O),Hu(u,N,Y)),Y},n}),Ax}var kE;function Bse(){return kE||(kE=1,Rx.exports=zse()),Rx.exports}var Use=Bse();const $se=Hm(Use);var Ix={exports:{}},Fc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Hse(){return PE||(PE=1,Fc.ConcurrentRoot=1,Fc.ContinuousEventPriority=4,Fc.DefaultEventPriority=16,Fc.DiscreteEventPriority=1,Fc.IdleEventPriority=536870912,Fc.LegacyRoot=0),Fc}var RE;function Wse(){return RE||(RE=1,Ix.exports=Hse()),Ix.exports}var pA=Wse();const AE={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let IE=!1,jE=!1;const Lb=".react-konva-event",Gse=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,qse=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Kse={};function tv(t,e,n=Kse){if(!IE&&"zIndex"in e&&(console.warn(qse),IE=!0),!jE&&e.draggable){var r=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;r&&!s&&(console.warn(Gse),jE=!0)}for(var i in n)if(!AE[i]){var o=i.slice(0,2)==="on",l=n[i]!==e[i];if(o&&l){var d=i.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t.off(d,n[i])}var p=!e.hasOwnProperty(i);p&&t.setAttr(i,void 0)}var m=e._useStrictMode,y={},v=!1;const S={};for(var i in e)if(!AE[i]){var o=i.slice(0,2)==="on",C=n[i]!==e[i];if(o&&C){var d=i.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e[i]&&(S[d]=e[i])}!o&&(e[i]!==n[i]||m&&e[i]!==t.getAttr(i))&&(v=!0,y[i]=e[i])}v&&(t.setAttrs(y),Tu(t));for(var d in S)t.on(d+Lb,S[d])}function Tu(t){if(!Ve.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var jx=gw();const mA={},Yse={};Ld.Node.prototype._applyProps=tv;function Xse(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Tu(t)}function Qse(t,e,n){let r=Ld[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Ld.Group);const s={},i={};for(var o in e){var l=o.slice(0,2)==="on";l?i[o]=e[o]:s[o]=e[o]}const d=new r(s);return tv(d,i),d}function Jse(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Zse(t,e,n){return!1}function eie(t){return t}function tie(){return null}function nie(){return null}function rie(t,e,n,r){return Yse}function sie(){}function iie(t){}function oie(t,e){return!1}function aie(){return mA}function lie(){return mA}const cie=setTimeout,uie=clearTimeout,die=-1;function hie(t,e){return!1}const fie=!1,pie=!0,mie=!0;function gie(t,e){e.parent===t?e.moveToTop():t.add(e),Tu(t)}function yie(t,e){e.parent===t?e.moveToTop():t.add(e),Tu(t)}function gA(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Tu(t)}function vie(t,e,n){gA(t,e,n)}function xie(t,e){e.destroy(),e.off(Lb),Tu(t)}function wie(t,e){e.destroy(),e.off(Lb),Tu(t)}function _ie(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function bie(t,e,n){}function Sie(t,e,n,r,s){tv(t,s,r)}function Eie(t){t.hide(),Tu(t)}function Cie(t){}function Tie(t,e){(e.visible==null||e.visible)&&t.show()}function Nie(t,e){}function kie(t){}function Pie(){}const Rie=()=>pA.DefaultEventPriority,Aie=Object.freeze(Object.defineProperty({__proto__:null,appendChild:gie,appendChildToContainer:yie,appendInitialChild:Xse,cancelTimeout:uie,clearContainer:kie,commitMount:bie,commitTextUpdate:_ie,commitUpdate:Sie,createInstance:Qse,createTextInstance:Jse,detachDeletedInstance:Pie,finalizeInitialChildren:Zse,getChildHostContext:lie,getCurrentEventPriority:Rie,getPublicInstance:eie,getRootHostContext:aie,hideInstance:Eie,hideTextInstance:Cie,idlePriority:jx.unstable_IdlePriority,insertBefore:gA,insertInContainerBefore:vie,isPrimaryRenderer:fie,noTimeout:die,now:jx.unstable_now,prepareForCommit:tie,preparePortalMount:nie,prepareUpdate:rie,removeChild:xie,removeChildFromContainer:wie,resetAfterCommit:sie,resetTextContent:iie,run:jx.unstable_runWithPriority,scheduleTimeout:cie,shouldDeprioritizeSubtree:oie,shouldSetTextContent:hie,supportsMutation:mie,unhideInstance:Tie,unhideTextInstance:Nie,warnsIfNotActing:pie},Symbol.toStringTag,{value:"Module"}));var Iie=Object.defineProperty,jie=Object.defineProperties,Die=Object.getOwnPropertyDescriptors,DE=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Oie=Object.prototype.propertyIsEnumerable,ME=(t,e,n)=>e in t?Iie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OE=(t,e)=>{for(var n in e||(e={}))Mie.call(e,n)&&ME(t,n,e[n]);if(DE)for(var n of DE(e))Oie.call(e,n)&&ME(t,n,e[n]);return t},Lie=(t,e)=>jie(t,Die(e)),LE,VE;typeof window<"u"&&((LE=window.document)!=null&&LE.createElement||((VE=window.navigator)==null?void 0:VE.product)==="ReactNative")?b.useLayoutEffect:b.useEffect;function yA(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const s=yA(r,e,n);if(s)return s;r=r.sibling}}function vA(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const FE=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=FE;return}return FE.apply(this,arguments)};const Vb=vA(b.createContext(null));class xA extends b.Component{render(){return b.createElement(Vb.Provider,{value:this._reactInternals},this.props.children)}}function Vie(){const t=b.useContext(Vb);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=b.useId();return b.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const s=yA(r,!1,i=>{let o=i.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(s)return s}},[t,e])}function Fie(){const t=Vie(),[e]=b.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const s=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;s&&s!==Vb&&!e.has(s)&&e.set(s,b.useContext(vA(s)))}n=n.return}return e}function zie(){const t=Fie();return b.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>b.createElement(e,null,b.createElement(n.Provider,Lie(OE({},r),{value:t.get(n)}))),e=>b.createElement(xA,OE({},e))),[t])}function Bie(t){const e=Et.useRef({});return Et.useLayoutEffect(()=>{e.current=t}),Et.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Uie=t=>{const e=Et.useRef(null),n=Et.useRef(null),r=Et.useRef(null),s=Bie(t),i=zie(),o=l=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(l):d.current=l)};return Et.useLayoutEffect(()=>(n.current=new Ld.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=nm.createContainer(n.current,pA.LegacyRoot,!1,null),nm.updateContainer(Et.createElement(i,{},t.children),r.current),()=>{Ld.isBrowser&&(o(null),nm.updateContainer(null,r.current,null),n.current.destroy())}),[]),Et.useLayoutEffect(()=>{o(n.current),tv(n.current,t,s),nm.updateContainer(Et.createElement(i,{},t.children),r.current,null)}),Et.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},$ie="Layer",wA="Rect",Hie="Circle",Wie="Image",Gie="Text",qie="Star",Fb="Transformer",nm=$se(Aie);nm.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Et.version,rendererPackageName:"react-konva"});const Kie=Et.forwardRef((t,e)=>Et.createElement(xA,{},Et.createElement(Uie,{...t,forwardedRef:e})));var Dx,zE;function Yie(){if(zE)return Dx;zE=1;var t=Wm();return Dx=function(n,r,s){const i=t.useRef("loading"),o=t.useRef(),[l,d]=t.useState(0),p=t.useRef(),m=t.useRef(),y=t.useRef();return(p.current!==n||m.current!==r||y.current!==s)&&(i.current="loading",o.current=void 0,p.current=n,m.current=r,y.current=s),t.useLayoutEffect(function(){if(!n)return;var v=document.createElement("img");function S(){v.decode().catch(()=>{}).finally(()=>{i.current="loaded",o.current=v,d(Math.random())})}function C(){i.current="failed",o.current=void 0,d(Math.random())}return v.addEventListener("load",S),v.addEventListener("error",C),r&&(v.crossOrigin=r),s&&(v.referrerPolicy=s),v.src=n,function(){v.removeEventListener("load",S),v.removeEventListener("error",C)}},[n,r,s]),[o.current,i.current]},Dx}var Xie=Yie();const Qie=Hm(Xie),Jie=({imageObj:t,isSelected:e,onSelect:n,onChange:r})=>{const[s]=Qie(t.src,"anonymous"),i=b.useRef(),o=b.useRef();return b.useEffect(()=>{e&&o.current&&i.current&&(o.current.nodes([i.current]),o.current.getLayer().batchDraw())},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Wie,{image:s,ref:i,...t,draggable:!0,onClick:n,onTap:n,onDragEnd:l=>{r({...t,x:l.target.x(),y:l.target.y()})},onTransformEnd:l=>{const d=i.current,p=d.scaleX(),m=d.scaleY();r({...t,x:d.x(),y:d.y(),rotation:d.rotation(),scaleX:p,scaleY:m})}}),e&&h.jsx(Fb,{ref:o,boundBoxFunc:(l,d)=>d.width<5||d.height<5?l:d})]})},Zie=({textObj:t,isSelected:e,onSelect:n,onChange:r})=>{const s=b.useRef(),i=b.useRef();return b.useEffect(()=>{e&&i.current&&s.current&&(i.current.nodes([s.current]),i.current.getLayer().batchDraw())},[e]),h.jsxs(h.Fragment,{children:[h.jsx(Gie,{ref:s,...t,draggable:!0,onClick:n,onTap:n,onDragEnd:o=>{r({...t,x:o.target.x(),y:o.target.y()})},onTransformEnd:o=>{const l=s.current;r({...t,x:l.x(),y:l.y(),rotation:l.rotation(),scaleX:l.scaleX(),scaleY:l.scaleY()})}}),e&&h.jsx(Fb,{ref:i,enabledAnchors:["middle-left","middle-right","top-left","top-right","bottom-left","bottom-right"]})]})},eoe=({shapeObj:t,isSelected:e,onSelect:n,onChange:r})=>{const s=b.useRef(),i=b.useRef();b.useEffect(()=>{e&&i.current&&s.current&&(i.current.nodes([s.current]),i.current.getLayer().batchDraw())},[e]);const o={...t,draggable:!0,onClick:n,onTap:n,onDragEnd:l=>r({...t,x:l.target.x(),y:l.target.y()}),onTransformEnd:l=>{const d=s.current;r({...t,x:d.x(),y:d.y(),rotation:d.rotation(),scaleX:d.scaleX(),scaleY:d.scaleY()})}};return h.jsxs(h.Fragment,{children:[t.subtype==="rect"&&h.jsx(wA,{ref:s,...o}),t.subtype==="circle"&&h.jsx(Hie,{ref:s,...o}),t.subtype==="star"&&h.jsx(qie,{ref:s,...o,numPoints:5,innerRadius:20,outerRadius:40}),e&&h.jsx(Fb,{ref:i,boundBoxFunc:(l,d)=>d.width<5||d.height<5?l:d})]})};function toe(){const t=b.useRef(null),e=b.useRef(null),{canvasSpecs:n,orientation:r,objects:s,selectedId:i,selectObject:o,updateObject:l,setStageScale:d,stageScale:p}=X1(),m=r==="landscape"?Math.max(n.width,n.height):Math.min(n.width,n.height),y=r==="landscape"?Math.min(n.width,n.height):Math.max(n.width,n.height);b.useEffect(()=>{const S=()=>{if(!t.current)return;const k=t.current.offsetWidth,P=t.current.offsetHeight;if(k===0||P===0)return;const M=60,j=Math.max(100,k-M*2),D=Math.max(100,P-M*2),V=j/m,G=D/y,J=Math.min(V,G,1);J>0&&isFinite(J)&&d(J)};S();const C=new ResizeObserver(()=>{S()});return C.observe(t.current),()=>C.disconnect()},[m,y,d]);const v=S=>{S.target===S.target.getStage()&&o(null)};return h.jsxs("div",{ref:t,className:"w-full h-full bg-[#1a1a1a] flex items-center justify-center overflow-hidden relative",children:[h.jsx("div",{style:{width:m*p,height:y*p,boxShadow:"0 0 20px rgba(0,0,0,0.5)",position:"relative"},children:h.jsx("div",{style:{transform:`scale(${p})`,transformOrigin:"top left",width:m,height:y},children:h.jsx(Kie,{width:m,height:y,onMouseDown:v,onTouchStart:v,ref:e,className:"bg-white",id:"collage-stage",children:h.jsxs($ie,{children:[h.jsx(wA,{width:m,height:y,fill:"white",shadowColor:"black",shadowBlur:10,shadowOpacity:.1}),s.map(S=>S.type==="image"?h.jsx(Jie,{imageObj:S,isSelected:S.id===i,onSelect:()=>o(S.id),onChange:C=>l(S.id,C)},S.id):S.type==="text"?h.jsx(Zie,{textObj:S,isSelected:S.id===i,onSelect:()=>o(S.id),onChange:C=>l(S.id,C)},S.id):S.type==="shape"?h.jsx(eoe,{shapeObj:S,isSelected:S.id===i,onSelect:()=>o(S.id),onChange:C=>l(S.id,C)},S.id):null)]})})})}),h.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-2 py-1 rounded text-xs z-10 pointer-events-none",children:[Math.round(p*100),"%"]})]})}function noe(){return h.jsxs("div",{className:"flex flex-col h-screen bg-[#1a1a1a] overflow-hidden",children:[h.jsx(Xte,{}),h.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[h.jsx(Jte,{}),h.jsx("main",{className:"flex-1 relative",children:h.jsx(toe,{})}),h.jsx(yne,{})]})]})}function _A(){return h.jsx(noe,{})}function bA(){Et.useEffect(()=>{document.title=" -     ,    |   ";let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild(r)),r.setAttribute("content","    -0.7  !   ,   .   ,  .   -    !");let s=document.querySelector('meta[name="keywords"]');s||(s=document.createElement("meta"),s.setAttribute("name","keywords"),document.getElementsByTagName("head")[0].appendChild(s)),s.setAttribute("content"," , Blocklick, Block Click, ,  ,   ,   ,  ,    ,    ,  , ,  ,     ,   ,   ,   ,  , ,  ,  ,  ,  ,   ,  ,   ,   ,  ,   ,  ,  ,  ,  ,   ,   ,   ,  ,  ,   ,  ,   ,   ,   ,   ,  ,  ,  , ' ,  ,  ,  ,   ,   ,   ,  ,   ,  ,    ,   ,    ,   ");let i=document.querySelector('link[rel="canonical"]');i||(i=document.createElement("link"),i.setAttribute("rel","canonical"),document.getElementsByTagName("head")[0].appendChild(i)),i.setAttribute("href","https://blocklick.base44.app");let o=document.querySelector('meta[name="robots"]');o||(o=document.createElement("meta"),o.setAttribute("name","robots"),document.getElementsByTagName("head")[0].appendChild(o)),o.setAttribute("content","index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1");let l=document.querySelector('meta[name="author"]');l||(l=document.createElement("meta"),l.setAttribute("name","author"),document.getElementsByTagName("head")[0].appendChild(l)),l.setAttribute("content"," -  ")},[]);const t=()=>{const r=document.getElementById("products-section");r&&r.scrollIntoView({behavior:"smooth"})},e=[{id:"blocks",title:" ",description:"     ",icon:ko,image:"https://base44.app/api/apps/685d8eb0c6e253c41e780e66/files/43f60a564_1000466182.png",link:"Blocks",price:" -18",features:["3  ","  "," "],gradient:"from-amber-500 to-orange-600",bgGradient:"from-amber-50 to-orange-50",buttonText:" "},{id:"magnets",title:"",description:"   ",icon:h_,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/7f3ae4253_file_00000000f0d461fdb442a0931b03709a.png",link:"Magnets",price:" -2.5",features:["  "," "," "],gradient:"from-blue-500 to-purple-600",bgGradient:"from-blue-50 to-purple-50",buttonText:" "},{id:"photos",title:" ",description:"  ",icon:sg,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/e0aad6f6b_file_0000000078ec61fdb8b3d63cfad53c171.png",link:"Photos",price:" -0.7",features:["  ","3  ","  "],gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",buttonText:" "}],n=[{icon:KT,title:" ",desc:"    ",gradient:"from-yellow-500 to-orange-600",bgColor:"from-yellow-50 to-orange-50"},{icon:eU,title:" ",desc:"    3  ",gradient:"from-blue-500 to-cyan-600",bgColor:"from-blue-50 to-cyan-50"},{icon:Fz,title:" ",desc:"    ",gradient:"from-pink-500 to-red-600",bgColor:"from-pink-50 to-red-50"}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white font-sans",children:[h.jsxs("section",{className:"relative py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent)] opacity-20"}),h.jsx("div",{className:"container mx-auto px-6 relative z-10",children:h.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[h.jsx(J2,{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/a0d10edc6_LS20250728185756.png",alt:"",className:"w-16 h-16 md:w-20 md:h-20 object-contain"}),h.jsx("h1",{className:"text-6xl md:text-8xl font-bold bg-gradient-to-r from-white via-amber-200 to-orange-300 bg-clip-text text-transparent leading-tight",children:""})]}),h.jsx("p",{className:"text-2xl md:text-3xl text-slate-300 mb-4 leading-relaxed font-light",children:"    ,  "}),h.jsx("p",{className:"text-xl text-amber-300 font-medium mb-6",children:"     "}),h.jsx("p",{className:"text-base text-amber-300 font-medium mb-6",children:"   "})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:h.jsxs(Ke,{onClick:t,size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-12 py-6 text-xl font-bold rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 font-sans",children:["   ",h.jsx(ez,{className:"mr-3 h-6 w-6"})]})})]})})]}),h.jsx("section",{id:"products-section",className:"py-12 bg-white",children:h.jsx("div",{className:"container mx-auto px-6",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e.map((r,s)=>{const i=r.icon;return h.jsx(Ee.div,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.2},transition:{delay:s*.1,duration:.4,ease:[.25,.46,.45,.94]},whileHover:{y:-8,scale:1.02,transition:{duration:.3}},className:"group",children:h.jsxs("div",{className:`bg-gradient-to-br ${r.bgGradient} rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 border border-white/50 backdrop-blur-sm h-full flex flex-col`,children:[h.jsxs(Ee.div,{className:"relative mb-6 rounded-2xl overflow-hidden bg-white shadow-lg",whileHover:{scale:1.02},transition:{duration:.3},children:[h.jsx("div",{className:"w-full h-48 overflow-hidden",children:h.jsx(J2,{src:r.image,alt:r.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(Ee.div,{className:`w-12 h-12 bg-gradient-to-r ${r.gradient} rounded-xl flex items-center justify-center shadow-lg`,whileHover:{rotate:10,scale:1.1},transition:{duration:.2},children:h.jsx(i,{className:"h-6 w-6 text-white"})})})]}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx("h3",{className:"text-2xl font-medium text-slate-900 mb-3",children:r.title}),h.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed flex-1 text-base",children:r.description}),h.jsx("div",{className:`text-3xl font-medium bg-gradient-to-r ${r.gradient} bg-clip-text text-transparent mb-6`,children:r.price}),h.jsx("div",{className:"space-y-3 mb-8",children:r.features.map((o,l)=>h.jsxs(Ee.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{delay:s*.1+l*.05+.2},children:[h.jsx(Ls,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),h.jsx("span",{className:"text-slate-700 text-base font-normal",children:o})]},l))}),h.jsx(mr,{to:Mn(r.link),className:"mt-auto",children:h.jsx(Ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsxs(Ke,{className:`w-full bg-gradient-to-r ${r.gradient} hover:shadow-xl text-white py-5 text-lg font-medium rounded-xl shadow-lg transition-all duration-300 group flex items-center justify-center gap-3`,children:[h.jsx("span",{children:r.buttonText}),h.jsx(m1,{className:"h-5 w-5 transition-transform group-hover:-translate-x-1 flex-shrink-0"})]})})})]})]})},r.id)})})})}),h.jsx("section",{className:"py-16 bg-gradient-to-br from-slate-50 to-white",children:h.jsxs("div",{className:"container mx-auto px-6",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.4},className:"text-center mb-12",children:[h.jsx("h2",{className:"text-5xl font-bold text-slate-900 mb-8 font-sans",children:"  ?"}),h.jsx("p",{className:"text-2xl text-slate-600 max-w-3xl mx-auto font-light",children:"          "})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:n.map((r,s)=>h.jsxs(Ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{delay:s*.1,duration:.3},whileHover:{y:-12,scale:1.03},className:`text-center group p-10 rounded-3xl bg-gradient-to-br ${r.bgColor} shadow-xl hover:shadow-2xl transition-all duration-500 border border-white/50`,children:[h.jsx(Ee.div,{whileHover:{scale:1.2,rotate:10},transition:{type:"spring",stiffness:300},className:`w-24 h-24 bg-gradient-to-r ${r.gradient} rounded-full flex items-center justify-center mx-auto mb-8 group-hover:shadow-2xl transition-all duration-300`,children:h.jsx(r.icon,{className:"h-12 w-12 text-white"})}),h.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-6 group-hover:text-slate-800 transition-colors duration-300 font-sans",children:r.title}),h.jsx("p",{className:"text-slate-600 leading-relaxed text-xl font-light",children:r.desc})]},s))})]})}),h.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white",children:h.jsx("div",{className:"container mx-auto px-6 text-center",children:h.jsxs(Ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.4},className:"max-w-5xl mx-auto",children:[h.jsx("h2",{className:"text-5xl md:text-6xl font-medium mb-8 font-sans",children:"  ?"}),h.jsx("p",{className:"text-2xl text-slate-300 mb-12 leading-relaxed font-light",children:"    "}),h.jsxs(Ke,{onClick:t,size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-16 py-8 text-2xl font-medium rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 font-sans",children:[" ",h.jsx(sz,{className:"mr-4 h-7 w-7"})]})]})})})]})}const roe=[{id:"7.5x10",name:'7.510 "',price:2.5,icon:eu,description:" ",ratio:7.5/10,shape:"rectangle",popular:!1},{id:"10x15",name:'1015 "',price:4,icon:eu,description:" ",ratio:10/15,shape:"rectangle",popular:!0},{id:"15x20",name:'1520 "',price:6,icon:eu,description:" ",ratio:15/20,shape:"rectangle",popular:!1}];function soe({selectedSize:t,onSizeSelect:e}){const[n,r]=b.useState(null);return h.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-normal text-slate-900 mb-2",children:" "}),h.jsx("p",{className:"text-base md:text-lg text-slate-600 font-light",children:"  "})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:roe.map((s,i)=>{const o=t===s.id,l=n===s.id;return h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},onHoverStart:()=>r(s.id),onHoverEnd:()=>r(null),className:"relative",children:[s.popular&&h.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"absolute -top-2 -right-2 z-10 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs md:text-sm font-medium px-2 md:px-3 py-1 rounded-full shadow-xl",children:""}),h.jsxs("button",{onClick:()=>e(s.id,s.price),className:`w-full p-4 md:p-6 rounded-2xl md:rounded-3xl border-2 transition-all duration-500 text-center group relative overflow-hidden ${o?"border-blue-400 bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 shadow-xl ring-2 ring-blue-200/50":"border-slate-200 bg-white hover:border-blue-300 hover:shadow-lg hover:bg-gradient-to-br hover:from-slate-50 hover:to-blue-50"}`,children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-blue-400/20 to-purple-400/20 opacity-0 transition-opacity duration-500 ${o||l?"opacity-100":""}`}),o&&h.jsx(Ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute top-3 left-3 w-6 h-6 md:w-8 md:h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:h.jsx(Of,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),h.jsxs("div",{className:"relative z-10 space-y-4",children:[h.jsx("div",{className:"flex justify-center",children:h.jsxs(Ee.div,{whileHover:{rotateY:8,rotateX:4},transition:{type:"spring",stiffness:300},className:`relative bg-gradient-to-br from-blue-200 via-blue-300 to-blue-400 rounded-lg shadow-2xl border-2 border-white ${s.id==="7.5x10"?"w-20 h-15 md:w-24 md:h-18":s.id==="10x15"?"w-30 h-20 md:w-36 md:h-24":"w-32 h-24 md:w-38 md:h-28"}`,style:{aspectRatio:1/s.ratio,boxShadow:"0 10px 25px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.2)"},children:[h.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-500 to-red-600 rounded-full shadow-md"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx(h_,{className:`text-blue-700 opacity-60 ${s.id==="7.5x10"?"h-4 w-4 md:h-5 md:w-5":s.id==="10x15"?"h-6 w-6 md:h-7 md:w-7":"h-7 w-7 md:h-8 md:w-8"}`})})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:`text-lg md:text-xl font-medium transition-all duration-300 ${o?"text-blue-900":"text-slate-800 group-hover:text-blue-800"}`,children:s.name}),h.jsxs(Ee.div,{animate:{scale:o?1.05:1},className:`text-2xl md:text-3xl font-bold transition-all duration-300 ${o?"text-blue-600":"text-slate-700 group-hover:text-blue-600"}`,children:["",s.price]}),h.jsx("p",{className:`text-sm md:text-base transition-all duration-300 ${o?"text-blue-700":"text-slate-500 group-hover:text-blue-600"}`,children:s.description})]}),h.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:l||o?1:0,y:l||o?0:10},transition:{duration:.3},className:"text-blue-600 font-medium text-sm",children:o?" ":" "})]})]})]},s.id)})})]})}const ioe={initial:{opacity:0,y:20,scale:.98},in:{opacity:1,y:0,scale:1},out:{opacity:0,y:-20,scale:1.02}},ooe={type:"tween",ease:"anticipate",duration:.6},aoe={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut",delay:.2}}},BE=[{id:1,title:" ",icon:f_},{id:2,title:" ",icon:g1},{id:3,title:" ",icon:y1}];function SA(){const[t,e]=b.useState(1),[n,r]=b.useState(""),[s,i]=b.useState(0),[o,l]=b.useState([]),[d,p]=b.useState(""),[m,y]=b.useState(!1),[v,S]=b.useState(new Set),[C,k]=b.useState("magnet"),[P,M]=b.useState(1),[j,D]=b.useState(1),{addToCart:V}=Lf();b.useEffect(()=>{document.title="  -     | ";let ne=document.querySelector('meta[name="description"]');ne||(ne=document.createElement("meta"),ne.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild(ne)),ne.setAttribute("content","    -2.5.    .     .  !")},[]);const G=b.useCallback((ne,K,te="magnet",Q=1,q=1)=>{r(ne),i(K),k("magnet"),M(1),D(1),e(2),p("")},[]),J=b.useCallback(async ne=>{if(v.has(ne.id)||ne.isUploaded)return;S(te=>new Set([...te,ne.id])),l(te=>te.map(Q=>Q.id===ne.id?{...Q,isUploading:!0,uploadProgress:0,uploadError:null}:Q));const K=setInterval(()=>{l(te=>te.map(Q=>{if(Q.id===ne.id&&Q.isUploading&&(Q.uploadProgress||0)<90){const q=Math.max(1,(90-(Q.uploadProgress||0))/10);return{...Q,uploadProgress:(Q.uploadProgress||0)+q}}return Q}))},200);try{const te=ne.file,Q=n.replace("x","").replace(".",""),q="M",re=te.name.replace(/\.[^/.]+$/,""),_e=te.name.split(".").pop(),ke=`${q}${Q}_${re}.${_e}`,Je=new File([te],ke,{type:te.type});let Ue=null,xe=null;for(let Ce=1;Ce<=3;Ce++)try{if(Ce>1&&console.log(`Retry attempt ${Ce} for ${ne.name}`),Ue=await kb({file:Je}),Ue!=null&&Ue.file_url)break}catch(je){console.warn(`Upload attempt ${Ce} failed:`,je),xe=je,Ce<3&&await new Promise(Xe=>setTimeout(Xe,1e3*Ce))}if(!(Ue!=null&&Ue.file_url))throw xe||new Error(`  '${ne.name}' `);clearInterval(K),l(Ce=>Ce.map(je=>je.id===ne.id?{...je,uploaded_url:Ue.file_url,isUploaded:!0,isUploading:!1,uploadProgress:100,uploadError:null}:je))}catch(te){clearInterval(K),console.error("Upload failed:",te),l(Q=>Q.map(q=>q.id===ne.id?{...q,isUploaded:!1,isUploading:!1,uploadProgress:0,uploadError:" "}:q))}finally{clearInterval(K),S(te=>{const Q=new Set(te);return Q.delete(ne.id),Q})}},[v,n]),B=b.useCallback(ne=>{l(ne),n&&ne.forEach(K=>{!K.isUploaded&&!K.uploadError&&!v.has(K.id)&&!K.isUploading&&setTimeout(()=>J(K),Math.random()*200)})},[n,J,v]),R=b.useCallback(ne=>{l(K=>{const te=K.filter(Q=>Q.id!==ne.id);return ne.url&&ne.url.startsWith("blob:")&&URL.revokeObjectURL(ne.url),te}),S(K=>{const te=new Set(K);return te.delete(ne.id),te})},[]),F=b.useCallback((ne,K)=>{l(te=>te.map(Q=>Q.id===ne?{...Q,quantity:Math.max(1,Q.quantity+K)}:Q))},[]),z=b.useCallback(async()=>{if(o.length===0){p("     ");return}if(o.filter(te=>!te.isUploaded).length>0){p("   ...");return}if(o.filter(te=>te.uploadError).length>0){p("   .       .");return}y(!0),p("");try{for(const te of o){if(!te.uploaded_url)throw new Error(` ${te.name}    ( URL)`);for(let Q=0;Q<te.quantity;Q++)V({type:"magnet",image_url:te.uploaded_url,size:n,price:s,quantity:1})}e(3),l([])}catch(te){console.error("Error adding items to cart:",te),p(`  : ${te.message||te}`)}finally{y(!1)}},[o,n,s,V]),H=b.useCallback(()=>{if(t===1){window.location.href=Mn("Home");return}t===2?e(1):t===3&&e(2)},[t]),$=b.useMemo(()=>o.reduce((ne,K)=>ne+K.quantity,0),[o]),U=b.useMemo(()=>o.reduce((ne,K)=>ne+s*K.quantity,0),[o,s]),ie=v.size>0,de=o.length>0&&o.every(ne=>ne.isUploaded&&!ne.uploadError)&&!ie&&!m,ue=b.useCallback(()=>{switch(n){case"7.5x10":return 7.5/10;case"10x15":return 10/15;case"15x20":return 15/20;default:return 1}},[n]);return h.jsxs(Ee.div,{initial:"initial",animate:"in",exit:"out",variants:ioe,transition:ooe,className:"min-h-screen bg-gradient-to-br from-slate-50 to-white font-sans",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/10"}),h.jsx("div",{className:"container mx-auto px-6 py-16 relative z-10",children:h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(h_,{className:"h-8 w-8 text-white"})}),h.jsx("h1",{className:"text-5xl md:text-6xl font-medium",children:""})]}),h.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"   "})]})})]}),h.jsx("div",{className:"bg-white border-b border-slate-100",children:h.jsx("div",{className:"container mx-auto px-6 py-6",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:BE.map((ne,K)=>{const te=t===ne.id,Q=t>ne.id,q=ne.icon;return h.jsxs(Et.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`relative w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${te?"bg-gradient-to-r from-blue-400 to-purple-500 shadow-md":Q?"bg-green-500 shadow-sm":"bg-slate-200"}`,children:h.jsx(q,{className:`h-5 w-5 ${te||Q?"text-white":"text-slate-500"}`})}),h.jsx("div",{className:"hidden md:block",children:h.jsx("p",{className:`text-sm font-medium ${te?"text-slate-900":"text-slate-600"}`,children:ne.title})})]}),K<BE.length-1&&h.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors duration-300 ${Q?"bg-green-400":"bg-slate-300"}`})]},ne.id)})})})})}),h.jsxs(Ee.div,{className:"container mx-auto px-6 py-12",variants:aoe,initial:"initial",animate:"animate",children:[d&&h.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:h.jsx(vu,{variant:"destructive",className:"mb-6 max-w-lg mx-auto",children:h.jsx(xu,{children:d})})}),h.jsxs(mu,{mode:"wait",children:[t===1&&h.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5,ease:"easeInOut"},className:"max-w-4xl mx-auto",children:h.jsx(soe,{onSizeSelect:G,selectedSize:n,productType:"magnet"})},"step1"),t===2&&h.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5,ease:"easeInOut"},className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h3",{className:"text-2xl md:text-3xl font-semibold text-slate-800",children:" "}),h.jsxs("p",{className:"text-slate-500 text-base md:text-lg font-light",children:["    ",n]})]}),h.jsx("div",{className:"text-center bg-blue-50 border border-blue-200 rounded-xl p-4 md:p-6 mb-6",children:h.jsxs("p",{className:"text-blue-800 font-medium text-base md:text-lg",children:["      ',        .    ",n==="7.5x10"?"3:4":n==="10x15"?"2:3":"3:4"]})}),h.jsx(Pb,{onImagesChange:B,selectedImages:o,maxFiles:999,removeImage:R,updateQuantity:F,productType:"magnet",selectedSize:n,aspectRatio:ue()}),o.length>0&&h.jsxs("div",{className:"space-y-4",children:[ie&&h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700",children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsxs("span",{children:[" ... (",v.size," )"]})]})}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl shadow-xl p-6",children:[h.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold mb-2",children:[h.jsx("span",{children:'" :'}),h.jsx("span",{children:$})]}),h.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[h.jsx("span",{children:'" :'}),h.jsxs("span",{children:["",U.toFixed(2)]})]})]})]})]})},"step2"),t===3&&h.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:.6,ease:"easeOut"},className:"max-w-2xl mx-auto",children:h.jsxs(Ee.div,{className:"bg-white rounded-2xl shadow-2xl p-8 text-center",initial:{y:20},animate:{y:0},transition:{delay:.2,duration:.5},children:[h.jsx(Ee.div,{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:h.jsx(Ls,{className:"h-8 w-8 text-green-600"})}),h.jsx(Ee.h3,{className:"text-2xl font-bold text-slate-800 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:"  !"}),h.jsx(Ee.p,{className:"text-slate-600 mb-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:"    "}),h.jsxs(Ee.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[h.jsx(mr,{to:Mn("Home"),children:h.jsxs(Ke,{variant:"outline",className:"w-full py-4 text-lg font-semibold rounded-xl",children:[h.jsx(d_,{className:"ml-2 h-5 w-5"}),"  "]})}),h.jsx(mr,{to:Mn("Cart"),children:h.jsxs(Ke,{className:"w-full py-4 text-lg font-semibold rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700",children:[h.jsx(ig,{className:"ml-2 h-5 w-5"}),"  "]})})]})]})},"step3")]}),h.jsxs(Ee.div,{className:"flex justify-between items-center max-w-4xl mx-auto mt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[h.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsxs(Ke,{onClick:H,variant:"outline",disabled:m||ie,className:"flex items-center space-x-2 rtl:space-x-reverse rounded-full px-6 py-2",children:[h.jsx(ky,{className:"h-4 w-4"}),h.jsx("span",{children:t===1?"  ":""})]})}),t===2&&h.jsx(Ee.div,{whileHover:{scale:de?1.05:1},whileTap:{scale:de?.95:1},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},children:h.jsx(Ke,{onClick:z,disabled:!de,className:`flex items-center space-x-2 rtl:space-x-reverse rounded-full px-6 py-2 ${de?"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:ie?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):m?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:" "}),h.jsx(m1,{className:"h-4 w-4"})]})})})]})]})]})}const loe=[{id:"7.5x10",name:'7.510 "',price:.7,icon:eu,description:" ",ratio:7.5/10,shape:"rectangle",popular:!1},{id:"10x15",name:'1015 "',price:1,icon:eu,description:" ",ratio:10/15,shape:"rectangle",popular:!0},{id:"15x20",name:'1520 "',price:2,icon:eu,description:" ",ratio:15/20,shape:"rectangle",popular:!1}];function coe({selectedSize:t,onSizeSelect:e}){const[n,r]=b.useState(null);return h.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-normal text-slate-900 mb-2",children:"  "}),h.jsx("p",{className:"text-base md:text-lg text-slate-600 font-light",children:"      "})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:loe.map((s,i)=>{const o=t===s.id,l=n===s.id;return h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},onHoverStart:()=>r(s.id),onHoverEnd:()=>r(null),className:"relative",children:[s.popular&&h.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"absolute -top-2 -right-2 z-10 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs md:text-sm font-medium px-2 md:px-3 py-1 rounded-full shadow-xl",children:""}),h.jsxs("button",{onClick:()=>e(s.id,s.price,s.ratio),className:`w-full p-4 md:p-6 rounded-2xl md:rounded-3xl border-2 transition-all duration-500 text-center group relative overflow-hidden ${o?"border-green-400 bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 shadow-xl ring-2 ring-green-200/50":"border-slate-200 bg-white hover:border-green-300 hover:shadow-lg hover:bg-gradient-to-br hover:from-slate-50 hover:to-green-50"}`,children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-green-400/20 to-emerald-400/20 opacity-0 transition-opacity duration-500 ${o||l?"opacity-100":""}`}),o&&h.jsx(Ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"absolute top-3 left-3 w-6 h-6 md:w-8 md:h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:h.jsx(Of,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),h.jsxs("div",{className:"relative z-10 space-y-4",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(Ee.div,{whileHover:{rotateY:8,rotateX:4},transition:{type:"spring",stiffness:300},className:`relative bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-lg shadow-2xl border-2 border-white ${s.id==="7.5x10"?"w-20 h-15 md:w-24 md:h-18":s.id==="10x15"?"w-30 h-20 md:w-36 md:h-24":"w-32 h-24 md:w-38 md:h-28"}`,style:{aspectRatio:1/s.ratio,background:`linear-gradient(135deg, 
                          #ffffff 0%, 
                          #f8fafc 25%, 
                          #f1f5f9 50%, 
                          #e2e8f0 75%, 
                          #cbd5e1 100%)`,boxShadow:"0 10px 25px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8)"},children:h.jsx("div",{className:"absolute inset-1 rounded-md bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:h.jsx(g1,{className:`text-gray-400 ${s.id==="7.5x10"?"h-4 w-4 md:h-5 md:w-5":s.id==="10x15"?"h-6 w-6 md:h-7 md:w-7":"h-7 w-7 md:h-8 md:w-8"}`})})})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:`text-lg md:text-xl font-medium transition-all duration-300 ${o?"text-green-900":"text-slate-800 group-hover:text-green-800"}`,children:s.name}),h.jsxs(Ee.div,{animate:{scale:o?1.05:1},className:`text-2xl md:text-3xl font-bold transition-all duration-300 ${o?"text-green-600":"text-slate-700 group-hover:text-green-600"}`,children:["",s.price]}),h.jsx("p",{className:`text-sm md:text-base transition-all duration-300 ${o?"text-green-700":"text-slate-500 group-hover:text-green-600"}`,children:s.description})]}),h.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:l||o?1:0,y:l||o?0:10},transition:{duration:.3},className:"text-green-600 font-medium text-sm",children:o?" ":" "})]})]})]},s.id)})})]})}const uoe={initial:{opacity:0,y:20,scale:.98},in:{opacity:1,y:0,scale:1},out:{opacity:0,y:-20,scale:1.02}},doe={type:"tween",ease:"anticipate",duration:.6},hoe={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut",delay:.2}}},UE=[{id:1,title:" ",icon:f_},{id:2,title:" ",icon:g1},{id:3,title:" ",icon:y1}];function EA(){const[t,e]=b.useState(1),[n,r]=b.useState(""),[s,i]=b.useState(0),[o,l]=b.useState([]),[d,p]=b.useState(""),[m,y]=b.useState(!1),[v,S]=b.useState(0),[C,k]=b.useState(new Set),{addToCart:P}=Lf();b.useEffect(()=>{document.title="   -  -0.7   | ";let $=document.querySelector('meta[name="description"]');$||($=document.createElement("meta"),$.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild($)),$.setAttribute("content","    -0.7!        .   ,  .  !")},[]);const M=b.useCallback(($,U)=>{r($),i(U),e(2),p("")},[]),j=b.useCallback(async $=>{if(C.has($.id)||$.isUploaded)return;k(ie=>new Set([...ie,$.id])),l(ie=>ie.map(de=>de.id===$.id?{...de,isUploading:!0,uploadProgress:0,uploadError:null}:de));const U=setInterval(()=>{l(ie=>ie.map(de=>{if(de.id===$.id&&de.isUploading&&(de.uploadProgress||0)<90){const ue=Math.max(1,(90-(de.uploadProgress||0))/10);return{...de,uploadProgress:(de.uploadProgress||0)+ue}}return de}))},200);try{const ie=$.file,de=n.replace("x","").replace(".",""),ue="P",ne=ie.name.replace(/\.[^/.]+$/,""),K=ie.name.split(".").pop(),te=`${ue}${de}_${ne}.${K}`,Q=new File([ie],te,{type:ie.type});let q=null,re=null;for(let _e=1;_e<=3;_e++)try{if(_e>1&&console.log(`Retry attempt ${_e} for ${$.name}`),q=await kb({file:Q}),q!=null&&q.file_url)break}catch(ke){console.warn(`Upload attempt ${_e} failed:`,ke),re=ke,_e<3&&await new Promise(Je=>setTimeout(Je,1e3*_e))}if(!(q!=null&&q.file_url))throw re||new Error(`  '${$.name}' `);clearInterval(U),l(_e=>_e.map(ke=>ke.id===$.id?{...ke,uploaded_url:q.file_url,isUploaded:!0,isUploading:!1,uploadProgress:100,uploadError:null}:ke))}catch(ie){clearInterval(U),console.error("Upload failed:",ie),l(de=>de.map(ue=>ue.id===$.id?{...ue,isUploaded:!1,isUploading:!1,uploadProgress:0,uploadError:" "}:ue))}finally{clearInterval(U),k(ie=>{const de=new Set(ie);return de.delete($.id),de})}},[C,n]),D=b.useCallback($=>{l($),n&&$.forEach(U=>{!U.isUploaded&&!U.uploadError&&!C.has(U.id)&&!U.isUploading&&setTimeout(()=>j(U),Math.random()*200)})},[n,j,C]),V=b.useCallback($=>{l(U=>{const ie=U.filter(de=>de.id!==$.id);return $.url&&$.url.startsWith("blob:")&&URL.revokeObjectURL($.url),ie}),k(U=>{const ie=new Set(U);return ie.delete($.id),ie})},[]),G=b.useCallback(($,U)=>{l(ie=>ie.map(de=>de.id===$?{...de,quantity:Math.max(1,(de.quantity||1)+U)}:de))},[]),J=b.useCallback(async()=>{if(o.length===0){p("     ");return}if(o.filter(ie=>!ie.isUploaded).length>0){p("   ...");return}if(o.filter(ie=>ie.uploadError).length>0){p("   .       .");return}y(!0),p("");try{for(const ie of o){if(!ie.uploaded_url)throw new Error(` ${ie.name}    ( URL)`);for(let de=0;de<(ie.quantity||1);de++)P({type:"photo",image_url:ie.uploaded_url,size:n,price:s,quantity:1})}e(3),l([])}catch(ie){console.error("Error adding photos to cart:",ie),p(`  : ${ie.message||ie}`)}finally{y(!1)}},[o,n,s,P]),B=b.useCallback(()=>{if(t===1){window.location.href=Mn("Home");return}t===2?e(1):t===3&&e(2)},[t]),R=b.useMemo(()=>o.reduce(($,U)=>$+(U.quantity||1),0),[o]),F=b.useMemo(()=>o.reduce(($,U)=>$+s*(U.quantity||1),0),[o,s]),z=C.size>0,H=o.length>0&&o.every($=>$.isUploaded&&!$.uploadError)&&!z&&!m&&n!=="";return h.jsxs(Ee.div,{initial:"initial",animate:"in",exit:"out",variants:uoe,transition:doe,className:"min-h-screen bg-gradient-to-br from-slate-50 to-white font-sans",children:[h.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/10"}),h.jsx("div",{className:"container mx-auto px-6 py-16 relative z-10",children:h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:h.jsx(sg,{className:"h-8 w-8 text-white"})}),h.jsx("h1",{className:"text-5xl md:text-6xl font-medium",children:" "})]}),h.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"     "})]})})]}),h.jsx("div",{className:"bg-white border-b border-slate-100",children:h.jsx("div",{className:"container mx-auto px-6 py-6",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:UE.map(($,U)=>{const ie=t===$.id,de=t>$.id,ue=$.icon;return h.jsxs(Et.Fragment,{children:[h.jsx("div",{className:`relative w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${ie?"bg-gradient-to-r from-green-400 to-emerald-500 shadow-md":de?"bg-green-500 shadow-sm":"bg-slate-200"}`,children:h.jsx(ue,{className:`h-5 w-5 ${ie||de?"text-white":"text-slate-500"}`})}),h.jsx("div",{className:"hidden md:block",children:h.jsx("p",{className:`text-sm font-medium ${ie?"text-slate-900":"text-slate-600"}`,children:$.title})}),U<UE.length-1&&h.jsx("div",{className:`w-8 h-0.5 rounded-full transition-colors duration-300 ${de?"bg-green-400":"bg-slate-300"}`})]},$.id)})})})})}),h.jsxs(Ee.div,{className:"container mx-auto px-6 py-12",variants:hoe,initial:"initial",animate:"animate",children:[d&&h.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:h.jsx(vu,{variant:"destructive",className:"mb-6 max-w-lg mx-auto",children:h.jsx(xu,{children:d})})}),h.jsxs(mu,{mode:"wait",children:[t===1&&h.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5,ease:"easeInOut"},className:"max-w-4xl mx-auto",children:h.jsx(coe,{selectedSize:n,onSizeSelect:M})},"step1"),t===2&&h.jsx(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5,ease:"easeInOut"},className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h3",{className:"text-2xl md:text-3xl font-semibold text-slate-800",children:" "}),h.jsxs("p",{className:"text-slate-500 text-base md:text-lg font-light",children:["    ",n]})]}),h.jsx("div",{className:"text-center bg-blue-50 border border-blue-200 rounded-xl p-4 md:p-6 mb-6",children:h.jsxs("p",{className:"text-blue-800 font-medium text-base md:text-lg",children:["      ',        .    ",n==="7.5x10"?"3:4":n==="10x15"?"2:3":"3:4"]})}),h.jsx(Pb,{onImagesChange:D,selectedImages:o,maxFiles:999,removeImage:V,updateQuantity:G,productType:"photo",selectedSize:n,aspectRatio:n==="7.5x10"?7.5/10:n==="10x15"?10/15:15/20}),o.length>0&&h.jsxs("div",{className:"space-y-4",children:[z&&h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700",children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsxs("span",{children:[" ... (",C.size," )"]})]})}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl shadow-xl p-6",children:[h.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold mb-2",children:[h.jsx("span",{children:'" :'}),h.jsx("span",{children:R})]}),h.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[h.jsx("span",{children:'" :'}),h.jsxs("span",{children:["",F.toFixed(2)]})]})]})]})]})},"step2"),t===3&&h.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:.6,ease:"easeOut"},className:"max-w-2xl mx-auto",children:h.jsxs(Ee.div,{className:"bg-white rounded-2xl shadow-2xl p-8 text-center",initial:{y:20},animate:{y:0},transition:{delay:.2,duration:.5},children:[h.jsx(Ee.div,{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:h.jsx(Ls,{className:"h-8 w-8 text-green-600"})}),h.jsx(Ee.h3,{className:"text-2xl font-bold text-slate-800 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:"  !"}),h.jsx(Ee.p,{className:"text-slate-600 mb-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:"    "}),h.jsxs(Ee.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[h.jsx(mr,{to:Mn("Home"),children:h.jsxs(Ke,{variant:"outline",className:"w-full py-4 text-lg font-semibold rounded-xl",children:[h.jsx(d_,{className:"ml-2 h-5 w-5"}),"  "]})}),h.jsx(mr,{to:Mn("Cart"),children:h.jsxs(Ke,{className:"w-full py-4 text-lg font-semibold rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700",children:[h.jsx(ig,{className:"ml-2 h-5 w-5"}),"  "]})})]})]})},"step3")]}),h.jsxs(Ee.div,{className:"flex justify-between items-center max-w-4xl mx-auto mt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[h.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsxs(Ke,{onClick:B,variant:"outline",disabled:m||z,className:"flex items-center space-x-2 rtl:space-x-reverse rounded-full px-6 py-2",children:[h.jsx(ky,{className:"h-4 w-4"}),h.jsx("span",{children:t===1?"  ":""})]})}),t===2&&h.jsx(Ee.div,{whileHover:{scale:H?1.05:1},whileTap:{scale:H?.95:1},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},children:h.jsx(Ke,{onClick:J,disabled:!H,className:`flex items-center space-x-2 rtl:space-x-reverse rounded-full px-6 py-2 ${H?"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:z?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):m?h.jsxs(h.Fragment,{children:[h.jsx(vs,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:" ..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:" "}),h.jsx(m1,{className:"h-4 w-4"})]})})})]})]})]})}const $E={AdminAnalytics:G2,AdminCoupons:l9,AdminOrders:y9,Blocks:v9,Cart:w9,Collage:_A,Home:bA,Magnets:SA,Photos:EA};function foe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys($E).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys($E)[0]}function poe(){const t=$l(),e=foe(t.pathname);return h.jsx(bJ,{currentPageName:e,children:h.jsxs(s7,{children:[h.jsx(wo,{path:"/",element:h.jsx(G2,{})}),h.jsx(wo,{path:"/AdminAnalytics",element:h.jsx(G2,{})}),h.jsx(wo,{path:"/AdminCoupons",element:h.jsx(l9,{})}),h.jsx(wo,{path:"/AdminOrders",element:h.jsx(y9,{})}),h.jsx(wo,{path:"/Blocks",element:h.jsx(v9,{})}),h.jsx(wo,{path:"/Cart",element:h.jsx(w9,{})}),h.jsx(wo,{path:"/Collage",element:h.jsx(_A,{})}),h.jsx(wo,{path:"/Home",element:h.jsx(bA,{})}),h.jsx(wo,{path:"/Magnets",element:h.jsx(SA,{})}),h.jsx(wo,{path:"/Photos",element:h.jsx(EA,{})})]})})}function moe(){return h.jsx(k7,{children:h.jsx(poe,{})})}const goe=20,yoe=1e6,Tl={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Mx=0;function voe(){return Mx=(Mx+1)%Number.MAX_VALUE,Mx.toString()}const Ox=new Map,HE=t=>{if(Ox.has(t))return;const e=setTimeout(()=>{Ox.delete(t),xm({type:Tl.REMOVE_TOAST,toastId:t})},yoe);Ox.set(t,e)},xoe=(t,e)=>{switch(e.type){case Tl.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,goe)};case Tl.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Tl.DISMISS_TOAST:{const{toastId:n}=e;return n?HE(n):t.toasts.forEach(r=>{HE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Tl.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ly=[];let cy={toasts:[]};function xm(t){cy=xoe(cy,t),ly.forEach(e=>{e(cy)})}function woe({...t}){const e=voe(),n=s=>xm({type:Tl.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>xm({type:Tl.DISMISS_TOAST,toastId:e});return xm({type:Tl.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _oe(){const[t,e]=b.useState(cy);return b.useEffect(()=>(ly.push(e),()=>{const n=ly.indexOf(e);n>-1&&ly.splice(n,1)}),[t]),{...t,toast:woe,dismiss:n=>xm({type:Tl.DISMISS_TOAST,toastId:n})}}const CA=b.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));CA.displayName="ToastProvider";const TA=b.forwardRef(({...t},e)=>h.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));TA.displayName="ToastViewport";const boe=rg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NA=b.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,className:lt(boe({variant:e}),t),...n}));NA.displayName="Toast";const Soe=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Soe.displayName="ToastAction";const kA=b.forwardRef(({className:t,...e},n)=>h.jsx("button",{ref:n,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Id,{className:"h-4 w-4"})}));kA.displayName="ToastClose";const PA=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("text-sm font-semibold",t),...e}));PA.displayName="ToastTitle";const RA=b.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:lt("text-sm opacity-90",t),...e}));RA.displayName="ToastDescription";function Eoe(){const{toasts:t}=_oe();return h.jsxs(CA,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(NA,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(PA,{children:n}),r&&h.jsx(RA,{children:r})]}),s,h.jsx(kA,{})]},e)}),h.jsx(TA,{})]})}function Coe(){return h.jsxs(h.Fragment,{children:[h.jsx(moe,{}),h.jsx(Eoe,{})]})}aI.createRoot(document.getElementById("root")).render(h.jsx(Coe,{}));
